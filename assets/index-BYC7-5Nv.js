(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))f(m);new MutationObserver(m=>{for(const g of m)if(g.type==="childList")for(const v of g.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&f(v)}).observe(document,{childList:!0,subtree:!0});function i(m){const g={};return m.integrity&&(g.integrity=m.integrity),m.referrerPolicy&&(g.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?g.credentials="include":m.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function f(m){if(m.ep)return;m.ep=!0;const g=i(m);fetch(m.href,g)}})();function Ru(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var fo={exports:{}},es={},mo={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu;function Vf(){if(gu)return Ne;gu=1;var l=Symbol.for("react.element"),c=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.iterator;function A(u){return u===null||typeof u!="object"?null:(u=D&&u[D]||u["@@iterator"],typeof u=="function"?u:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,z={};function R(u,h,x){this.props=u,this.context=h,this.refs=z,this.updater=x||$}R.prototype.isReactComponent={},R.prototype.setState=function(u,h){if(typeof u!="object"&&typeof u!="function"&&u!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,u,h,"setState")},R.prototype.forceUpdate=function(u){this.updater.enqueueForceUpdate(this,u,"forceUpdate")};function Q(){}Q.prototype=R.prototype;function le(u,h,x){this.props=u,this.context=h,this.refs=z,this.updater=x||$}var q=le.prototype=new Q;q.constructor=le,Y(q,R.prototype),q.isPureReactComponent=!0;var O=Array.isArray,te=Object.prototype.hasOwnProperty,fe={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function me(u,h,x){var b,C={},F=null,I=null;if(h!=null)for(b in h.ref!==void 0&&(I=h.ref),h.key!==void 0&&(F=""+h.key),h)te.call(h,b)&&!ee.hasOwnProperty(b)&&(C[b]=h[b]);var H=arguments.length-2;if(H===1)C.children=x;else if(1<H){for(var se=Array(H),pe=0;pe<H;pe++)se[pe]=arguments[pe+2];C.children=se}if(u&&u.defaultProps)for(b in H=u.defaultProps,H)C[b]===void 0&&(C[b]=H[b]);return{$$typeof:l,type:u,key:F,ref:I,props:C,_owner:fe.current}}function Ee(u,h){return{$$typeof:l,type:u.type,key:h,ref:u.ref,props:u.props,_owner:u._owner}}function ne(u){return typeof u=="object"&&u!==null&&u.$$typeof===l}function re(u){var h={"=":"=0",":":"=2"};return"$"+u.replace(/[=:]/g,function(x){return h[x]})}var J=/\/+/g;function ie(u,h){return typeof u=="object"&&u!==null&&u.key!=null?re(""+u.key):h.toString(36)}function be(u,h,x,b,C){var F=typeof u;(F==="undefined"||F==="boolean")&&(u=null);var I=!1;if(u===null)I=!0;else switch(F){case"string":case"number":I=!0;break;case"object":switch(u.$$typeof){case l:case c:I=!0}}if(I)return I=u,C=C(I),u=b===""?"."+ie(I,0):b,O(C)?(x="",u!=null&&(x=u.replace(J,"$&/")+"/"),be(C,h,x,"",function(pe){return pe})):C!=null&&(ne(C)&&(C=Ee(C,x+(!C.key||I&&I.key===C.key?"":(""+C.key).replace(J,"$&/")+"/")+u)),h.push(C)),1;if(I=0,b=b===""?".":b+":",O(u))for(var H=0;H<u.length;H++){F=u[H];var se=b+ie(F,H);I+=be(F,h,x,se,C)}else if(se=A(u),typeof se=="function")for(u=se.call(u),H=0;!(F=u.next()).done;)F=F.value,se=b+ie(F,H++),I+=be(F,h,x,se,C);else if(F==="object")throw h=String(u),Error("Objects are not valid as a React child (found: "+(h==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":h)+"). If you meant to render a collection of children, use an array instead.");return I}function Me(u,h,x){if(u==null)return u;var b=[],C=0;return be(u,b,"","",function(F){return h.call(x,F,C++)}),b}function Se(u){if(u._status===-1){var h=u._result;h=h(),h.then(function(x){(u._status===0||u._status===-1)&&(u._status=1,u._result=x)},function(x){(u._status===0||u._status===-1)&&(u._status=2,u._result=x)}),u._status===-1&&(u._status=0,u._result=h)}if(u._status===1)return u._result.default;throw u._result}var K={current:null},B={transition:null},X={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:B,ReactCurrentOwner:fe};function y(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Me,forEach:function(u,h,x){Me(u,function(){h.apply(this,arguments)},x)},count:function(u){var h=0;return Me(u,function(){h++}),h},toArray:function(u){return Me(u,function(h){return h})||[]},only:function(u){if(!ne(u))throw Error("React.Children.only expected to receive a single React element child.");return u}},Ne.Component=R,Ne.Fragment=i,Ne.Profiler=m,Ne.PureComponent=le,Ne.StrictMode=f,Ne.Suspense=T,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ne.act=y,Ne.cloneElement=function(u,h,x){if(u==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+u+".");var b=Y({},u.props),C=u.key,F=u.ref,I=u._owner;if(h!=null){if(h.ref!==void 0&&(F=h.ref,I=fe.current),h.key!==void 0&&(C=""+h.key),u.type&&u.type.defaultProps)var H=u.type.defaultProps;for(se in h)te.call(h,se)&&!ee.hasOwnProperty(se)&&(b[se]=h[se]===void 0&&H!==void 0?H[se]:h[se])}var se=arguments.length-2;if(se===1)b.children=x;else if(1<se){H=Array(se);for(var pe=0;pe<se;pe++)H[pe]=arguments[pe+2];b.children=H}return{$$typeof:l,type:u.type,key:C,ref:F,props:b,_owner:I}},Ne.createContext=function(u){return u={$$typeof:v,_currentValue:u,_currentValue2:u,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},u.Provider={$$typeof:g,_context:u},u.Consumer=u},Ne.createElement=me,Ne.createFactory=function(u){var h=me.bind(null,u);return h.type=u,h},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(u){return{$$typeof:S,render:u}},Ne.isValidElement=ne,Ne.lazy=function(u){return{$$typeof:N,_payload:{_status:-1,_result:u},_init:Se}},Ne.memo=function(u,h){return{$$typeof:P,type:u,compare:h===void 0?null:h}},Ne.startTransition=function(u){var h=B.transition;B.transition={};try{u()}finally{B.transition=h}},Ne.unstable_act=y,Ne.useCallback=function(u,h){return K.current.useCallback(u,h)},Ne.useContext=function(u){return K.current.useContext(u)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(u){return K.current.useDeferredValue(u)},Ne.useEffect=function(u,h){return K.current.useEffect(u,h)},Ne.useId=function(){return K.current.useId()},Ne.useImperativeHandle=function(u,h,x){return K.current.useImperativeHandle(u,h,x)},Ne.useInsertionEffect=function(u,h){return K.current.useInsertionEffect(u,h)},Ne.useLayoutEffect=function(u,h){return K.current.useLayoutEffect(u,h)},Ne.useMemo=function(u,h){return K.current.useMemo(u,h)},Ne.useReducer=function(u,h,x){return K.current.useReducer(u,h,x)},Ne.useRef=function(u){return K.current.useRef(u)},Ne.useState=function(u){return K.current.useState(u)},Ne.useSyncExternalStore=function(u,h,x){return K.current.useSyncExternalStore(u,h,x)},Ne.useTransition=function(){return K.current.useTransition()},Ne.version="18.3.1",Ne}var yu;function Co(){return yu||(yu=1,mo.exports=Vf()),mo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu;function qf(){if(xu)return es;xu=1;var l=Co(),c=Symbol.for("react.element"),i=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,m=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function v(S,T,P){var N,D={},A=null,$=null;P!==void 0&&(A=""+P),T.key!==void 0&&(A=""+T.key),T.ref!==void 0&&($=T.ref);for(N in T)f.call(T,N)&&!g.hasOwnProperty(N)&&(D[N]=T[N]);if(S&&S.defaultProps)for(N in T=S.defaultProps,T)D[N]===void 0&&(D[N]=T[N]);return{$$typeof:c,type:S,key:A,ref:$,props:D,_owner:m.current}}return es.Fragment=i,es.jsx=v,es.jsxs=v,es}var vu;function Jf(){return vu||(vu=1,fo.exports=qf()),fo.exports}var n=Jf(),w=Co();const ya=Ru(w);var ua={},ho={exports:{}},yt={},po={exports:{}},go={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku;function Kf(){return ku||(ku=1,function(l){function c(B,X){var y=B.length;B.push(X);e:for(;0<y;){var u=y-1>>>1,h=B[u];if(0<m(h,X))B[u]=X,B[y]=h,y=u;else break e}}function i(B){return B.length===0?null:B[0]}function f(B){if(B.length===0)return null;var X=B[0],y=B.pop();if(y!==X){B[0]=y;e:for(var u=0,h=B.length,x=h>>>1;u<x;){var b=2*(u+1)-1,C=B[b],F=b+1,I=B[F];if(0>m(C,y))F<h&&0>m(I,C)?(B[u]=I,B[F]=y,u=F):(B[u]=C,B[b]=y,u=b);else if(F<h&&0>m(I,y))B[u]=I,B[F]=y,u=F;else break e}}return X}function m(B,X){var y=B.sortIndex-X.sortIndex;return y!==0?y:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;l.unstable_now=function(){return g.now()}}else{var v=Date,S=v.now();l.unstable_now=function(){return v.now()-S}}var T=[],P=[],N=1,D=null,A=3,$=!1,Y=!1,z=!1,R=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(B){for(var X=i(P);X!==null;){if(X.callback===null)f(P);else if(X.startTime<=B)f(P),X.sortIndex=X.expirationTime,c(T,X);else break;X=i(P)}}function O(B){if(z=!1,q(B),!Y)if(i(T)!==null)Y=!0,Se(te);else{var X=i(P);X!==null&&K(O,X.startTime-B)}}function te(B,X){Y=!1,z&&(z=!1,Q(me),me=-1),$=!0;var y=A;try{for(q(X),D=i(T);D!==null&&(!(D.expirationTime>X)||B&&!re());){var u=D.callback;if(typeof u=="function"){D.callback=null,A=D.priorityLevel;var h=u(D.expirationTime<=X);X=l.unstable_now(),typeof h=="function"?D.callback=h:D===i(T)&&f(T),q(X)}else f(T);D=i(T)}if(D!==null)var x=!0;else{var b=i(P);b!==null&&K(O,b.startTime-X),x=!1}return x}finally{D=null,A=y,$=!1}}var fe=!1,ee=null,me=-1,Ee=5,ne=-1;function re(){return!(l.unstable_now()-ne<Ee)}function J(){if(ee!==null){var B=l.unstable_now();ne=B;var X=!0;try{X=ee(!0,B)}finally{X?ie():(fe=!1,ee=null)}}else fe=!1}var ie;if(typeof le=="function")ie=function(){le(J)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Me=be.port2;be.port1.onmessage=J,ie=function(){Me.postMessage(null)}}else ie=function(){R(J,0)};function Se(B){ee=B,fe||(fe=!0,ie())}function K(B,X){me=R(function(){B(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_continueExecution=function(){Y||$||(Y=!0,Se(te))},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return A},l.unstable_getFirstCallbackNode=function(){return i(T)},l.unstable_next=function(B){switch(A){case 1:case 2:case 3:var X=3;break;default:X=A}var y=A;A=X;try{return B()}finally{A=y}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var y=A;A=B;try{return X()}finally{A=y}},l.unstable_scheduleCallback=function(B,X,y){var u=l.unstable_now();switch(typeof y=="object"&&y!==null?(y=y.delay,y=typeof y=="number"&&0<y?u+y:u):y=u,B){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return h=y+h,B={id:N++,callback:X,priorityLevel:B,startTime:y,expirationTime:h,sortIndex:-1},y>u?(B.sortIndex=y,c(P,B),i(T)===null&&B===i(P)&&(z?(Q(me),me=-1):z=!0,K(O,y-u))):(B.sortIndex=h,c(T,B),Y||$||(Y=!0,Se(te))),B},l.unstable_shouldYield=re,l.unstable_wrapCallback=function(B){var X=A;return function(){var y=A;A=X;try{return B.apply(this,arguments)}finally{A=y}}}}(go)),go}var wu;function Gf(){return wu||(wu=1,po.exports=Kf()),po.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju;function Yf(){if(ju)return yt;ju=1;var l=Co(),c=Gf();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,m={};function g(e,t){v(e,t),v(e+"Capture",t)}function v(e,t){for(m[e]=t,e=0;e<t.length;e++)f.add(t[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T=Object.prototype.hasOwnProperty,P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},D={};function A(e){return T.call(D,e)?!0:T.call(N,e)?!1:P.test(e)?D[e]=!0:(N[e]=!0,!1)}function $(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y(e,t,r,s){if(t===null||typeof t>"u"||$(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function z(e,t,r,s,a,o,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=d}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new z(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new z(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function le(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Q,le);R[t]=new z(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Q,le);R[t]=new z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Q,le);R[t]=new z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new z(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new z(e,1,!1,e.toLowerCase(),null,!0,!0)});function q(e,t,r,s){var a=R.hasOwnProperty(t)?R[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y(t,r,a,s)&&(r=null),s||a===null?A(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var O=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),fe=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),re=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),B=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var y=Object.assign,u;function h(e){if(u===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);u=t&&t[1]||""}return`
`+u+e}var x=!1;function b(e,t){if(!e||x)return"";x=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var s=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){s=_}e.call(t.prototype)}else{try{throw Error()}catch(_){s=_}e()}}catch(_){if(_&&s&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),o=s.stack.split(`
`),d=a.length-1,p=o.length-1;1<=d&&0<=p&&a[d]!==o[p];)p--;for(;1<=d&&0<=p;d--,p--)if(a[d]!==o[p]){if(d!==1||p!==1)do if(d--,p--,0>p||a[d]!==o[p]){var k=`
`+a[d].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=d&&0<=p);break}}}finally{x=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?h(e):""}function C(e){switch(e.tag){case 5:return h(e.type);case 16:return h("Lazy");case 13:return h("Suspense");case 19:return h("SuspenseList");case 0:case 2:case 15:return e=b(e.type,!1),e;case 11:return e=b(e.type.render,!1),e;case 1:return e=b(e.type,!0),e;default:return""}}function F(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case fe:return"Portal";case Ee:return"Profiler";case me:return"StrictMode";case ie:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case re:return(e.displayName||"Context")+".Consumer";case ne:return(e._context.displayName||"Context")+".Provider";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Me:return t=e.displayName||null,t!==null?t:F(e.type)||"Memo";case Se:t=e._payload,e=e._init;try{return F(e(t))}catch{}}return null}function I(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pe(e){var t=se(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){s=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ce(e){e._valueTracker||(e._valueTracker=pe(e))}function je(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=se(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function De(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ge(e,t){var r=t.checked;return y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function He(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=H(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Le(e,t){t=t.checked,t!=null&&q(e,"checked",t,!1)}function Xe(e,t){Le(e,t);var r=H(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vt(e,t.type,r):t.hasOwnProperty("defaultValue")&&vt(e,t.type,H(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vt(e,t,r){(t!=="number"||De(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Je=Array.isArray;function ke(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ce(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _e(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(Je(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function Te(e,t){var r=H(t.value),s=H(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Qe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $t(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Br(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$t(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hr,yn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function or(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ja=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(e){ja.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gt[t]=Gt[e]})});function rs(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gt.hasOwnProperty(e)&&Gt[e]?(""+t).trim():t+"px"}function Po(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=rs(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var Gu=y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(e,t){if(t){if(Gu[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Na(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=null;function Ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ea=null,Qr=null,Wr=null;function Ro(e){if(e=Ln(e)){if(typeof Ea!="function")throw Error(i(280));var t=e.stateNode;t&&(t=bs(t),Ea(e.stateNode,e.type,t))}}function _o(e){Qr?Wr?Wr.push(e):Wr=[e]:Qr=e}function Ao(){if(Qr){var e=Qr,t=Wr;if(Wr=Qr=null,Ro(e),t)for(e=0;e<t.length;e++)Ro(t[e])}}function Fo(e,t){return e(t)}function Oo(){}var Da=!1;function zo(e,t,r){if(Da)return e(t,r);Da=!0;try{return Fo(e,t,r)}finally{Da=!1,(Qr!==null||Wr!==null)&&(Oo(),Ao())}}function xn(e,t){var r=e.stateNode;if(r===null)return null;var s=bs(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var Ta=!1;if(S)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Ta=!1}function Yu(e,t,r,s,a,o,d,p,k){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(V){this.onError(V)}}var kn=!1,ns=null,ss=!1,Ma=null,Xu={onError:function(e){kn=!0,ns=e}};function Zu(e,t,r,s,a,o,d,p,k){kn=!1,ns=null,Yu.apply(Xu,arguments)}function ed(e,t,r,s,a,o,d,p,k){if(Zu.apply(this,arguments),kn){if(kn){var _=ns;kn=!1,ns=null}else throw Error(i(198));ss||(ss=!0,Ma=_)}}function Dr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Lo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uo(e){if(Dr(e)!==e)throw Error(i(188))}function td(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Uo(a),e;if(o===s)return Uo(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==s.return)r=a,s=o;else{for(var d=!1,p=a.child;p;){if(p===r){d=!0,r=a,s=o;break}if(p===s){d=!0,s=a,r=o;break}p=p.sibling}if(!d){for(p=o.child;p;){if(p===r){d=!0,r=o,s=a;break}if(p===s){d=!0,s=o,r=a;break}p=p.sibling}if(!d)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function $o(e){return e=td(e),e!==null?Bo(e):null}function Bo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bo(e);if(t!==null)return t;e=e.sibling}return null}var Ho=c.unstable_scheduleCallback,Qo=c.unstable_cancelCallback,rd=c.unstable_shouldYield,nd=c.unstable_requestPaint,We=c.unstable_now,sd=c.unstable_getCurrentPriorityLevel,Ia=c.unstable_ImmediatePriority,Wo=c.unstable_UserBlockingPriority,as=c.unstable_NormalPriority,ad=c.unstable_LowPriority,Vo=c.unstable_IdlePriority,ls=null,Bt=null;function ld(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ls,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:cd,od=Math.log,id=Math.LN2;function cd(e){return e>>>=0,e===0?32:31-(od(e)/id|0)|0}var os=64,is=4194304;function wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,o=e.pingedLanes,d=r&268435455;if(d!==0){var p=d&~a;p!==0?s=wn(p):(o&=d,o!==0&&(s=wn(o)))}else d=r&~a,d!==0?s=wn(d):o!==0&&(s=wn(o));if(s===0)return 0;if(t!==0&&t!==s&&(t&a)===0&&(a=s&-s,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Rt(t),a=1<<r,s|=e[r],t&=~a;return s}function ud(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dd(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-Rt(o),p=1<<d,k=a[d];k===-1?((p&r)===0||(p&s)!==0)&&(a[d]=ud(p,t)):k<=t&&(e.expiredLanes|=p),o&=~p}}function Pa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qo(){var e=os;return os<<=1,(os&4194240)===0&&(os=64),e}function Ra(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=r}function fd(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Rt(r),o=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~o}}function _a(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Rt(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Re=0;function Jo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ko,Aa,Go,Yo,Xo,Fa=!1,us=[],ir=null,cr=null,ur=null,Sn=new Map,Nn=new Map,dr=[],md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zo(e,t){switch(e){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Sn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(t.pointerId)}}function bn(e,t,r,s,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Ln(t),t!==null&&Aa(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hd(e,t,r,s,a){switch(t){case"focusin":return ir=bn(ir,e,t,r,s,a),!0;case"dragenter":return cr=bn(cr,e,t,r,s,a),!0;case"mouseover":return ur=bn(ur,e,t,r,s,a),!0;case"pointerover":var o=a.pointerId;return Sn.set(o,bn(Sn.get(o)||null,e,t,r,s,a)),!0;case"gotpointercapture":return o=a.pointerId,Nn.set(o,bn(Nn.get(o)||null,e,t,r,s,a)),!0}return!1}function ei(e){var t=Tr(e.target);if(t!==null){var r=Dr(t);if(r!==null){if(t=r.tag,t===13){if(t=Lo(r),t!==null){e.blockedOn=t,Xo(e.priority,function(){Go(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=za(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);ba=s,r.target.dispatchEvent(s),ba=null}else return t=Ln(r),t!==null&&Aa(t),e.blockedOn=r,!1;t.shift()}return!0}function ti(e,t,r){ds(e)&&r.delete(t)}function pd(){Fa=!1,ir!==null&&ds(ir)&&(ir=null),cr!==null&&ds(cr)&&(cr=null),ur!==null&&ds(ur)&&(ur=null),Sn.forEach(ti),Nn.forEach(ti)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,Fa||(Fa=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,pd)))}function En(e){function t(a){return Cn(a,e)}if(0<us.length){Cn(us[0],e);for(var r=1;r<us.length;r++){var s=us[r];s.blockedOn===e&&(s.blockedOn=null)}}for(ir!==null&&Cn(ir,e),cr!==null&&Cn(cr,e),ur!==null&&Cn(ur,e),Sn.forEach(t),Nn.forEach(t),r=0;r<dr.length;r++)s=dr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<dr.length&&(r=dr[0],r.blockedOn===null);)ei(r),r.blockedOn===null&&dr.shift()}var Vr=O.ReactCurrentBatchConfig,fs=!0;function gd(e,t,r,s){var a=Re,o=Vr.transition;Vr.transition=null;try{Re=1,Oa(e,t,r,s)}finally{Re=a,Vr.transition=o}}function yd(e,t,r,s){var a=Re,o=Vr.transition;Vr.transition=null;try{Re=4,Oa(e,t,r,s)}finally{Re=a,Vr.transition=o}}function Oa(e,t,r,s){if(fs){var a=za(e,t,r,s);if(a===null)tl(e,t,s,ms,r),Zo(e,s);else if(hd(a,e,t,r,s))s.stopPropagation();else if(Zo(e,s),t&4&&-1<md.indexOf(e)){for(;a!==null;){var o=Ln(a);if(o!==null&&Ko(o),o=za(e,t,r,s),o===null&&tl(e,t,s,ms,r),o===a)break;a=o}a!==null&&s.stopPropagation()}else tl(e,t,s,null,r)}}var ms=null;function za(e,t,r,s){if(ms=null,e=Ca(s),e=Tr(e),e!==null)if(t=Dr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Lo(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ms=e,null}function ri(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sd()){case Ia:return 1;case Wo:return 4;case as:case ad:return 16;case Vo:return 536870912;default:return 16}default:return 16}}var fr=null,La=null,hs=null;function ni(){if(hs)return hs;var e,t=La,r=t.length,s,a="value"in fr?fr.value:fr.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var d=r-e;for(s=1;s<=d&&t[r-s]===a[o-s];s++);return hs=a.slice(e,1<s?1-s:void 0)}function ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function si(){return!1}function kt(e){function t(r,s,a,o,d){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gs:si,this.isPropagationStopped=si,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=kt(qr),Dn=y({},qr,{view:0,detail:0}),xd=kt(Dn),$a,Ba,Tn,ys=y({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?($a=e.screenX-Tn.screenX,Ba=e.screenY-Tn.screenY):Ba=$a=0,Tn=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:Ba}}),ai=kt(ys),vd=y({},ys,{dataTransfer:0}),kd=kt(vd),wd=y({},Dn,{relatedTarget:0}),Ha=kt(wd),jd=y({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sd=kt(jd),Nd=y({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bd=kt(Nd),Cd=y({},qr,{data:0}),li=kt(Cd),Ed={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Td[e])?!!t[e]:!1}function Qa(){return Md}var Id=y({},Dn,{key:function(e){if(e.key){var t=Ed[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pd=kt(Id),Rd=y({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oi=kt(Rd),_d=y({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),Ad=kt(_d),Fd=y({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Od=kt(Fd),zd=y({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ld=kt(zd),Ud=[9,13,27,32],Wa=S&&"CompositionEvent"in window,Mn=null;S&&"documentMode"in document&&(Mn=document.documentMode);var $d=S&&"TextEvent"in window&&!Mn,ii=S&&(!Wa||Mn&&8<Mn&&11>=Mn),ci=" ",ui=!1;function di(e,t){switch(e){case"keyup":return Ud.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Bd(e,t){switch(e){case"compositionend":return fi(t);case"keypress":return t.which!==32?null:(ui=!0,ci);case"textInput":return e=t.data,e===ci&&ui?null:e;default:return null}}function Hd(e,t){if(Jr)return e==="compositionend"||!Wa&&di(e,t)?(e=ni(),hs=La=fr=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ii&&t.locale!=="ko"?null:t.data;default:return null}}var Qd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qd[e.type]:t==="textarea"}function hi(e,t,r,s){_o(s),t=js(t,"onChange"),0<t.length&&(r=new Ua("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var In=null,Pn=null;function Wd(e){Pi(e,0)}function xs(e){var t=Zr(e);if(je(t))return e}function Vd(e,t){if(e==="change")return t}var pi=!1;if(S){var Va;if(S){var qa="oninput"in document;if(!qa){var gi=document.createElement("div");gi.setAttribute("oninput","return;"),qa=typeof gi.oninput=="function"}Va=qa}else Va=!1;pi=Va&&(!document.documentMode||9<document.documentMode)}function yi(){In&&(In.detachEvent("onpropertychange",xi),Pn=In=null)}function xi(e){if(e.propertyName==="value"&&xs(Pn)){var t=[];hi(t,Pn,e,Ca(e)),zo(Wd,t)}}function qd(e,t,r){e==="focusin"?(yi(),In=t,Pn=r,In.attachEvent("onpropertychange",xi)):e==="focusout"&&yi()}function Jd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xs(Pn)}function Kd(e,t){if(e==="click")return xs(t)}function Gd(e,t){if(e==="input"||e==="change")return xs(t)}function Yd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Yd;function Rn(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!T.call(t,a)||!_t(e[a],t[a]))return!1}return!0}function vi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ki(e,t){var r=vi(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vi(r)}}function wi(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wi(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ji(){for(var e=window,t=De();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=De(e.document)}return t}function Ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xd(e){var t=ji(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wi(r.ownerDocument.documentElement,r)){if(s!==null&&Ja(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(s.start,a);s=s.end===void 0?o:Math.min(s.end,a),!e.extend&&o>s&&(a=s,s=o,o=a),a=ki(r,o);var d=ki(r,s);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zd=S&&"documentMode"in document&&11>=document.documentMode,Kr=null,Ka=null,_n=null,Ga=!1;function Si(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ga||Kr==null||Kr!==De(s)||(s=Kr,"selectionStart"in s&&Ja(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_n&&Rn(_n,s)||(_n=s,s=js(Ka,"onSelect"),0<s.length&&(t=new Ua("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Kr)))}function vs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gr={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Ya={},Ni={};S&&(Ni=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function ks(e){if(Ya[e])return Ya[e];if(!Gr[e])return e;var t=Gr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ni)return Ya[e]=t[r];return e}var bi=ks("animationend"),Ci=ks("animationiteration"),Ei=ks("animationstart"),Di=ks("transitionend"),Ti=new Map,Mi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){Ti.set(e,t),g(t,[e])}for(var Xa=0;Xa<Mi.length;Xa++){var Za=Mi[Xa],ef=Za.toLowerCase(),tf=Za[0].toUpperCase()+Za.slice(1);mr(ef,"on"+tf)}mr(bi,"onAnimationEnd"),mr(Ci,"onAnimationIteration"),mr(Ei,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(Di,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var An="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rf=new Set("cancel close invalid load scroll toggle".split(" ").concat(An));function Ii(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,ed(s,t,void 0,e),e.currentTarget=null}function Pi(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var d=s.length-1;0<=d;d--){var p=s[d],k=p.instance,_=p.currentTarget;if(p=p.listener,k!==o&&a.isPropagationStopped())break e;Ii(a,p,_),o=k}else for(d=0;d<s.length;d++){if(p=s[d],k=p.instance,_=p.currentTarget,p=p.listener,k!==o&&a.isPropagationStopped())break e;Ii(a,p,_),o=k}}}if(ss)throw e=Ma,ss=!1,Ma=null,e}function Fe(e,t){var r=t[ol];r===void 0&&(r=t[ol]=new Set);var s=e+"__bubble";r.has(s)||(Ri(t,e,2,!1),r.add(s))}function el(e,t,r){var s=0;t&&(s|=4),Ri(r,e,s,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Fn(e){if(!e[ws]){e[ws]=!0,f.forEach(function(r){r!=="selectionchange"&&(rf.has(r)||el(r,!1,e),el(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,el("selectionchange",!1,t))}}function Ri(e,t,r,s){switch(ri(t)){case 1:var a=gd;break;case 4:a=yd;break;default:a=Oa}r=a.bind(null,t,r,e),a=void 0,!Ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function tl(e,t,r,s,a){var o=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var p=s.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(d===4)for(d=s.return;d!==null;){var k=d.tag;if((k===3||k===4)&&(k=d.stateNode.containerInfo,k===a||k.nodeType===8&&k.parentNode===a))return;d=d.return}for(;p!==null;){if(d=Tr(p),d===null)return;if(k=d.tag,k===5||k===6){s=o=d;continue e}p=p.parentNode}}s=s.return}zo(function(){var _=o,V=Ca(r),G=[];e:{var W=Ti.get(e);if(W!==void 0){var ae=Ua,ue=e;switch(e){case"keypress":if(ps(r)===0)break e;case"keydown":case"keyup":ae=Pd;break;case"focusin":ue="focus",ae=Ha;break;case"focusout":ue="blur",ae=Ha;break;case"beforeblur":case"afterblur":ae=Ha;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Ad;break;case bi:case Ci:case Ei:ae=Sd;break;case Di:ae=Od;break;case"scroll":ae=xd;break;case"wheel":ae=Ld;break;case"copy":case"cut":case"paste":ae=bd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=oi}var de=(t&4)!==0,Ve=!de&&e==="scroll",E=de?W!==null?W+"Capture":null:W;de=[];for(var j=_,M;j!==null;){M=j;var Z=M.stateNode;if(M.tag===5&&Z!==null&&(M=Z,E!==null&&(Z=xn(j,E),Z!=null&&de.push(On(j,Z,M)))),Ve)break;j=j.return}0<de.length&&(W=new ae(W,ue,null,r,V),G.push({event:W,listeners:de}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",W&&r!==ba&&(ue=r.relatedTarget||r.fromElement)&&(Tr(ue)||ue[Yt]))break e;if((ae||W)&&(W=V.window===V?V:(W=V.ownerDocument)?W.defaultView||W.parentWindow:window,ae?(ue=r.relatedTarget||r.toElement,ae=_,ue=ue?Tr(ue):null,ue!==null&&(Ve=Dr(ue),ue!==Ve||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ae=null,ue=_),ae!==ue)){if(de=ai,Z="onMouseLeave",E="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(de=oi,Z="onPointerLeave",E="onPointerEnter",j="pointer"),Ve=ae==null?W:Zr(ae),M=ue==null?W:Zr(ue),W=new de(Z,j+"leave",ae,r,V),W.target=Ve,W.relatedTarget=M,Z=null,Tr(V)===_&&(de=new de(E,j+"enter",ue,r,V),de.target=M,de.relatedTarget=Ve,Z=de),Ve=Z,ae&&ue)t:{for(de=ae,E=ue,j=0,M=de;M;M=Yr(M))j++;for(M=0,Z=E;Z;Z=Yr(Z))M++;for(;0<j-M;)de=Yr(de),j--;for(;0<M-j;)E=Yr(E),M--;for(;j--;){if(de===E||E!==null&&de===E.alternate)break t;de=Yr(de),E=Yr(E)}de=null}else de=null;ae!==null&&_i(G,W,ae,de,!1),ue!==null&&Ve!==null&&_i(G,Ve,ue,de,!0)}}e:{if(W=_?Zr(_):window,ae=W.nodeName&&W.nodeName.toLowerCase(),ae==="select"||ae==="input"&&W.type==="file")var he=Vd;else if(mi(W))if(pi)he=Gd;else{he=Jd;var ye=qd}else(ae=W.nodeName)&&ae.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(he=Kd);if(he&&(he=he(e,_))){hi(G,he,r,V);break e}ye&&ye(e,W,_),e==="focusout"&&(ye=W._wrapperState)&&ye.controlled&&W.type==="number"&&vt(W,"number",W.value)}switch(ye=_?Zr(_):window,e){case"focusin":(mi(ye)||ye.contentEditable==="true")&&(Kr=ye,Ka=_,_n=null);break;case"focusout":_n=Ka=Kr=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,Si(G,r,V);break;case"selectionchange":if(Zd)break;case"keydown":case"keyup":Si(G,r,V)}var xe;if(Wa)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Jr?di(e,r)&&(we="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(we="onCompositionStart");we&&(ii&&r.locale!=="ko"&&(Jr||we!=="onCompositionStart"?we==="onCompositionEnd"&&Jr&&(xe=ni()):(fr=V,La="value"in fr?fr.value:fr.textContent,Jr=!0)),ye=js(_,we),0<ye.length&&(we=new li(we,e,null,r,V),G.push({event:we,listeners:ye}),xe?we.data=xe:(xe=fi(r),xe!==null&&(we.data=xe)))),(xe=$d?Bd(e,r):Hd(e,r))&&(_=js(_,"onBeforeInput"),0<_.length&&(V=new li("onBeforeInput","beforeinput",null,r,V),G.push({event:V,listeners:_}),V.data=xe))}Pi(G,t)})}function On(e,t,r){return{instance:e,listener:t,currentTarget:r}}function js(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=xn(e,r),o!=null&&s.unshift(On(e,o,a)),o=xn(e,t),o!=null&&s.push(On(e,o,a))),e=e.return}return s}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _i(e,t,r,s,a){for(var o=t._reactName,d=[];r!==null&&r!==s;){var p=r,k=p.alternate,_=p.stateNode;if(k!==null&&k===s)break;p.tag===5&&_!==null&&(p=_,a?(k=xn(r,o),k!=null&&d.unshift(On(r,k,p))):a||(k=xn(r,o),k!=null&&d.push(On(r,k,p)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var nf=/\r\n?/g,sf=/\u0000|\uFFFD/g;function Ai(e){return(typeof e=="string"?e:""+e).replace(nf,`
`).replace(sf,"")}function Ss(e,t,r){if(t=Ai(t),Ai(e)!==t&&r)throw Error(i(425))}function Ns(){}var rl=null,nl=null;function sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var al=typeof setTimeout=="function"?setTimeout:void 0,af=typeof clearTimeout=="function"?clearTimeout:void 0,Fi=typeof Promise=="function"?Promise:void 0,lf=typeof queueMicrotask=="function"?queueMicrotask:typeof Fi<"u"?function(e){return Fi.resolve(null).then(e).catch(of)}:al;function of(e){setTimeout(function(){throw e})}function ll(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),En(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);En(t)}function hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Xr,zn="__reactProps$"+Xr,Yt="__reactContainer$"+Xr,ol="__reactEvents$"+Xr,cf="__reactListeners$"+Xr,uf="__reactHandles$"+Xr;function Tr(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yt]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Oi(e);e!==null;){if(r=e[Ht])return r;e=Oi(e)}return t}e=r,r=e.parentNode}return null}function Ln(e){return e=e[Ht]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function bs(e){return e[zn]||null}var il=[],en=-1;function pr(e){return{current:e}}function Oe(e){0>en||(e.current=il[en],il[en]=null,en--)}function Ae(e,t){en++,il[en]=e.current,e.current=t}var gr={},st=pr(gr),ft=pr(!1),Mr=gr;function tn(e,t){var r=e.type.contextTypes;if(!r)return gr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mt(e){return e=e.childContextTypes,e!=null}function Cs(){Oe(ft),Oe(st)}function zi(e,t,r){if(st.current!==gr)throw Error(i(168));Ae(st,t),Ae(ft,r)}function Li(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(i(108,I(e)||"Unknown",a));return y({},r,s)}function Es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gr,Mr=st.current,Ae(st,e),Ae(ft,ft.current),!0}function Ui(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Li(e,t,Mr),s.__reactInternalMemoizedMergedChildContext=e,Oe(ft),Oe(st),Ae(st,e)):Oe(ft),Ae(ft,r)}var Xt=null,Ds=!1,cl=!1;function $i(e){Xt===null?Xt=[e]:Xt.push(e)}function df(e){Ds=!0,$i(e)}function yr(){if(!cl&&Xt!==null){cl=!0;var e=0,t=Re;try{var r=Xt;for(Re=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Xt=null,Ds=!1}catch(a){throw Xt!==null&&(Xt=Xt.slice(e+1)),Ho(Ia,yr),a}finally{Re=t,cl=!1}}return null}var rn=[],nn=0,Ts=null,Ms=0,bt=[],Ct=0,Ir=null,Zt=1,er="";function Pr(e,t){rn[nn++]=Ms,rn[nn++]=Ts,Ts=e,Ms=t}function Bi(e,t,r){bt[Ct++]=Zt,bt[Ct++]=er,bt[Ct++]=Ir,Ir=e;var s=Zt;e=er;var a=32-Rt(s)-1;s&=~(1<<a),r+=1;var o=32-Rt(t)+a;if(30<o){var d=a-a%5;o=(s&(1<<d)-1).toString(32),s>>=d,a-=d,Zt=1<<32-Rt(t)+a|r<<a|s,er=o+e}else Zt=1<<o|r<<a|s,er=e}function ul(e){e.return!==null&&(Pr(e,1),Bi(e,1,0))}function dl(e){for(;e===Ts;)Ts=rn[--nn],rn[nn]=null,Ms=rn[--nn],rn[nn]=null;for(;e===Ir;)Ir=bt[--Ct],bt[Ct]=null,er=bt[--Ct],bt[Ct]=null,Zt=bt[--Ct],bt[Ct]=null}var wt=null,jt=null,ze=!1,At=null;function Hi(e,t){var r=Mt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qi(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,jt=hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ir!==null?{id:Zt,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wt=e,jt=null,!0):!1;default:return!1}}function fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ml(e){if(ze){var t=jt;if(t){var r=t;if(!Qi(e,t)){if(fl(e))throw Error(i(418));t=hr(r.nextSibling);var s=wt;t&&Qi(e,t)?Hi(s,r):(e.flags=e.flags&-4097|2,ze=!1,wt=e)}}else{if(fl(e))throw Error(i(418));e.flags=e.flags&-4097|2,ze=!1,wt=e}}}function Wi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Is(e){if(e!==wt)return!1;if(!ze)return Wi(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sl(e.type,e.memoizedProps)),t&&(t=jt)){if(fl(e))throw Vi(),Error(i(418));for(;t;)Hi(e,t),t=hr(t.nextSibling)}if(Wi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jt=hr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=wt?hr(e.stateNode.nextSibling):null;return!0}function Vi(){for(var e=jt;e;)e=hr(e.nextSibling)}function sn(){jt=wt=null,ze=!1}function hl(e){At===null?At=[e]:At.push(e)}var ff=O.ReactCurrentBatchConfig;function Un(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var a=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(d){var p=a.refs;d===null?delete p[o]:p[o]=d},t._stringRef=o,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Ps(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qi(e){var t=e._init;return t(e._payload)}function Ji(e){function t(E,j){if(e){var M=E.deletions;M===null?(E.deletions=[j],E.flags|=16):M.push(j)}}function r(E,j){if(!e)return null;for(;j!==null;)t(E,j),j=j.sibling;return null}function s(E,j){for(E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function a(E,j){return E=br(E,j),E.index=0,E.sibling=null,E}function o(E,j,M){return E.index=M,e?(M=E.alternate,M!==null?(M=M.index,M<j?(E.flags|=2,j):M):(E.flags|=2,j)):(E.flags|=1048576,j)}function d(E){return e&&E.alternate===null&&(E.flags|=2),E}function p(E,j,M,Z){return j===null||j.tag!==6?(j=ao(M,E.mode,Z),j.return=E,j):(j=a(j,M),j.return=E,j)}function k(E,j,M,Z){var he=M.type;return he===ee?V(E,j,M.props.children,Z,M.key):j!==null&&(j.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Se&&qi(he)===j.type)?(Z=a(j,M.props),Z.ref=Un(E,j,M),Z.return=E,Z):(Z=ra(M.type,M.key,M.props,null,E.mode,Z),Z.ref=Un(E,j,M),Z.return=E,Z)}function _(E,j,M,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==M.containerInfo||j.stateNode.implementation!==M.implementation?(j=lo(M,E.mode,Z),j.return=E,j):(j=a(j,M.children||[]),j.return=E,j)}function V(E,j,M,Z,he){return j===null||j.tag!==7?(j=Ur(M,E.mode,Z,he),j.return=E,j):(j=a(j,M),j.return=E,j)}function G(E,j,M){if(typeof j=="string"&&j!==""||typeof j=="number")return j=ao(""+j,E.mode,M),j.return=E,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case te:return M=ra(j.type,j.key,j.props,null,E.mode,M),M.ref=Un(E,null,j),M.return=E,M;case fe:return j=lo(j,E.mode,M),j.return=E,j;case Se:var Z=j._init;return G(E,Z(j._payload),M)}if(Je(j)||X(j))return j=Ur(j,E.mode,M,null),j.return=E,j;Ps(E,j)}return null}function W(E,j,M,Z){var he=j!==null?j.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return he!==null?null:p(E,j,""+M,Z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case te:return M.key===he?k(E,j,M,Z):null;case fe:return M.key===he?_(E,j,M,Z):null;case Se:return he=M._init,W(E,j,he(M._payload),Z)}if(Je(M)||X(M))return he!==null?null:V(E,j,M,Z,null);Ps(E,M)}return null}function ae(E,j,M,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return E=E.get(M)||null,p(j,E,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case te:return E=E.get(Z.key===null?M:Z.key)||null,k(j,E,Z,he);case fe:return E=E.get(Z.key===null?M:Z.key)||null,_(j,E,Z,he);case Se:var ye=Z._init;return ae(E,j,M,ye(Z._payload),he)}if(Je(Z)||X(Z))return E=E.get(M)||null,V(j,E,Z,he,null);Ps(j,Z)}return null}function ue(E,j,M,Z){for(var he=null,ye=null,xe=j,we=j=0,tt=null;xe!==null&&we<M.length;we++){xe.index>we?(tt=xe,xe=null):tt=xe.sibling;var Pe=W(E,xe,M[we],Z);if(Pe===null){xe===null&&(xe=tt);break}e&&xe&&Pe.alternate===null&&t(E,xe),j=o(Pe,j,we),ye===null?he=Pe:ye.sibling=Pe,ye=Pe,xe=tt}if(we===M.length)return r(E,xe),ze&&Pr(E,we),he;if(xe===null){for(;we<M.length;we++)xe=G(E,M[we],Z),xe!==null&&(j=o(xe,j,we),ye===null?he=xe:ye.sibling=xe,ye=xe);return ze&&Pr(E,we),he}for(xe=s(E,xe);we<M.length;we++)tt=ae(xe,E,we,M[we],Z),tt!==null&&(e&&tt.alternate!==null&&xe.delete(tt.key===null?we:tt.key),j=o(tt,j,we),ye===null?he=tt:ye.sibling=tt,ye=tt);return e&&xe.forEach(function(Cr){return t(E,Cr)}),ze&&Pr(E,we),he}function de(E,j,M,Z){var he=X(M);if(typeof he!="function")throw Error(i(150));if(M=he.call(M),M==null)throw Error(i(151));for(var ye=he=null,xe=j,we=j=0,tt=null,Pe=M.next();xe!==null&&!Pe.done;we++,Pe=M.next()){xe.index>we?(tt=xe,xe=null):tt=xe.sibling;var Cr=W(E,xe,Pe.value,Z);if(Cr===null){xe===null&&(xe=tt);break}e&&xe&&Cr.alternate===null&&t(E,xe),j=o(Cr,j,we),ye===null?he=Cr:ye.sibling=Cr,ye=Cr,xe=tt}if(Pe.done)return r(E,xe),ze&&Pr(E,we),he;if(xe===null){for(;!Pe.done;we++,Pe=M.next())Pe=G(E,Pe.value,Z),Pe!==null&&(j=o(Pe,j,we),ye===null?he=Pe:ye.sibling=Pe,ye=Pe);return ze&&Pr(E,we),he}for(xe=s(E,xe);!Pe.done;we++,Pe=M.next())Pe=ae(xe,E,we,Pe.value,Z),Pe!==null&&(e&&Pe.alternate!==null&&xe.delete(Pe.key===null?we:Pe.key),j=o(Pe,j,we),ye===null?he=Pe:ye.sibling=Pe,ye=Pe);return e&&xe.forEach(function(Wf){return t(E,Wf)}),ze&&Pr(E,we),he}function Ve(E,j,M,Z){if(typeof M=="object"&&M!==null&&M.type===ee&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case te:e:{for(var he=M.key,ye=j;ye!==null;){if(ye.key===he){if(he=M.type,he===ee){if(ye.tag===7){r(E,ye.sibling),j=a(ye,M.props.children),j.return=E,E=j;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Se&&qi(he)===ye.type){r(E,ye.sibling),j=a(ye,M.props),j.ref=Un(E,ye,M),j.return=E,E=j;break e}r(E,ye);break}else t(E,ye);ye=ye.sibling}M.type===ee?(j=Ur(M.props.children,E.mode,Z,M.key),j.return=E,E=j):(Z=ra(M.type,M.key,M.props,null,E.mode,Z),Z.ref=Un(E,j,M),Z.return=E,E=Z)}return d(E);case fe:e:{for(ye=M.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===M.containerInfo&&j.stateNode.implementation===M.implementation){r(E,j.sibling),j=a(j,M.children||[]),j.return=E,E=j;break e}else{r(E,j);break}else t(E,j);j=j.sibling}j=lo(M,E.mode,Z),j.return=E,E=j}return d(E);case Se:return ye=M._init,Ve(E,j,ye(M._payload),Z)}if(Je(M))return ue(E,j,M,Z);if(X(M))return de(E,j,M,Z);Ps(E,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,j!==null&&j.tag===6?(r(E,j.sibling),j=a(j,M),j.return=E,E=j):(r(E,j),j=ao(M,E.mode,Z),j.return=E,E=j),d(E)):r(E,j)}return Ve}var an=Ji(!0),Ki=Ji(!1),Rs=pr(null),_s=null,ln=null,pl=null;function gl(){pl=ln=_s=null}function yl(e){var t=Rs.current;Oe(Rs),e._currentValue=t}function xl(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function on(e,t){_s=e,pl=ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ht=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(pl!==e)if(e={context:e,memoizedValue:t,next:null},ln===null){if(_s===null)throw Error(i(308));ln=e,_s.dependencies={lanes:0,firstContext:e}}else ln=ln.next=e;return t}var Rr=null;function vl(e){Rr===null?Rr=[e]:Rr.push(e)}function Gi(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,vl(t)):(r.next=a.next,a.next=r),t.interleaved=r,tr(e,s)}function tr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xr=!1;function kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ie&2)!==0){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,tr(e,r)}return a=s.interleaved,a===null?(t.next=t,vl(s)):(t.next=a.next,a.next=t),s.interleaved=t,tr(e,r)}function As(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,_a(e,r)}}function Xi(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=d:o=o.next=d,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fs(e,t,r,s){var a=e.updateQueue;xr=!1;var o=a.firstBaseUpdate,d=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var k=p,_=k.next;k.next=null,d===null?o=_:d.next=_,d=k;var V=e.alternate;V!==null&&(V=V.updateQueue,p=V.lastBaseUpdate,p!==d&&(p===null?V.firstBaseUpdate=_:p.next=_,V.lastBaseUpdate=k))}if(o!==null){var G=a.baseState;d=0,V=_=k=null,p=o;do{var W=p.lane,ae=p.eventTime;if((s&W)===W){V!==null&&(V=V.next={eventTime:ae,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var ue=e,de=p;switch(W=t,ae=r,de.tag){case 1:if(ue=de.payload,typeof ue=="function"){G=ue.call(ae,G,W);break e}G=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=de.payload,W=typeof ue=="function"?ue.call(ae,G,W):ue,W==null)break e;G=y({},G,W);break e;case 2:xr=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,W=a.effects,W===null?a.effects=[p]:W.push(p))}else ae={eventTime:ae,lane:W,tag:p.tag,payload:p.payload,callback:p.callback,next:null},V===null?(_=V=ae,k=G):V=V.next=ae,d|=W;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;W=p,p=W.next,W.next=null,a.lastBaseUpdate=W,a.shared.pending=null}}while(!0);if(V===null&&(k=G),a.baseState=k,a.firstBaseUpdate=_,a.lastBaseUpdate=V,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Fr|=d,e.lanes=d,e.memoizedState=G}}function Zi(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(i(191,a));a.call(s)}}}var $n={},Qt=pr($n),Bn=pr($n),Hn=pr($n);function _r(e){if(e===$n)throw Error(i(174));return e}function wl(e,t){switch(Ae(Hn,t),Ae(Bn,e),Ae(Qt,$n),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Br(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Br(t,e)}Oe(Qt),Ae(Qt,t)}function cn(){Oe(Qt),Oe(Bn),Oe(Hn)}function ec(e){_r(Hn.current);var t=_r(Qt.current),r=Br(t,e.type);t!==r&&(Ae(Bn,e),Ae(Qt,r))}function jl(e){Bn.current===e&&(Oe(Qt),Oe(Bn))}var Ue=pr(0);function Os(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sl=[];function Nl(){for(var e=0;e<Sl.length;e++)Sl[e]._workInProgressVersionPrimary=null;Sl.length=0}var zs=O.ReactCurrentDispatcher,bl=O.ReactCurrentBatchConfig,Ar=0,$e=null,Ke=null,Ze=null,Ls=!1,Qn=!1,Wn=0,mf=0;function at(){throw Error(i(321))}function Cl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_t(e[r],t[r]))return!1;return!0}function El(e,t,r,s,a,o){if(Ar=o,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zs.current=e===null||e.memoizedState===null?yf:xf,e=r(s,a),Qn){o=0;do{if(Qn=!1,Wn=0,25<=o)throw Error(i(301));o+=1,Ze=Ke=null,t.updateQueue=null,zs.current=vf,e=r(s,a)}while(Qn)}if(zs.current=Bs,t=Ke!==null&&Ke.next!==null,Ar=0,Ze=Ke=$e=null,Ls=!1,t)throw Error(i(300));return e}function Dl(){var e=Wn!==0;return Wn=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?$e.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Dt(){if(Ke===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Ze===null?$e.memoizedState:Ze.next;if(t!==null)Ze=t,Ke=e;else{if(e===null)throw Error(i(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ze===null?$e.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Vn(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=Dt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Ke,a=s.baseQueue,o=r.pending;if(o!==null){if(a!==null){var d=a.next;a.next=o.next,o.next=d}s.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,s=s.baseState;var p=d=null,k=null,_=o;do{var V=_.lane;if((Ar&V)===V)k!==null&&(k=k.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),s=_.hasEagerState?_.eagerState:e(s,_.action);else{var G={lane:V,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};k===null?(p=k=G,d=s):k=k.next=G,$e.lanes|=V,Fr|=V}_=_.next}while(_!==null&&_!==o);k===null?d=s:k.next=p,_t(s,t.memoizedState)||(ht=!0),t.memoizedState=s,t.baseState=d,t.baseQueue=k,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do o=a.lane,$e.lanes|=o,Fr|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ml(e){var t=Dt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var d=a=a.next;do o=e(o,d.action),d=d.next;while(d!==a);_t(o,t.memoizedState)||(ht=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function tc(){}function rc(e,t){var r=$e,s=Dt(),a=t(),o=!_t(s.memoizedState,a);if(o&&(s.memoizedState=a,ht=!0),s=s.queue,Il(ac.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,qn(9,sc.bind(null,r,s,a,t),void 0,null),et===null)throw Error(i(349));(Ar&30)!==0||nc(r,t,a)}return a}function nc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sc(e,t,r,s){t.value=r,t.getSnapshot=s,lc(t)&&oc(e)}function ac(e,t,r){return r(function(){lc(t)&&oc(e)})}function lc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_t(e,r)}catch{return!0}}function oc(e){var t=tr(e,1);t!==null&&Lt(t,e,1,-1)}function ic(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},t.queue=e,e=e.dispatch=gf.bind(null,$e,e),[t.memoizedState,e]}function qn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function cc(){return Dt().memoizedState}function Us(e,t,r,s){var a=Wt();$e.flags|=e,a.memoizedState=qn(1|t,r,void 0,s===void 0?null:s)}function $s(e,t,r,s){var a=Dt();s=s===void 0?null:s;var o=void 0;if(Ke!==null){var d=Ke.memoizedState;if(o=d.destroy,s!==null&&Cl(s,d.deps)){a.memoizedState=qn(t,r,o,s);return}}$e.flags|=e,a.memoizedState=qn(1|t,r,o,s)}function uc(e,t){return Us(8390656,8,e,t)}function Il(e,t){return $s(2048,8,e,t)}function dc(e,t){return $s(4,2,e,t)}function fc(e,t){return $s(4,4,e,t)}function mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hc(e,t,r){return r=r!=null?r.concat([e]):null,$s(4,4,mc.bind(null,t,e),r)}function Pl(){}function pc(e,t){var r=Dt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Cl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function gc(e,t){var r=Dt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Cl(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function yc(e,t,r){return(Ar&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=r):(_t(r,t)||(r=qo(),$e.lanes|=r,Fr|=r,e.baseState=!0),t)}function hf(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var s=bl.transition;bl.transition={};try{e(!1),t()}finally{Re=r,bl.transition=s}}function xc(){return Dt().memoizedState}function pf(e,t,r){var s=Sr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},vc(e))kc(t,r);else if(r=Gi(e,t,r,s),r!==null){var a=ut();Lt(r,e,s,a),wc(r,t,s)}}function gf(e,t,r){var s=Sr(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(vc(e))kc(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,p=o(d,r);if(a.hasEagerState=!0,a.eagerState=p,_t(p,d)){var k=t.interleaved;k===null?(a.next=a,vl(t)):(a.next=k.next,k.next=a),t.interleaved=a;return}}catch{}finally{}r=Gi(e,t,a,s),r!==null&&(a=ut(),Lt(r,e,s,a),wc(r,t,s))}}function vc(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function kc(e,t){Qn=Ls=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wc(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,_a(e,r)}}var Bs={readContext:Et,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},yf={readContext:Et,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:uc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Us(4194308,4,mc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var r=Wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Wt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=pf.bind(null,$e,e),[s.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:ic,useDebugValue:Pl,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=ic(!1),t=e[0];return e=hf.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=$e,a=Wt();if(ze){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),et===null)throw Error(i(349));(Ar&30)!==0||nc(s,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,uc(ac.bind(null,s,o,e),[e]),s.flags|=2048,qn(9,sc.bind(null,s,o,r,t),void 0,null),r},useId:function(){var e=Wt(),t=et.identifierPrefix;if(ze){var r=er,s=Zt;r=(s&~(1<<32-Rt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xf={readContext:Et,useCallback:pc,useContext:Et,useEffect:Il,useImperativeHandle:hc,useInsertionEffect:dc,useLayoutEffect:fc,useMemo:gc,useReducer:Tl,useRef:cc,useState:function(){return Tl(Vn)},useDebugValue:Pl,useDeferredValue:function(e){var t=Dt();return yc(t,Ke.memoizedState,e)},useTransition:function(){var e=Tl(Vn)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:tc,useSyncExternalStore:rc,useId:xc,unstable_isNewReconciler:!1},vf={readContext:Et,useCallback:pc,useContext:Et,useEffect:Il,useImperativeHandle:hc,useInsertionEffect:dc,useLayoutEffect:fc,useMemo:gc,useReducer:Ml,useRef:cc,useState:function(){return Ml(Vn)},useDebugValue:Pl,useDeferredValue:function(e){var t=Dt();return Ke===null?t.memoizedState=e:yc(t,Ke.memoizedState,e)},useTransition:function(){var e=Ml(Vn)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:tc,useSyncExternalStore:rc,useId:xc,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=y({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Rl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hs={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ut(),a=Sr(e),o=rr(s,a);o.payload=t,r!=null&&(o.callback=r),t=vr(e,o,a),t!==null&&(Lt(t,e,a,s),As(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ut(),a=Sr(e),o=rr(s,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=vr(e,o,a),t!==null&&(Lt(t,e,a,s),As(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ut(),s=Sr(e),a=rr(r,s);a.tag=2,t!=null&&(a.callback=t),t=vr(e,a,s),t!==null&&(Lt(t,e,s,r),As(t,e,s))}};function jc(e,t,r,s,a,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,d):t.prototype&&t.prototype.isPureReactComponent?!Rn(r,s)||!Rn(a,o):!0}function Sc(e,t,r){var s=!1,a=gr,o=t.contextType;return typeof o=="object"&&o!==null?o=Et(o):(a=mt(t)?Mr:st.current,s=t.contextTypes,o=(s=s!=null)?tn(e,a):gr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Nc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function _l(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},kl(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Et(o):(o=mt(t)?Mr:st.current,a.context=tn(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Rl(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Hs.enqueueReplaceState(a,a.state,null),Fs(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function un(e,t){try{var r="",s=t;do r+=C(s),s=s.return;while(s);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Al(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kf=typeof WeakMap=="function"?WeakMap:Map;function bc(e,t,r){r=rr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Gs||(Gs=!0,Yl=s),Fl(e,t)},r}function Cc(e,t,r){r=rr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Fl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Fl(e,t),typeof s!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function Ec(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new kf;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=_f.bind(null,e,t,r),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tc(e,t,r,s,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rr(-1,1),t.tag=2,vr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var wf=O.ReactCurrentOwner,ht=!1;function ct(e,t,r,s){t.child=e===null?Ki(t,null,r,s):an(t,e.child,r,s)}function Mc(e,t,r,s,a){r=r.render;var o=t.ref;return on(t,a),s=El(e,t,r,s,o,a),r=Dl(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,nr(e,t,a)):(ze&&r&&ul(t),t.flags|=1,ct(e,t,s,a),t.child)}function Ic(e,t,r,s,a){if(e===null){var o=r.type;return typeof o=="function"&&!so(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Pc(e,t,o,s,a)):(e=ra(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&a)===0){var d=o.memoizedProps;if(r=r.compare,r=r!==null?r:Rn,r(d,s)&&e.ref===t.ref)return nr(e,t,a)}return t.flags|=1,e=br(o,s),e.ref=t.ref,e.return=t,t.child=e}function Pc(e,t,r,s,a){if(e!==null){var o=e.memoizedProps;if(Rn(o,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=o,(e.lanes&a)!==0)(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,nr(e,t,a)}return Ol(e,t,r,s,a)}function Rc(e,t,r){var s=t.pendingProps,a=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(fn,St),St|=r;else{if((r&1073741824)===0)return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(fn,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:r,Ae(fn,St),St|=s}else o!==null?(s=o.baseLanes|r,t.memoizedState=null):s=r,Ae(fn,St),St|=s;return ct(e,t,a,r),t.child}function _c(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ol(e,t,r,s,a){var o=mt(r)?Mr:st.current;return o=tn(t,o),on(t,a),r=El(e,t,r,s,o,a),s=Dl(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,nr(e,t,a)):(ze&&s&&ul(t),t.flags|=1,ct(e,t,r,a),t.child)}function Ac(e,t,r,s,a){if(mt(r)){var o=!0;Es(t)}else o=!1;if(on(t,a),t.stateNode===null)Ws(e,t),Sc(t,r,s),_l(t,r,s,a),s=!0;else if(e===null){var d=t.stateNode,p=t.memoizedProps;d.props=p;var k=d.context,_=r.contextType;typeof _=="object"&&_!==null?_=Et(_):(_=mt(r)?Mr:st.current,_=tn(t,_));var V=r.getDerivedStateFromProps,G=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function";G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==s||k!==_)&&Nc(t,d,s,_),xr=!1;var W=t.memoizedState;d.state=W,Fs(t,s,d,a),k=t.memoizedState,p!==s||W!==k||ft.current||xr?(typeof V=="function"&&(Rl(t,r,V,s),k=t.memoizedState),(p=xr||jc(t,r,p,s,W,k,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),d.props=s,d.state=k,d.context=_,s=p):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Yi(e,t),p=t.memoizedProps,_=t.type===t.elementType?p:Ft(t.type,p),d.props=_,G=t.pendingProps,W=d.context,k=r.contextType,typeof k=="object"&&k!==null?k=Et(k):(k=mt(r)?Mr:st.current,k=tn(t,k));var ae=r.getDerivedStateFromProps;(V=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==G||W!==k)&&Nc(t,d,s,k),xr=!1,W=t.memoizedState,d.state=W,Fs(t,s,d,a);var ue=t.memoizedState;p!==G||W!==ue||ft.current||xr?(typeof ae=="function"&&(Rl(t,r,ae,s),ue=t.memoizedState),(_=xr||jc(t,r,_,s,W,ue,k)||!1)?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,ue,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,ue,k)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ue),d.props=s,d.state=ue,d.context=k,s=_):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),s=!1)}return zl(e,t,r,s,o,a)}function zl(e,t,r,s,a,o){_c(e,t);var d=(t.flags&128)!==0;if(!s&&!d)return a&&Ui(t,r,!1),nr(e,t,o);s=t.stateNode,wf.current=t;var p=d&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&d?(t.child=an(t,e.child,null,o),t.child=an(t,null,p,o)):ct(e,t,p,o),t.memoizedState=s.state,a&&Ui(t,r,!0),t.child}function Fc(e){var t=e.stateNode;t.pendingContext?zi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(e,t.context,!1),wl(e,t.containerInfo)}function Oc(e,t,r,s,a){return sn(),hl(a),t.flags|=256,ct(e,t,r,s),t.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function zc(e,t,r){var s=t.pendingProps,a=Ue.current,o=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(a&2)!==0),p?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ae(Ue,a&1),e===null)return ml(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=s.children,e=s.fallback,o?(s=t.mode,o=t.child,d={mode:"hidden",children:d},(s&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=d):o=na(d,s,0,null),e=Ur(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ul(r),t.memoizedState=Ll,e):$l(t,d));if(a=e.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return jf(e,t,d,s,p,a,r);if(o){o=s.fallback,d=t.mode,a=e.child,p=a.sibling;var k={mode:"hidden",children:s.children};return(d&1)===0&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=k,t.deletions=null):(s=br(a,k),s.subtreeFlags=a.subtreeFlags&14680064),p!==null?o=br(p,o):(o=Ur(o,d,r,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,d=e.child.memoizedState,d=d===null?Ul(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},o.memoizedState=d,o.childLanes=e.childLanes&~r,t.memoizedState=Ll,s}return o=e.child,e=o.sibling,s=br(o,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function $l(e,t){return t=na({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,r,s){return s!==null&&hl(s),an(t,e.child,null,r),e=$l(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jf(e,t,r,s,a,o,d){if(r)return t.flags&256?(t.flags&=-257,s=Al(Error(i(422))),Qs(e,t,d,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=na({mode:"visible",children:s.children},a,0,null),o=Ur(o,a,d,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,(t.mode&1)!==0&&an(t,e.child,null,d),t.child.memoizedState=Ul(d),t.memoizedState=Ll,o);if((t.mode&1)===0)return Qs(e,t,d,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var p=s.dgst;return s=p,o=Error(i(419)),s=Al(o,s,void 0),Qs(e,t,d,s)}if(p=(d&e.childLanes)!==0,ht||p){if(s=et,s!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(s.suspendedLanes|d))!==0?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,tr(e,a),Lt(s,e,a,-1))}return no(),s=Al(Error(i(421))),Qs(e,t,d,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Af.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,jt=hr(a.nextSibling),wt=t,ze=!0,At=null,e!==null&&(bt[Ct++]=Zt,bt[Ct++]=er,bt[Ct++]=Ir,Zt=e.id,er=e.overflow,Ir=t),t=$l(t,s.children),t.flags|=4096,t)}function Lc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xl(e.return,t,r)}function Bl(e,t,r,s,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=a)}function Uc(e,t,r){var s=t.pendingProps,a=s.revealOrder,o=s.tail;if(ct(e,t,s.children,r),s=Ue.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,r,t);else if(e.tag===19)Lc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ae(Ue,s),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Os(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bl(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Os(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bl(t,!0,r,null,o);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sf(e,t,r){switch(t.tag){case 3:Fc(t),sn();break;case 5:ec(t);break;case 1:mt(t.type)&&Es(t);break;case 4:wl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Ae(Rs,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ae(Ue,Ue.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?zc(e,t,r):(Ae(Ue,Ue.current&1),e=nr(e,t,r),e!==null?e.sibling:null);Ae(Ue,Ue.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Uc(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ae(Ue,Ue.current),s)break;return null;case 22:case 23:return t.lanes=0,Rc(e,t,r)}return nr(e,t,r)}var $c,Hl,Bc,Hc;$c=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Hl=function(){},Bc=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,_r(Qt.current);var o=null;switch(r){case"input":a=ge(e,a),s=ge(e,s),o=[];break;case"select":a=y({},a,{value:void 0}),s=y({},s,{value:void 0}),o=[];break;case"textarea":a=Ce(e,a),s=Ce(e,s),o=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ns)}Sa(r,s);var d;r=null;for(_ in a)if(!s.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var p=a[_];for(d in p)p.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(m.hasOwnProperty(_)?o||(o=[]):(o=o||[]).push(_,null));for(_ in s){var k=s[_];if(p=a!=null?a[_]:void 0,s.hasOwnProperty(_)&&k!==p&&(k!=null||p!=null))if(_==="style")if(p){for(d in p)!p.hasOwnProperty(d)||k&&k.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in k)k.hasOwnProperty(d)&&p[d]!==k[d]&&(r||(r={}),r[d]=k[d])}else r||(o||(o=[]),o.push(_,r)),r=k;else _==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,p=p?p.__html:void 0,k!=null&&p!==k&&(o=o||[]).push(_,k)):_==="children"?typeof k!="string"&&typeof k!="number"||(o=o||[]).push(_,""+k):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(m.hasOwnProperty(_)?(k!=null&&_==="onScroll"&&Fe("scroll",e),o||p===k||(o=[])):(o=o||[]).push(_,k))}r&&(o=o||[]).push("style",r);var _=o;(t.updateQueue=_)&&(t.flags|=4)}},Hc=function(e,t,r,s){r!==s&&(t.flags|=4)};function Jn(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Nf(e,t,r){var s=t.pendingProps;switch(dl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return mt(t.type)&&Cs(),lt(t),null;case 3:return s=t.stateNode,cn(),Oe(ft),Oe(st),Nl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,At!==null&&(eo(At),At=null))),Hl(e,t),lt(t),null;case 5:jl(t);var a=_r(Hn.current);if(r=t.type,e!==null&&t.stateNode!=null)Bc(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return lt(t),null}if(e=_r(Qt.current),Is(t)){s=t.stateNode,r=t.type;var o=t.memoizedProps;switch(s[Ht]=t,s[zn]=o,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(a=0;a<An.length;a++)Fe(An[a],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":He(s,o),Fe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",s);break;case"textarea":_e(s,o),Fe("invalid",s)}Sa(r,o),a=null;for(var d in o)if(o.hasOwnProperty(d)){var p=o[d];d==="children"?typeof p=="string"?s.textContent!==p&&(o.suppressHydrationWarning!==!0&&Ss(s.textContent,p,e),a=["children",p]):typeof p=="number"&&s.textContent!==""+p&&(o.suppressHydrationWarning!==!0&&Ss(s.textContent,p,e),a=["children",""+p]):m.hasOwnProperty(d)&&p!=null&&d==="onScroll"&&Fe("scroll",s)}switch(r){case"input":ce(s),dt(s,o,!0);break;case"textarea":ce(s),Qe(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Ns)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$t(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(r,{is:s.is}):(e=d.createElement(r),r==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,r),e[Ht]=t,e[zn]=s,$c(e,t,!1,!1),t.stateNode=e;e:{switch(d=Na(r,s),r){case"dialog":Fe("cancel",e),Fe("close",e),a=s;break;case"iframe":case"object":case"embed":Fe("load",e),a=s;break;case"video":case"audio":for(a=0;a<An.length;a++)Fe(An[a],e);a=s;break;case"source":Fe("error",e),a=s;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),a=s;break;case"details":Fe("toggle",e),a=s;break;case"input":He(e,s),a=ge(e,s),Fe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=y({},s,{value:void 0}),Fe("invalid",e);break;case"textarea":_e(e,s),a=Ce(e,s),Fe("invalid",e);break;default:a=s}Sa(r,a),p=a;for(o in p)if(p.hasOwnProperty(o)){var k=p[o];o==="style"?Po(e,k):o==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&yn(e,k)):o==="children"?typeof k=="string"?(r!=="textarea"||k!=="")&&or(e,k):typeof k=="number"&&or(e,""+k):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(m.hasOwnProperty(o)?k!=null&&o==="onScroll"&&Fe("scroll",e):k!=null&&q(e,o,k,d))}switch(r){case"input":ce(e),dt(e,s,!1);break;case"textarea":ce(e),Qe(e);break;case"option":s.value!=null&&e.setAttribute("value",""+H(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?ke(e,!!s.multiple,o,!1):s.defaultValue!=null&&ke(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ns)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Hc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=_r(Hn.current),_r(Qt.current),Is(t)){if(s=t.stateNode,r=t.memoizedProps,s[Ht]=t,(o=s.nodeValue!==r)&&(e=wt,e!==null))switch(e.tag){case 3:Ss(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(s.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ht]=t,t.stateNode=s}return lt(t),null;case 13:if(Oe(Ue),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Vi(),sn(),t.flags|=98560,o=!1;else if(o=Is(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[Ht]=t}else sn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),o=!1}else At!==null&&(eo(At),At=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ue.current&1)!==0?Ge===0&&(Ge=3):no())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return cn(),Hl(e,t),e===null&&Fn(t.stateNode.containerInfo),lt(t),null;case 10:return yl(t.type._context),lt(t),null;case 17:return mt(t.type)&&Cs(),lt(t),null;case 19:if(Oe(Ue),o=t.memoizedState,o===null)return lt(t),null;if(s=(t.flags&128)!==0,d=o.rendering,d===null)if(s)Jn(o,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Os(e),d!==null){for(t.flags|=128,Jn(o,!1),s=d.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)o=r,e=s,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ae(Ue,Ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&We()>mn&&(t.flags|=128,s=!0,Jn(o,!1),t.lanes=4194304)}else{if(!s)if(e=Os(d),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Jn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ze)return lt(t),null}else 2*We()-o.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,s=!0,Jn(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(r=o.last,r!==null?r.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=We(),t.sibling=null,r=Ue.current,Ae(Ue,s?r&1|2:r&1),t):(lt(t),null);case 22:case 23:return ro(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(St&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function bf(e,t){switch(dl(t),t.tag){case 1:return mt(t.type)&&Cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(),Oe(ft),Oe(st),Nl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return jl(t),null;case 13:if(Oe(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Ue),null;case 4:return cn(),null;case 10:return yl(t.type._context),null;case 22:case 23:return ro(),null;case 24:return null;default:return null}}var Vs=!1,ot=!1,Cf=typeof WeakSet=="function"?WeakSet:Set,oe=null;function dn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Be(e,t,s)}else r.current=null}function Ql(e,t,r){try{r()}catch(s){Be(e,t,s)}}var Qc=!1;function Ef(e,t){if(rl=fs,e=ji(),Ja(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var d=0,p=-1,k=-1,_=0,V=0,G=e,W=null;t:for(;;){for(var ae;G!==r||a!==0&&G.nodeType!==3||(p=d+a),G!==o||s!==0&&G.nodeType!==3||(k=d+s),G.nodeType===3&&(d+=G.nodeValue.length),(ae=G.firstChild)!==null;)W=G,G=ae;for(;;){if(G===e)break t;if(W===r&&++_===a&&(p=d),W===o&&++V===s&&(k=d),(ae=G.nextSibling)!==null)break;G=W,W=G.parentNode}G=ae}r=p===-1||k===-1?null:{start:p,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(nl={focusedElem:e,selectionRange:r},fs=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var ue=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var de=ue.memoizedProps,Ve=ue.memoizedState,E=t.stateNode,j=E.getSnapshotBeforeUpdate(t.elementType===t.type?de:Ft(t.type,de),Ve);E.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(Z){Be(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return ue=Qc,Qc=!1,ue}function Kn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Ql(t,r,o)}a=a.next}while(a!==s)}}function qs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Wl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Wc(e){var t=e.alternate;t!==null&&(e.alternate=null,Wc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[zn],delete t[ol],delete t[cf],delete t[uf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vc(e){return e.tag===5||e.tag===3||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ns));else if(s!==4&&(e=e.child,e!==null))for(Vl(e,t,r),e=e.sibling;e!==null;)Vl(e,t,r),e=e.sibling}function ql(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ql(e,t,r),e=e.sibling;e!==null;)ql(e,t,r),e=e.sibling}var rt=null,Ot=!1;function kr(e,t,r){for(r=r.child;r!==null;)Jc(e,t,r),r=r.sibling}function Jc(e,t,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ls,r)}catch{}switch(r.tag){case 5:ot||dn(r,t);case 6:var s=rt,a=Ot;rt=null,kr(e,t,r),rt=s,Ot=a,rt!==null&&(Ot?(e=rt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rt.removeChild(r.stateNode));break;case 18:rt!==null&&(Ot?(e=rt,r=r.stateNode,e.nodeType===8?ll(e.parentNode,r):e.nodeType===1&&ll(e,r),En(e)):ll(rt,r.stateNode));break;case 4:s=rt,a=Ot,rt=r.stateNode.containerInfo,Ot=!0,kr(e,t,r),rt=s,Ot=a;break;case 0:case 11:case 14:case 15:if(!ot&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var o=a,d=o.destroy;o=o.tag,d!==void 0&&((o&2)!==0||(o&4)!==0)&&Ql(r,t,d),a=a.next}while(a!==s)}kr(e,t,r);break;case 1:if(!ot&&(dn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(p){Be(r,t,p)}kr(e,t,r);break;case 21:kr(e,t,r);break;case 22:r.mode&1?(ot=(s=ot)||r.memoizedState!==null,kr(e,t,r),ot=s):kr(e,t,r);break;default:kr(e,t,r)}}function Kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Cf),t.forEach(function(s){var a=Ff.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function zt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var o=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 5:rt=p.stateNode,Ot=!1;break e;case 3:rt=p.stateNode.containerInfo,Ot=!0;break e;case 4:rt=p.stateNode.containerInfo,Ot=!0;break e}p=p.return}if(rt===null)throw Error(i(160));Jc(o,d,a),rt=null,Ot=!1;var k=a.alternate;k!==null&&(k.return=null),a.return=null}catch(_){Be(a,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gc(t,e),t=t.sibling}function Gc(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Vt(e),s&4){try{Kn(3,e,e.return),qs(3,e)}catch(de){Be(e,e.return,de)}try{Kn(5,e,e.return)}catch(de){Be(e,e.return,de)}}break;case 1:zt(t,e),Vt(e),s&512&&r!==null&&dn(r,r.return);break;case 5:if(zt(t,e),Vt(e),s&512&&r!==null&&dn(r,r.return),e.flags&32){var a=e.stateNode;try{or(a,"")}catch(de){Be(e,e.return,de)}}if(s&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,d=r!==null?r.memoizedProps:o,p=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{p==="input"&&o.type==="radio"&&o.name!=null&&Le(a,o),Na(p,d);var _=Na(p,o);for(d=0;d<k.length;d+=2){var V=k[d],G=k[d+1];V==="style"?Po(a,G):V==="dangerouslySetInnerHTML"?yn(a,G):V==="children"?or(a,G):q(a,V,G,_)}switch(p){case"input":Xe(a,o);break;case"textarea":Te(a,o);break;case"select":var W=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var ae=o.value;ae!=null?ke(a,!!o.multiple,ae,!1):W!==!!o.multiple&&(o.defaultValue!=null?ke(a,!!o.multiple,o.defaultValue,!0):ke(a,!!o.multiple,o.multiple?[]:"",!1))}a[zn]=o}catch(de){Be(e,e.return,de)}}break;case 6:if(zt(t,e),Vt(e),s&4){if(e.stateNode===null)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(de){Be(e,e.return,de)}}break;case 3:if(zt(t,e),Vt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{En(t.containerInfo)}catch(de){Be(e,e.return,de)}break;case 4:zt(t,e),Vt(e);break;case 13:zt(t,e),Vt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Gl=We())),s&4&&Kc(e);break;case 22:if(V=r!==null&&r.memoizedState!==null,e.mode&1?(ot=(_=ot)||V,zt(t,e),ot=_):zt(t,e),Vt(e),s&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!V&&(e.mode&1)!==0)for(oe=e,V=e.child;V!==null;){for(G=oe=V;oe!==null;){switch(W=oe,ae=W.child,W.tag){case 0:case 11:case 14:case 15:Kn(4,W,W.return);break;case 1:dn(W,W.return);var ue=W.stateNode;if(typeof ue.componentWillUnmount=="function"){s=W,r=W.return;try{t=s,ue.props=t.memoizedProps,ue.state=t.memoizedState,ue.componentWillUnmount()}catch(de){Be(s,r,de)}}break;case 5:dn(W,W.return);break;case 22:if(W.memoizedState!==null){Zc(G);continue}}ae!==null?(ae.return=W,oe=ae):Zc(G)}V=V.sibling}e:for(V=null,G=e;;){if(G.tag===5){if(V===null){V=G;try{a=G.stateNode,_?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(p=G.stateNode,k=G.memoizedProps.style,d=k!=null&&k.hasOwnProperty("display")?k.display:null,p.style.display=rs("display",d))}catch(de){Be(e,e.return,de)}}}else if(G.tag===6){if(V===null)try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(de){Be(e,e.return,de)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;V===G&&(V=null),G=G.return}V===G&&(V=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:zt(t,e),Vt(e),s&4&&Kc(e);break;case 21:break;default:zt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Vc(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(or(a,""),s.flags&=-33);var o=qc(e);ql(e,o,a);break;case 3:case 4:var d=s.stateNode.containerInfo,p=qc(e);Vl(e,p,d);break;default:throw Error(i(161))}}catch(k){Be(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Df(e,t,r){oe=e,Yc(e)}function Yc(e,t,r){for(var s=(e.mode&1)!==0;oe!==null;){var a=oe,o=a.child;if(a.tag===22&&s){var d=a.memoizedState!==null||Vs;if(!d){var p=a.alternate,k=p!==null&&p.memoizedState!==null||ot;p=Vs;var _=ot;if(Vs=d,(ot=k)&&!_)for(oe=a;oe!==null;)d=oe,k=d.child,d.tag===22&&d.memoizedState!==null?eu(a):k!==null?(k.return=d,oe=k):eu(a);for(;o!==null;)oe=o,Yc(o),o=o.sibling;oe=a,Vs=p,ot=_}Xc(e)}else(a.subtreeFlags&8772)!==0&&o!==null?(o.return=a,oe=o):Xc(e)}}function Xc(e){for(;oe!==null;){var t=oe;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||qs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ot)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ft(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Zi(t,o,s);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Zi(t,d,r)}break;case 5:var p=t.stateNode;if(r===null&&t.flags&4){r=p;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&r.focus();break;case"img":k.src&&(r.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var V=_.memoizedState;if(V!==null){var G=V.dehydrated;G!==null&&En(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}ot||t.flags&512&&Wl(t)}catch(W){Be(t,t.return,W)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Zc(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function eu(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qs(4,t)}catch(k){Be(t,r,k)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(k){Be(t,a,k)}}var o=t.return;try{Wl(t)}catch(k){Be(t,o,k)}break;case 5:var d=t.return;try{Wl(t)}catch(k){Be(t,d,k)}}}catch(k){Be(t,t.return,k)}if(t===e){oe=null;break}var p=t.sibling;if(p!==null){p.return=t.return,oe=p;break}oe=t.return}}var Tf=Math.ceil,Js=O.ReactCurrentDispatcher,Jl=O.ReactCurrentOwner,Tt=O.ReactCurrentBatchConfig,Ie=0,et=null,qe=null,nt=0,St=0,fn=pr(0),Ge=0,Gn=null,Fr=0,Ks=0,Kl=0,Yn=null,pt=null,Gl=0,mn=1/0,sr=null,Gs=!1,Yl=null,wr=null,Ys=!1,jr=null,Xs=0,Xn=0,Xl=null,Zs=-1,ea=0;function ut(){return(Ie&6)!==0?We():Zs!==-1?Zs:Zs=We()}function Sr(e){return(e.mode&1)===0?1:(Ie&2)!==0&&nt!==0?nt&-nt:ff.transition!==null?(ea===0&&(ea=qo()),ea):(e=Re,e!==0||(e=window.event,e=e===void 0?16:ri(e.type)),e)}function Lt(e,t,r,s){if(50<Xn)throw Xn=0,Xl=null,Error(i(185));jn(e,r,s),((Ie&2)===0||e!==et)&&(e===et&&((Ie&2)===0&&(Ks|=r),Ge===4&&Nr(e,nt)),gt(e,s),r===1&&Ie===0&&(t.mode&1)===0&&(mn=We()+500,Ds&&yr()))}function gt(e,t){var r=e.callbackNode;dd(e,t);var s=cs(e,e===et?nt:0);if(s===0)r!==null&&Qo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Qo(r),t===1)e.tag===0?df(ru.bind(null,e)):$i(ru.bind(null,e)),lf(function(){(Ie&6)===0&&yr()}),r=null;else{switch(Jo(s)){case 1:r=Ia;break;case 4:r=Wo;break;case 16:r=as;break;case 536870912:r=Vo;break;default:r=as}r=uu(r,tu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function tu(e,t){if(Zs=-1,ea=0,(Ie&6)!==0)throw Error(i(327));var r=e.callbackNode;if(hn()&&e.callbackNode!==r)return null;var s=cs(e,e===et?nt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=ta(e,s);else{t=s;var a=Ie;Ie|=2;var o=su();(et!==e||nt!==t)&&(sr=null,mn=We()+500,zr(e,t));do try{Pf();break}catch(p){nu(e,p)}while(!0);gl(),Js.current=o,Ie=a,qe!==null?t=0:(et=null,nt=0,t=Ge)}if(t!==0){if(t===2&&(a=Pa(e),a!==0&&(s=a,t=Zl(e,a))),t===1)throw r=Gn,zr(e,0),Nr(e,s),gt(e,We()),r;if(t===6)Nr(e,s);else{if(a=e.current.alternate,(s&30)===0&&!Mf(a)&&(t=ta(e,s),t===2&&(o=Pa(e),o!==0&&(s=o,t=Zl(e,o))),t===1))throw r=Gn,zr(e,0),Nr(e,s),gt(e,We()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:Lr(e,pt,sr);break;case 3:if(Nr(e,s),(s&130023424)===s&&(t=Gl+500-We(),10<t)){if(cs(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ut(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=al(Lr.bind(null,e,pt,sr),t);break}Lr(e,pt,sr);break;case 4:if(Nr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var d=31-Rt(s);o=1<<d,d=t[d],d>a&&(a=d),s&=~o}if(s=a,s=We()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Tf(s/1960))-s,10<s){e.timeoutHandle=al(Lr.bind(null,e,pt,sr),s);break}Lr(e,pt,sr);break;case 5:Lr(e,pt,sr);break;default:throw Error(i(329))}}}return gt(e,We()),e.callbackNode===r?tu.bind(null,e):null}function Zl(e,t){var r=Yn;return e.current.memoizedState.isDehydrated&&(zr(e,t).flags|=256),e=ta(e,t),e!==2&&(t=pt,pt=r,t!==null&&eo(t)),e}function eo(e){pt===null?pt=e:pt.push.apply(pt,e)}function Mf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],o=a.getSnapshot;a=a.value;try{if(!_t(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~Kl,t&=~Ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rt(t),s=1<<r;e[r]=-1,t&=~s}}function ru(e){if((Ie&6)!==0)throw Error(i(327));hn();var t=cs(e,0);if((t&1)===0)return gt(e,We()),null;var r=ta(e,t);if(e.tag!==0&&r===2){var s=Pa(e);s!==0&&(t=s,r=Zl(e,s))}if(r===1)throw r=Gn,zr(e,0),Nr(e,t),gt(e,We()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,pt,sr),gt(e,We()),null}function to(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(mn=We()+500,Ds&&yr())}}function Or(e){jr!==null&&jr.tag===0&&(Ie&6)===0&&hn();var t=Ie;Ie|=1;var r=Tt.transition,s=Re;try{if(Tt.transition=null,Re=1,e)return e()}finally{Re=s,Tt.transition=r,Ie=t,(Ie&6)===0&&yr()}}function ro(){St=fn.current,Oe(fn)}function zr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,af(r)),qe!==null)for(r=qe.return;r!==null;){var s=r;switch(dl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Cs();break;case 3:cn(),Oe(ft),Oe(st),Nl();break;case 5:jl(s);break;case 4:cn();break;case 13:Oe(Ue);break;case 19:Oe(Ue);break;case 10:yl(s.type._context);break;case 22:case 23:ro()}r=r.return}if(et=e,qe=e=br(e.current,null),nt=St=t,Ge=0,Gn=null,Kl=Ks=Fr=0,pt=Yn=null,Rr!==null){for(t=0;t<Rr.length;t++)if(r=Rr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,o=r.pending;if(o!==null){var d=o.next;o.next=a,s.next=d}r.pending=s}Rr=null}return e}function nu(e,t){do{var r=qe;try{if(gl(),zs.current=Bs,Ls){for(var s=$e.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ls=!1}if(Ar=0,Ze=Ke=$e=null,Qn=!1,Wn=0,Jl.current=null,r===null||r.return===null){Ge=1,Gn=t,qe=null;break}e:{var o=e,d=r.return,p=r,k=t;if(t=nt,p.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var _=k,V=p,G=V.tag;if((V.mode&1)===0&&(G===0||G===11||G===15)){var W=V.alternate;W?(V.updateQueue=W.updateQueue,V.memoizedState=W.memoizedState,V.lanes=W.lanes):(V.updateQueue=null,V.memoizedState=null)}var ae=Dc(d);if(ae!==null){ae.flags&=-257,Tc(ae,d,p,o,t),ae.mode&1&&Ec(o,_,t),t=ae,k=_;var ue=t.updateQueue;if(ue===null){var de=new Set;de.add(k),t.updateQueue=de}else ue.add(k);break e}else{if((t&1)===0){Ec(o,_,t),no();break e}k=Error(i(426))}}else if(ze&&p.mode&1){var Ve=Dc(d);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),Tc(Ve,d,p,o,t),hl(un(k,p));break e}}o=k=un(k,p),Ge!==4&&(Ge=2),Yn===null?Yn=[o]:Yn.push(o),o=d;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var E=bc(o,k,t);Xi(o,E);break e;case 1:p=k;var j=o.type,M=o.stateNode;if((o.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(wr===null||!wr.has(M)))){o.flags|=65536,t&=-t,o.lanes|=t;var Z=Cc(o,p,t);Xi(o,Z);break e}}o=o.return}while(o!==null)}lu(r)}catch(he){t=he,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function su(){var e=Js.current;return Js.current=Bs,e===null?Bs:e}function no(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),et===null||(Fr&268435455)===0&&(Ks&268435455)===0||Nr(et,nt)}function ta(e,t){var r=Ie;Ie|=2;var s=su();(et!==e||nt!==t)&&(sr=null,zr(e,t));do try{If();break}catch(a){nu(e,a)}while(!0);if(gl(),Ie=r,Js.current=s,qe!==null)throw Error(i(261));return et=null,nt=0,Ge}function If(){for(;qe!==null;)au(qe)}function Pf(){for(;qe!==null&&!rd();)au(qe)}function au(e){var t=cu(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?lu(e):qe=t,Jl.current=null}function lu(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Nf(r,t,St),r!==null){qe=r;return}}else{if(r=bf(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Ge===0&&(Ge=5)}function Lr(e,t,r){var s=Re,a=Tt.transition;try{Tt.transition=null,Re=1,Rf(e,t,r,s)}finally{Tt.transition=a,Re=s}return null}function Rf(e,t,r,s){do hn();while(jr!==null);if((Ie&6)!==0)throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(fd(e,o),e===et&&(qe=et=null,nt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ys||(Ys=!0,uu(as,function(){return hn(),null})),o=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||o){o=Tt.transition,Tt.transition=null;var d=Re;Re=1;var p=Ie;Ie|=4,Jl.current=null,Ef(e,r),Gc(r,e),Xd(nl),fs=!!rl,nl=rl=null,e.current=r,Df(r),nd(),Ie=p,Re=d,Tt.transition=o}else e.current=r;if(Ys&&(Ys=!1,jr=e,Xs=a),o=e.pendingLanes,o===0&&(wr=null),ld(r.stateNode),gt(e,We()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Gs)throw Gs=!1,e=Yl,Yl=null,e;return(Xs&1)!==0&&e.tag!==0&&hn(),o=e.pendingLanes,(o&1)!==0?e===Xl?Xn++:(Xn=0,Xl=e):Xn=0,yr(),null}function hn(){if(jr!==null){var e=Jo(Xs),t=Tt.transition,r=Re;try{if(Tt.transition=null,Re=16>e?16:e,jr===null)var s=!1;else{if(e=jr,jr=null,Xs=0,(Ie&6)!==0)throw Error(i(331));var a=Ie;for(Ie|=4,oe=e.current;oe!==null;){var o=oe,d=o.child;if((oe.flags&16)!==0){var p=o.deletions;if(p!==null){for(var k=0;k<p.length;k++){var _=p[k];for(oe=_;oe!==null;){var V=oe;switch(V.tag){case 0:case 11:case 15:Kn(8,V,o)}var G=V.child;if(G!==null)G.return=V,oe=G;else for(;oe!==null;){V=oe;var W=V.sibling,ae=V.return;if(Wc(V),V===_){oe=null;break}if(W!==null){W.return=ae,oe=W;break}oe=ae}}}var ue=o.alternate;if(ue!==null){var de=ue.child;if(de!==null){ue.child=null;do{var Ve=de.sibling;de.sibling=null,de=Ve}while(de!==null)}}oe=o}}if((o.subtreeFlags&2064)!==0&&d!==null)d.return=o,oe=d;else e:for(;oe!==null;){if(o=oe,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Kn(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,oe=E;break e}oe=o.return}}var j=e.current;for(oe=j;oe!==null;){d=oe;var M=d.child;if((d.subtreeFlags&2064)!==0&&M!==null)M.return=d,oe=M;else e:for(d=j;oe!==null;){if(p=oe,(p.flags&2048)!==0)try{switch(p.tag){case 0:case 11:case 15:qs(9,p)}}catch(he){Be(p,p.return,he)}if(p===d){oe=null;break e}var Z=p.sibling;if(Z!==null){Z.return=p.return,oe=Z;break e}oe=p.return}}if(Ie=a,yr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ls,e)}catch{}s=!0}return s}finally{Re=r,Tt.transition=t}}return!1}function ou(e,t,r){t=un(r,t),t=bc(e,t,1),e=vr(e,t,1),t=ut(),e!==null&&(jn(e,1,t),gt(e,t))}function Be(e,t,r){if(e.tag===3)ou(e,e,r);else for(;t!==null;){if(t.tag===3){ou(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(wr===null||!wr.has(s))){e=un(r,e),e=Cc(t,e,1),t=vr(t,e,1),e=ut(),t!==null&&(jn(t,1,e),gt(t,e));break}}t=t.return}}function _f(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&r,et===e&&(nt&r)===r&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>We()-Gl?zr(e,0):Kl|=r),gt(e,t)}function iu(e,t){t===0&&((e.mode&1)===0?t=1:(t=is,is<<=1,(is&130023424)===0&&(is=4194304)));var r=ut();e=tr(e,t),e!==null&&(jn(e,t,r),gt(e,r))}function Af(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iu(e,r)}function Ff(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),iu(e,r)}var cu;cu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ht=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return ht=!1,Sf(e,t,r);ht=(e.flags&131072)!==0}else ht=!1,ze&&(t.flags&1048576)!==0&&Bi(t,Ms,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ws(e,t),e=t.pendingProps;var a=tn(t,st.current);on(t,r),a=El(null,t,s,e,a,r);var o=Dl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(s)?(o=!0,Es(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kl(t),a.updater=Hs,t.stateNode=a,a._reactInternals=t,_l(t,s,e,r),t=zl(null,t,s,!0,o,r)):(t.tag=0,ze&&o&&ul(t),ct(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=zf(s),e=Ft(s,e),a){case 0:t=Ol(null,t,s,e,r);break e;case 1:t=Ac(null,t,s,e,r);break e;case 11:t=Mc(null,t,s,e,r);break e;case 14:t=Ic(null,t,s,Ft(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ft(s,a),Ol(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ft(s,a),Ac(e,t,s,a,r);case 3:e:{if(Fc(t),e===null)throw Error(i(387));s=t.pendingProps,o=t.memoizedState,a=o.element,Yi(e,t),Fs(t,s,null,r);var d=t.memoizedState;if(s=d.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=un(Error(i(423)),t),t=Oc(e,t,s,r,a);break e}else if(s!==a){a=un(Error(i(424)),t),t=Oc(e,t,s,r,a);break e}else for(jt=hr(t.stateNode.containerInfo.firstChild),wt=t,ze=!0,At=null,r=Ki(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sn(),s===a){t=nr(e,t,r);break e}ct(e,t,s,r)}t=t.child}return t;case 5:return ec(t),e===null&&ml(t),s=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,d=a.children,sl(s,a)?d=null:o!==null&&sl(s,o)&&(t.flags|=32),_c(e,t),ct(e,t,d,r),t.child;case 6:return e===null&&ml(t),null;case 13:return zc(e,t,r);case 4:return wl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=an(t,null,s,r):ct(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ft(s,a),Mc(e,t,s,a,r);case 7:return ct(e,t,t.pendingProps,r),t.child;case 8:return ct(e,t,t.pendingProps.children,r),t.child;case 12:return ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,o=t.memoizedProps,d=a.value,Ae(Rs,s._currentValue),s._currentValue=d,o!==null)if(_t(o.value,d)){if(o.children===a.children&&!ft.current){t=nr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var p=o.dependencies;if(p!==null){d=o.child;for(var k=p.firstContext;k!==null;){if(k.context===s){if(o.tag===1){k=rr(-1,r&-r),k.tag=2;var _=o.updateQueue;if(_!==null){_=_.shared;var V=_.pending;V===null?k.next=k:(k.next=V.next,V.next=k),_.pending=k}}o.lanes|=r,k=o.alternate,k!==null&&(k.lanes|=r),xl(o.return,r,t),p.lanes|=r;break}k=k.next}}else if(o.tag===10)d=o.type===t.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(i(341));d.lanes|=r,p=d.alternate,p!==null&&(p.lanes|=r),xl(d,r,t),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===t){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}ct(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,on(t,r),a=Et(a),s=s(a),t.flags|=1,ct(e,t,s,r),t.child;case 14:return s=t.type,a=Ft(s,t.pendingProps),a=Ft(s.type,a),Ic(e,t,s,a,r);case 15:return Pc(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ft(s,a),Ws(e,t),t.tag=1,mt(s)?(e=!0,Es(t)):e=!1,on(t,r),Sc(t,s,a),_l(t,s,a,r),zl(null,t,s,!0,e,r);case 19:return Uc(e,t,r);case 22:return Rc(e,t,r)}throw Error(i(156,t.tag))};function uu(e,t){return Ho(e,t)}function Of(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,r,s){return new Of(e,t,r,s)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zf(e){if(typeof e=="function")return so(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J)return 11;if(e===Me)return 14}return 2}function br(e,t){var r=e.alternate;return r===null?(r=Mt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ra(e,t,r,s,a,o){var d=2;if(s=e,typeof e=="function")so(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ee:return Ur(r.children,a,o,t);case me:d=8,a|=8;break;case Ee:return e=Mt(12,r,t,a|2),e.elementType=Ee,e.lanes=o,e;case ie:return e=Mt(13,r,t,a),e.elementType=ie,e.lanes=o,e;case be:return e=Mt(19,r,t,a),e.elementType=be,e.lanes=o,e;case K:return na(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ne:d=10;break e;case re:d=9;break e;case J:d=11;break e;case Me:d=14;break e;case Se:d=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Mt(d,r,t,a),t.elementType=e,t.type=s,t.lanes=o,t}function Ur(e,t,r,s){return e=Mt(7,e,s,t),e.lanes=r,e}function na(e,t,r,s){return e=Mt(22,e,s,t),e.elementType=K,e.lanes=r,e.stateNode={isHidden:!1},e}function ao(e,t,r){return e=Mt(6,e,null,t),e.lanes=r,e}function lo(e,t,r){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lf(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function oo(e,t,r,s,a,o,d,p,k){return e=new Lf(e,t,r,p,k),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kl(o),e}function Uf(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function du(e){if(!e)return gr;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(mt(r))return Li(e,r,t)}return t}function fu(e,t,r,s,a,o,d,p,k){return e=oo(r,s,!0,e,a,o,d,p,k),e.context=du(null),r=e.current,s=ut(),a=Sr(r),o=rr(s,a),o.callback=t??null,vr(r,o,a),e.current.lanes=a,jn(e,a,s),gt(e,s),e}function sa(e,t,r,s){var a=t.current,o=ut(),d=Sr(a);return r=du(r),t.context===null?t.context=r:t.pendingContext=r,t=rr(o,d),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=vr(a,t,d),e!==null&&(Lt(e,a,d,o),As(e,a,d)),d}function aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function io(e,t){mu(e,t),(e=e.alternate)&&mu(e,t)}function $f(){return null}var hu=typeof reportError=="function"?reportError:function(e){console.error(e)};function co(e){this._internalRoot=e}la.prototype.render=co.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));sa(e,t,null,null)},la.prototype.unmount=co.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){sa(null,e,null,null)}),t[Yt]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yo();e={blockedOn:null,target:e,priority:t};for(var r=0;r<dr.length&&t!==0&&t<dr[r].priority;r++);dr.splice(r,0,e),r===0&&ei(e)}};function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pu(){}function Bf(e,t,r,s,a){if(a){if(typeof s=="function"){var o=s;s=function(){var _=aa(d);o.call(_)}}var d=fu(t,s,e,0,null,!1,!1,"",pu);return e._reactRootContainer=d,e[Yt]=d.current,Fn(e.nodeType===8?e.parentNode:e),Or(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var p=s;s=function(){var _=aa(k);p.call(_)}}var k=oo(e,0,!1,null,null,!1,!1,"",pu);return e._reactRootContainer=k,e[Yt]=k.current,Fn(e.nodeType===8?e.parentNode:e),Or(function(){sa(t,k,r,s)}),k}function ia(e,t,r,s,a){var o=r._reactRootContainer;if(o){var d=o;if(typeof a=="function"){var p=a;a=function(){var k=aa(d);p.call(k)}}sa(t,d,e,a)}else d=Bf(r,t,e,a,s);return aa(d)}Ko=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wn(t.pendingLanes);r!==0&&(_a(t,r|1),gt(t,We()),(Ie&6)===0&&(mn=We()+500,yr()))}break;case 13:Or(function(){var s=tr(e,1);if(s!==null){var a=ut();Lt(s,e,1,a)}}),io(e,1)}},Aa=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var r=ut();Lt(t,e,134217728,r)}io(e,134217728)}},Go=function(e){if(e.tag===13){var t=Sr(e),r=tr(e,t);if(r!==null){var s=ut();Lt(r,e,t,s)}io(e,t)}},Yo=function(){return Re},Xo=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}},Ea=function(e,t,r){switch(t){case"input":if(Xe(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=bs(s);if(!a)throw Error(i(90));je(s),Xe(s,a)}}}break;case"textarea":Te(e,r);break;case"select":t=r.value,t!=null&&ke(e,!!r.multiple,t,!1)}},Fo=to,Oo=Or;var Hf={usingClientEntryPoint:!1,Events:[Ln,Zr,bs,_o,Ao,to]},Zn={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qf={bundleType:Zn.bundleType,version:Zn.version,rendererPackageName:Zn.rendererPackageName,rendererConfig:Zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$o(e),e===null?null:e.stateNode},findFiberByHostInstance:Zn.findFiberByHostInstance||$f,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{ls=ca.inject(Qf),Bt=ca}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hf,yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uo(t))throw Error(i(200));return Uf(e,t,null,r)},yt.createRoot=function(e,t){if(!uo(e))throw Error(i(299));var r=!1,s="",a=hu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=oo(e,1,!1,null,null,r,!1,s,a),e[Yt]=t.current,Fn(e.nodeType===8?e.parentNode:e),new co(t)},yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=$o(t),e=e===null?null:e.stateNode,e},yt.flushSync=function(e){return Or(e)},yt.hydrate=function(e,t,r){if(!oa(t))throw Error(i(200));return ia(null,e,t,!0,r)},yt.hydrateRoot=function(e,t,r){if(!uo(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,a=!1,o="",d=hu;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=fu(t,null,e,1,r??null,a,!1,o,d),e[Yt]=t.current,Fn(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new la(t)},yt.render=function(e,t,r){if(!oa(t))throw Error(i(200));return ia(null,e,t,!1,r)},yt.unmountComponentAtNode=function(e){if(!oa(e))throw Error(i(40));return e._reactRootContainer?(Or(function(){ia(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},yt.unstable_batchedUpdates=to,yt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!oa(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return ia(e,t,r,!1,s)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var Su;function Xf(){if(Su)return ho.exports;Su=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),ho.exports=Yf(),ho.exports}var Nu;function Zf(){if(Nu)return ua;Nu=1;var l=Xf();return ua.createRoot=l.createRoot,ua.hydrateRoot=l.hydrateRoot,ua}var em=Zf();const tm=Ru(em),rm="cogniflow-sync";let yo=null;const _u=()=>(yo||(yo=new BroadcastChannel(rm)),yo),Kt=()=>{_u().postMessage({type:"data-changed"})},nm=l=>{const c=_u(),i=()=>{l()};return c.addEventListener("message",i),()=>{c.removeEventListener("message",i)}},Eo="Europe/Stockholm",sm=()=>new Date().toLocaleDateString("sv-SE",{timeZone:Eo}),Au=()=>new Date().toLocaleString("sv-SE",{timeZone:Eo,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/ /g,"_").replace(/:/g,"-"),am=l=>{if(!l)return"N/A";try{return new Date(l).toLocaleString("sv-SE",{timeZone:Eo,year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(c){return console.error("Failed to format date string:",l,c),"Invalid Date"}},Fu="CogniFlowDB",lm=3,qt="decks",Pt="folders",Jt="deckSeries";let Er=null;function Nt(){return Er||(Er=new Promise((l,c)=>{const i=indexedDB.open(Fu,lm);i.onblocked=f=>{console.error("IndexedDB open request blocked. Please close other tabs with this app open.",f),c(new Error("Database upgrade is required, but it is blocked by another open tab of this application. Please close all other tabs and reload."))},i.onerror=()=>{var f;console.error("IndexedDB error:",i.error),Er=null,c(new Error(`IndexedDB error: ${((f=i.error)==null?void 0:f.message)||"Unknown error"}`))},i.onsuccess=()=>{const f=i.result;f.onclose=()=>{Er=null,console.warn("Database connection closed.")},l(f)},i.onupgradeneeded=f=>{const m=f.target.result;m.objectStoreNames.contains(qt)||m.createObjectStore(qt,{keyPath:"id"}),m.objectStoreNames.contains(Pt)||m.createObjectStore(Pt,{keyPath:"id"}),f.oldVersion<3&&!m.objectStoreNames.contains(Jt)&&m.createObjectStore(Jt,{keyPath:"id"})}}),Er)}async function Do(){const l=await Nt();return new Promise((c,i)=>{const g=l.transaction(qt,"readonly").objectStore(qt).getAll();g.onerror=()=>i("Error fetching decks"),g.onsuccess=()=>c(g.result)})}async function ha(l){if(l.length===0)return;const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(qt,"readwrite"),g=m.objectStore(qt);m.oncomplete=()=>{Kt(),i()},m.onerror=()=>{console.error("Transaction error adding/updating decks",m.error),f("Transaction error adding/updating decks")},l.forEach(v=>{const S=g.put(v);S.onerror=()=>{console.error(`Error putting deck ${v.name}`,S.error)}})})}async function om(l){await ha(l)}async function Ou(l){const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(qt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>f("Transaction error deleting deck"),m.objectStore(qt).delete(l)})}async function im(l){const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(qt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>f("Transaction error updating deck"),m.objectStore(qt).put(l)})}async function To(){const l=await Nt();return new Promise((c,i)=>{const g=l.transaction(Pt,"readonly").objectStore(Pt).getAll();g.onerror=()=>i("Error fetching folders"),g.onsuccess=()=>c(g.result)})}async function cm(l){const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(Pt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>f("Transaction error adding folder"),m.objectStore(Pt).add(l)})}async function um(l){if(l.length===0)return;const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(Pt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>{console.error("Transaction error adding/updating folders",m.error),f("Transaction error adding/updating folders")};const g=m.objectStore(Pt);l.forEach(v=>{const S=g.put(v);S.onerror=()=>{console.error(`Error putting folder ${v.name}`,S.error)}})})}async function dm(l){const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(Pt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>f("Transaction error updating folder"),m.objectStore(Pt).put(l)})}async function fm(l){const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(Pt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>f("Transaction error deleting folder"),m.objectStore(Pt).delete(l)})}async function Mo(){const l=await Nt();return new Promise((c,i)=>{const g=l.transaction(Jt,"readonly").objectStore(Jt).getAll();g.onerror=()=>i("Error fetching deck series"),g.onsuccess=()=>c(g.result)})}async function xo(l){if(l.length===0)return;const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(Jt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>f("Transaction error adding deck series");const g=m.objectStore(Jt);l.forEach(v=>g.put(v))})}async function mm(l){const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(Jt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>f("Error updating deck series"),m.objectStore(Jt).put(l)})}async function zu(l){const c=await Nt();return new Promise((i,f)=>{const m=c.transaction(Jt,"readwrite");m.oncomplete=()=>{Kt(),i()},m.onerror=()=>f("Error deleting deck series"),m.objectStore(Jt).delete(l)})}async function hm(){const[l,c,i]=await Promise.all([Do(),To(),Mo()]);if(l.length===0&&c.length===0&&i.length===0)throw new Error("There is no data to export.");const m=JSON.stringify({version:3,decks:l,folders:c,deckSeries:i},null,2),g=new Blob([m],{type:"application/json"}),v=URL.createObjectURL(g),S=document.createElement("a");S.style.display="none",S.href=v;const T=Au();return S.download=`cogniflow-backup-${T}.json`,document.body.appendChild(S),S.click(),window.URL.revokeObjectURL(v),document.body.removeChild(S),S.download}async function pm(){return Er&&(await Er).close(),new Promise((l,c)=>{const i=indexedDB.deleteDatabase(Fu);i.onerror=f=>{console.error("Error deleting database.",f),c(new Error("Error deleting database."))},i.onsuccess=()=>{console.log("Database deleted successfully."),l()},i.onblocked=()=>{console.error("Database deletion blocked. Please close other tabs of this app and try again."),c(new Error("Deletion blocked. Please close other tabs of this app."))}})}const gm=()=>{const[l,c]=w.useState(null);return w.useEffect(()=>{const f=m=>{m.preventDefault(),c(m)};return window.addEventListener("beforeinstallprompt",f),()=>{window.removeEventListener("beforeinstallprompt",f)}},[]),[l,()=>{l&&(l.prompt(),l.userChoice.then(f=>{f.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),c(null)}))}]},ym=()=>{const[l,c]=w.useState(navigator.onLine);return w.useEffect(()=>{const i=()=>c(!0),f=()=>c(!1);return window.addEventListener("online",i),window.addEventListener("offline",f),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",f)}},[]),l},xm=()=>ym()?null:n.jsx("div",{role:"status","aria-live":"assertive",className:"fixed bottom-0 left-0 right-0 bg-red-600 text-white text-center p-3 z-50 animate-fade-in",children:n.jsx("p",{className:"text-sm font-semibold",children:"You are currently offline. Some features may be unavailable."})}),vm={plus:n.jsxs(n.Fragment,{children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"upload-cloud":n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"}),n.jsx("polyline",{points:"16 16 12 12 8 16"}),n.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"21"})]}),x:n.jsxs(n.Fragment,{children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"chevron-left":n.jsx(n.Fragment,{children:n.jsx("polyline",{points:"15 18 9 12 15 6"})}),"trash-2":n.jsxs(n.Fragment,{children:[n.jsx("polyline",{points:"3 6 5 6 21 6"}),n.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),n.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),n.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),"check-circle":n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"x-circle":n.jsxs(n.Fragment,{children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),n.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),download:n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7 10 12 15 17 10"}),n.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),laptop:n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9h16z"}),n.jsx("rect",{x:"2",y:"17",width:"20",height:"4",rx:"1"})]}),menu:n.jsxs(n.Fragment,{children:[n.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),n.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),n.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),edit:n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),save:n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),n.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),n.jsx("polyline",{points:"7 3 7 8 15 8"})]}),sun:n.jsxs(n.Fragment,{children:[n.jsx("circle",{cx:"12",cy:"12",r:"5"}),n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),n.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),n.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),n.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),n.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),n.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),n.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),n.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),moon:n.jsx(n.Fragment,{children:n.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),code:n.jsxs(n.Fragment,{children:[n.jsx("polyline",{points:"16 18 22 12 16 6"}),n.jsx("polyline",{points:"8 6 2 12 8 18"})]}),"refresh-ccw":n.jsxs(n.Fragment,{children:[n.jsx("polyline",{points:"1 4 1 10 7 10"}),n.jsx("polyline",{points:"23 20 23 14 17 14"}),n.jsx("path",{d:"M20.49 9A9 9 0 0 0 7.2 6.51"}),n.jsx("path",{d:"M3.51 15A9 9 0 0 0 16.8 17.49"})]}),broom:n.jsx(n.Fragment,{children:n.jsx("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"})}),settings:n.jsxs(n.Fragment,{children:[n.jsx("circle",{cx:"12",cy:"12",r:"3"}),n.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),info:n.jsxs(n.Fragment,{children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"chevron-down":n.jsx(n.Fragment,{children:n.jsx("polyline",{points:"6 9 12 15 18 9"})}),eye:n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"eye-off":n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),n.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),zap:n.jsx(n.Fragment,{children:n.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"help-circle":n.jsxs(n.Fragment,{children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),n.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),google:n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M17.64 9.2c0-.63-.06-1.25-.16-1.84H9v3.48h4.84c-.2 1.12-.84 2.08-1.74 2.71v2.26h2.92c1.7-1.56 2.68-3.88 2.68-6.61z"}),n.jsx("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.92-2.26c-.8.54-1.82.86-3.04.86-2.34 0-4.32-1.58-5.04-3.7H1v2.34C2.64 16.32 5.57 18 9 18z"}),n.jsx("path",{d:"M3.96 10.71c-.18-.54-.28-1.12-.28-1.71s.1-1.17.28-1.71V4.96H1c-.64 1.28-1 2.74-1 4.34s.36 3.06 1 4.34l2.96-2.34z"}),n.jsx("path",{d:"M9 3.6c1.32 0 2.52.45 3.44 1.34l2.6-2.6C13.46.8 11.43 0 9 0 5.57 0 2.64 1.68 1 4.34l2.96 2.34C4.68 4.54 6.66 3.6 9 3.6z"})]}),folder:n.jsx(n.Fragment,{children:n.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),"folder-plus":n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),n.jsx("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),n.jsx("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]}),"folder-edit":n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),n.jsx("path",{d:"M14 13.5l2 2-4 4-2-2 4-4zm-1.5 2.5l2-2"})]}),list:n.jsxs(n.Fragment,{children:[n.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),n.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),n.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),n.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),n.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),n.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),lock:n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),n.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),unlock:n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),n.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}),archive:n.jsxs(n.Fragment,{children:[n.jsx("polyline",{points:"21 8 21 21 3 21 3 8"}),n.jsx("rect",{x:"1",y:"3",width:"22",height:"5"}),n.jsx("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]}),unarchive:n.jsxs(n.Fragment,{children:[n.jsx("polyline",{points:"21 8 21 21 3 21 3 8"}),n.jsx("rect",{x:"1",y:"3",width:"22",height:"5"}),n.jsx("polyline",{points:"10 13 12 11 14 13"}),n.jsx("line",{x1:"12",y1:"11",x2:"12",y2:"17"})]}),"arrow-down":n.jsxs(n.Fragment,{children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("polyline",{points:"19 12 12 19 5 12"})]}),monitor:n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),n.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),n.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),"more-vertical":n.jsxs(n.Fragment,{children:[n.jsx("circle",{cx:"12",cy:"12",r:"1"}),n.jsx("circle",{cx:"12",cy:"5",r:"1"}),n.jsx("circle",{cx:"12",cy:"19",r:"1"})]})},L=({name:l,className:c="w-6 h-6",...i})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:c,...i,children:vm[l]}),U=({children:l,variant:c="primary",size:i="md",className:f="",...m})=>{const g="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 disabled:opacity-50 disabled:pointer-events-none",v={primary:"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100 focus:ring-gray-500"},S={sm:"px-2 py-1 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return n.jsx("button",{className:`${g} ${v[c]} ${S[i]} ${f}`,...m,children:l})},km='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',Ut=(l,c)=>{const i=w.useRef([]);w.useEffect(()=>{if(c&&l.current){i.current=Array.from(l.current.querySelectorAll(km));const f=i.current[0];f&&setTimeout(()=>f.focus(),100);const m=g=>{var T;if(g.key!=="Tab"||!((T=l.current)!=null&&T.contains(document.activeElement)))return;const v=i.current[0],S=i.current[i.current.length-1];g.shiftKey?document.activeElement===v&&(g.preventDefault(),S==null||S.focus()):document.activeElement===S&&(g.preventDefault(),v==null||v.focus())};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}}},[c,l])},Lu=w.createContext(void 0),bu=()=>window.location.hash.startsWith("#/")?window.location.hash.substring(1):"/",wm=({children:l})=>{const[c,i]=w.useState(bu()),f=w.useCallback(()=>{i(bu())},[]);w.useEffect(()=>(window.addEventListener("hashchange",f),()=>{window.removeEventListener("hashchange",f)}),[f]);const m=w.useCallback(v=>{window.location.hash=`#${v}`},[]),g={path:c,navigate:m};return n.jsx(Lu.Provider,{value:g,children:l})},$r=()=>{const l=w.useContext(Lu);if(l===void 0)throw new Error("useRouter must be used within a RouterProvider");return l},it=({href:l,children:c,passAs:i,...f})=>{const{navigate:m}=$r(),g=S=>{S.currentTarget.tagName==="A"&&(S.metaKey||S.ctrlKey)||(S.preventDefault(),f.onClick&&f.onClick(S),m(l))},v=`#${l}`;return i?n.jsx(i,{...f,onClick:g,children:c}):n.jsx("a",{...f,href:v,onClick:g,children:c})},jm=({isOpen:l,onClose:c,onImport:i,onCreateSeries:f,onInstall:m})=>{const g=w.useRef(null);return Ut(g,l),n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`fixed inset-0 bg-black/60 z-30 transition-opacity duration-300 ${l?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:c,"aria-hidden":"true"}),n.jsx("div",{ref:g,className:`fixed top-0 right-0 h-full w-full max-w-xs bg-white dark:bg-gray-800 shadow-xl z-40 transform transition-transform duration-300 ease-in-out ${l?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"sidebar-title",children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{id:"sidebar-title",className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-teal-300",children:"Menu"}),n.jsx(U,{variant:"ghost",onClick:c,className:"p-1 h-auto","aria-label":"Close menu",children:n.jsx(L,{name:"x"})})]}),n.jsxs("nav",{className:"flex-grow p-4 space-y-2",children:[n.jsxs(it,{href:"/",onClick:c,className:"flex items-center px-3 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-lg",children:[n.jsx(L,{name:"laptop",className:"w-6 h-6 mr-3"})," Decks"]}),n.jsxs(it,{href:"/archive",onClick:c,className:"flex items-center px-3 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-lg",children:[n.jsx(L,{name:"archive",className:"w-6 h-6 mr-3"}),"Archive"]}),n.jsxs(it,{href:"/trash",onClick:c,className:"flex items-center px-3 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-lg",children:[n.jsx(L,{name:"trash-2",className:"w-6 h-6 mr-3"}),"Trash"]}),n.jsxs(it,{href:"/settings",onClick:c,className:"flex items-center px-3 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-lg",children:[n.jsx(L,{name:"settings",className:"w-6 h-6 mr-3"}),"Settings"]}),n.jsxs(it,{href:"/instructions/json",onClick:c,className:"flex items-center px-3 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-lg",children:[n.jsx(L,{name:"help-circle",className:"w-6 h-6 mr-3"}),"JSON Guide"]})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[n.jsxs(U,{variant:"primary",onClick:f,className:"w-full",children:[n.jsx(L,{name:"list",className:"w-5 h-5 mr-2"}),"Create New Series"]}),n.jsxs(U,{variant:"secondary",onClick:i,className:"w-full",children:[n.jsx(L,{name:"plus",className:"w-5 h-5 mr-2"}),"Create / Import Deck"]}),m&&n.jsxs(U,{variant:"secondary",onClick:m,className:"w-full",children:[n.jsx(L,{name:"download",className:"w-5 h-5 mr-2"}),"Install App"]})]})]})})]})},Sm={success:n.jsx(L,{name:"check-circle",className:"w-6 h-6 text-green-500"}),error:n.jsx(L,{name:"x-circle",className:"w-6 h-6 text-red-500"}),info:n.jsx(L,{name:"info",className:"w-6 h-6 text-blue-500"})},Nm=({message:l,onDismiss:c})=>(w.useEffect(()=>{const i=setTimeout(()=>{c(l.id)},5e3);return()=>{clearTimeout(i)}},[l.id,c]),n.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden animate-fade-in-right",children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:Sm[l.type]}),n.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 break-words",children:l.message})}),n.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:n.jsxs("button",{onClick:()=>c(l.id),className:"bg-white dark:bg-gray-800 rounded-md inline-flex text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:ring-offset-gray-800 focus:ring-blue-500",children:[n.jsx("span",{className:"sr-only",children:"Close"}),n.jsx(L,{name:"x",className:"h-5 w-5"})]})})]})})})),Uu=w.createContext(void 0),bm=({children:l})=>{const[c,i]=w.useState([]),f=w.useCallback((g,v)=>{const S=crypto.randomUUID();i(T=>[...T,{id:S,message:g,type:v}])},[]),m=w.useCallback(g=>{i(v=>v.filter(S=>S.id!==g))},[]);return n.jsxs(Uu.Provider,{value:{addToast:f},children:[l,n.jsx("div",{className:"fixed top-5 right-5 z-[100] w-full max-w-xs space-y-3",children:c.map(g=>n.jsx(Nm,{message:g,onDismiss:m},g.id))})]})},xt=()=>{const l=w.useContext(Uu);if(l===void 0)throw new Error("useToast must be used within a ToastProvider");return l},pn=({size:l="md"})=>{const c={sm:"h-6 w-6",md:"h-10 w-10",lg:"h-16 w-16"};return n.jsx("div",{className:"flex justify-center items-center p-4",role:"status","aria-label":"Loading",children:n.jsxs("svg",{className:`animate-spin text-blue-500 dark:text-blue-400 ${c[l]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})};var Ye=(l=>(l[l.Again=1]="Again",l[l.Hard=2]="Hard",l[l.Good=3]="Good",l[l.Easy=4]="Easy",l))(Ye||{}),ve=(l=>(l.Flashcard="flashcard",l.Quiz="quiz",l))(ve||{});const gn=2.5,Cu=1.3,Cm=1,Em=1.2,Dm=1.3,Tm={1:-.2,2:-.15,3:0,4:.15},Mm=l=>{try{if(!l.trim())throw new Error("File content is empty.");const c=JSON.parse(l);if(typeof c=="object"&&c!==null&&"version"in c&&Array.isArray(c.decks)){if(c.version>3)throw new Error(`Unsupported backup version: ${c.version}`);const i=c.decks,f=c.folders||[],m=c.deckSeries||[];for(const g of i)if(typeof g.id!="string"||typeof g.name!="string"||!g.type)throw new Error("Invalid deck structure in backup file.");for(const g of f)if(typeof g.id!="string"||typeof g.name!="string")throw new Error("Invalid folder structure in backup file.");for(const g of m)if(typeof g.id!="string"||typeof g.name!="string"||!Array.isArray(g.deckIds))throw new Error("Invalid deck series structure in backup file.");return{decks:i,folders:f,deckSeries:m}}if(Array.isArray(c)){if(c.length>0&&!("id"in c[0]&&"name"in c[0]&&"type"in c[0]))throw new Error("The file is not a valid CogniFlow backup file.");for(const i of c)if(typeof i.id!="string"||typeof i.name!="string"||i.type!==ve.Flashcard&&i.type!==ve.Quiz)throw new Error("Invalid backup file. One or more decks have incorrect structure.");return{decks:c,folders:[],deckSeries:[]}}throw new Error("The file is not a valid CogniFlow backup file.")}catch(c){throw console.error("Failed to parse backup file:",c),new Error(c instanceof Error?c.message:"Invalid JSON format")}},No=l=>{try{if(!l.trim())throw new Error("Pasted content is empty.");const c=JSON.parse(l);if(Array.isArray(c)){const i=[];for(const f of c){if(typeof f.front!="string"||typeof f.back!="string")throw new Error("Each item in the array must be an object with 'front' and 'back' string properties.");i.push({front:f.front,back:f.back})}return{type:ve.Flashcard,data:i}}if(typeof c=="object"&&c!==null&&"questions"in c){if(typeof c.name!="string"||typeof c.description!="string"||!Array.isArray(c.questions))throw new Error("Quiz JSON must be an object with 'name' (string), 'description' (string), and 'questions' (array) properties.");for(const i of c.questions)if(typeof i.questionText!="string"||!Array.isArray(i.options)||typeof i.correctAnswerId!="string")throw new Error("Each question in a quiz must have 'questionText', an 'options' array, and a 'correctAnswerId'.");return{type:ve.Quiz,data:c}}throw new Error("Unsupported JSON structure. Expected an array of flashcards or a quiz object.")}catch(c){throw console.error("Failed to parse JSON:",c),new Error(c instanceof Error?c.message:"Invalid JSON format")}},Im=(l,c)=>{try{if(!l.trim())throw new Error("Pasted content is empty.");const i=JSON.parse(l);if(!Array.isArray(i))throw new Error("JSON must be an array of items.");if(i.length===0)return[];if(c===ve.Flashcard){const f=[];for(const m of i){if(typeof m.front!="string"||typeof m.back!="string")throw new Error("Each item in the array must be an object with 'front' and 'back' string properties.");f.push({front:m.front,back:m.back})}return f}else{const f=[];for(const m of i){if(typeof m.questionText!="string"||!Array.isArray(m.options)||typeof m.correctAnswerId!="string")throw new Error("Each question must have 'questionText', an 'options' array, and a 'correctAnswerId'.");f.push(m)}return f}}catch(i){throw console.error("Failed to parse items JSON:",i),new Error(i instanceof Error?i.message:"Invalid JSON format")}},$u=l=>{const c=new Date;return c.setHours(0,0,0,0),l.map(i=>({id:crypto.randomUUID(),front:i.front,back:i.back,dueDate:c.toISOString(),interval:0,easeFactor:gn,masteryLevel:0}))},Bu=l=>{const c=new Date;return c.setHours(0,0,0,0),l.map(i=>({...i,id:crypto.randomUUID(),dueDate:c.toISOString(),interval:0,easeFactor:gn,masteryLevel:0}))};function Pm(l){return new Promise((c,i)=>{const f=new Worker(new URL("/CogniFlow/assets/ankiImport.worker-wd5XnzCo.js",import.meta.url),{type:"module"});f.onmessage=m=>{const{status:g,decks:v,error:S}=m.data;g==="success"?c(v):i(new Error(S)),f.terminate()},f.onerror=m=>{console.error("Worker error:",m),i(new Error(`Anki import worker failed: ${m.message}`)),f.terminate()},f.postMessage(l,[l])})}const Rm=({isOpen:l,onClose:c,onAddDecks:i})=>{const[f,m]=w.useState("create"),[g,v]=w.useState(""),[S,T]=w.useState(""),[P,N]=w.useState(""),[D,A]=w.useState(!1),$=w.useRef(null),{addToast:Y}=xt(),z=w.useRef(null);Ut(z,l);const R=w.useCallback(()=>{m("create"),v(""),T(""),N(""),A(!1)},[]),Q=w.useCallback(()=>{R(),c()},[R,c]),le=ne=>{T(ne);try{const re=No(ne);(re==null?void 0:re.type)===ve.Quiz&&v(re.data.name)}catch{}},q=w.useCallback(()=>{if(f==="create"){if(!g.trim()){Y("Please enter a deck name.","error");return}const ne={id:crypto.randomUUID(),name:g.trim(),type:ve.Flashcard,cards:[],description:`An empty deck created on ${sm()}`};i([ne]),Y(`Deck "${ne.name}" created.`,"success"),Q();return}if(!S){Y("Please paste or upload content.","error");return}if(!g.trim()){Y("Please enter a deck name.","error");return}try{const ne=No(S);if(!ne)return;let re;if(ne.type===ve.Flashcard){const J=$u(ne.data);re={id:crypto.randomUUID(),name:g.trim(),type:ve.Flashcard,cards:J,description:`${J.length} imported flashcard${J.length===1?"":"s"}.`}}else{const J=Bu(ne.data.questions);re={id:crypto.randomUUID(),name:g.trim(),description:ne.data.description,type:ve.Quiz,questions:J}}i([re]),Y(`Deck "${re.name}" imported successfully.`,"success"),Q()}catch(ne){Y(ne instanceof Error?ne.message:"Invalid JSON content.","error")}},[g,f,S,i,Q,Y]),O=async ne=>{if(ne){N(ne.name),A(!0);try{if(ne.name.toLowerCase().endsWith(".apkg")){v("");const re=await ne.arrayBuffer(),J=await Pm(re);J.length>0?(i(J),Y(`Successfully imported ${J.length} deck(s) from ${ne.name}.`,"success"),Q()):(Y("No valid decks found in the Anki package.","info"),R())}else if(ne.name.toLowerCase().endsWith(".json")){const re=await ne.text();le(re),A(!1),Y("File loaded. Enter a deck name and import.","info")}else Y("Unsupported file type. Please upload a '.json' or '.apkg' file.","error"),N(""),A(!1)}catch(re){console.error("Failed to process file:",re),Y(`An error occurred: ${re instanceof Error?re.message:"Unknown error"}`,"error"),R()}}},te=ne=>{var J;const re=(J=ne.target.files)==null?void 0:J[0];re&&O(re),ne.target&&(ne.target.value="")},fe=ne=>ne.preventDefault(),ee=ne=>{var J;ne.preventDefault();const re=(J=ne.dataTransfer.files)==null?void 0:J[0];re&&O(re)};if(!l)return null;const me=()=>{const ne=P.toLowerCase().endsWith(".apkg");if(f==="upload"&&ne)return n.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-center py-12",children:"Anki file selected. Decks will be imported automatically."});switch(f){case"paste":return n.jsxs("div",{children:[n.jsx("textarea",{className:"w-full h-48 p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none text-gray-900 dark:text-gray-100",placeholder:'Paste JSON here... e.g., [{"front": "Q1", "back": "A1"}] or a Quiz object.',value:S,onChange:re=>le(re.target.value)}),n.jsxs(it,{href:"/instructions/json",onClick:c,className:"text-sm text-blue-500 dark:text-blue-400 hover:underline mt-2 inline-flex items-center gap-1",children:[n.jsx(L,{name:"help-circle",className:"w-4 h-4"}),"View JSON format guide"]})]});case"upload":return n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"file",ref:$,className:"hidden",accept:".json,application/json,.apkg",onChange:te}),n.jsxs("label",{onDragOver:fe,onDrop:ee,className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-400 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(L,{name:"upload-cloud",className:"w-10 h-10 text-gray-400 dark:text-gray-500 mb-2"}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.jsx("span",{className:"font-semibold text-blue-500 dark:text-blue-400",onClick:re=>{var J;re.preventDefault(),(J=$.current)==null||J.click()},children:"Click to upload"})," or drag and drop"]}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"JSON or Anki (.apkg) files"}),P&&n.jsx("p",{className:"text-sm text-green-500 dark:text-green-400 mt-2 truncate",title:P,children:P})]})]});case"create":default:return n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-12",children:"Create an empty flashcard deck."})}},Ee=!(f==="upload"&&P.toLowerCase().endsWith(".apkg"));return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{ref:z,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg overflow-hidden transform transition-all relative",children:[D&&n.jsxs("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 flex flex-col items-center justify-center z-20",children:[n.jsx(pn,{}),n.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mt-4",children:"Processing file..."})]}),n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Create / Import Deck"}),n.jsx(U,{variant:"ghost",onClick:Q,className:"p-1 h-auto",children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[Ee&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"deck-name",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Deck Name"}),n.jsx("input",{type:"text",id:"deck-name",value:g,onChange:ne=>v(ne.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"e.g. Japanese Vocabulary"})]}),n.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:["create","paste","upload"].map(ne=>n.jsx("button",{onClick:()=>m(ne),className:`capitalize px-4 py-2 text-sm font-medium transition-colors ${f===ne?"border-b-2 border-blue-500 text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:ne==="create"?"Create Empty":ne},ne))}),n.jsx("div",{className:"mt-4",children:me()})]}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{variant:"secondary",onClick:Q,className:"mr-2",children:"Cancel"}),n.jsx(U,{variant:"primary",onClick:q,disabled:D||f==="create"&&!g.trim()||f!=="create"&&!S&&!P,children:f==="create"?"Create Deck":"Create & Import"})]})]})})},ka=({isOpen:l,onClose:c,onConfirm:i,title:f,message:m,confirmText:g})=>{const[v,S]=w.useState(""),T=w.useRef(null);Ut(T,l),w.useEffect(()=>{l&&S("")},[l]);const P=!g||v===g,N=()=>{P&&(i(),c())};return l?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{ref:T,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md transform transition-all relative",role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-title","aria-describedby":"confirm-message",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{id:"confirm-title",className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:f}),n.jsx(U,{type:"button",variant:"ghost",onClick:c,className:"p-1 h-auto","aria-label":"Close",children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{id:"confirm-message",className:"text-gray-600 dark:text-gray-400",children:m}),g&&n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"confirm-input",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:['To confirm, type "',n.jsx("strong",{className:"text-gray-900 dark:text-gray-100",children:g}),'" below:']}),n.jsx("input",{id:"confirm-input",type:"text",value:v,onChange:D=>S(D.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-red-500 focus:outline-none"})]})]}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{type:"button",variant:"secondary",onClick:c,className:"mr-2",children:"Cancel"}),n.jsx(U,{type:"button",variant:"danger",onClick:N,disabled:!P,children:"Confirm"})]})]})}):null},_m=({isOpen:l,onClose:c,onRestore:i})=>{const[f,m]=w.useState(""),[g,v]=w.useState(null),[S,T]=w.useState(null),[P,N]=w.useState(!1),D=w.useRef(null),{addToast:A}=xt(),$=w.useRef(null);Ut($,l);const Y=()=>{m(""),v(null),T(null),c()},z=async O=>{if(O){m(O.name),T(null),v("Processing file...");try{if(O.name.toLowerCase().endsWith(".json")){const te=await O.text(),fe=Mm(te);T(fe),A(`Backup file "${O.name}" is valid and ready to restore.`,"success")}else A("Unsupported file type. Please upload a '.json' backup file.","error"),m("")}catch(te){console.error("Failed to process file:",te),A(`Restore failed: ${te instanceof Error?te.message:"Unknown error"}`,"error"),m("")}finally{v(null)}}},R=O=>{var fe;if(g)return;const te=(fe=O.target.files)==null?void 0:fe[0];te&&z(te),O.target&&(O.target.value="")},Q=O=>{var fe;if(O.preventDefault(),g)return;const te=(fe=O.dataTransfer.files)==null?void 0:fe[0];te&&z(te)},le=O=>O.preventDefault(),q=async()=>{if(S){N(!1),v("Restoring data...");try{await i(S),Y()}catch{v(null)}}};return l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{ref:$,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg overflow-hidden transform transition-all relative",children:[g&&n.jsxs("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 flex flex-col items-center justify-center z-20",children:[n.jsx(pn,{}),n.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mt-4",children:g})]}),n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Restore from Backup"}),n.jsx(U,{variant:"ghost",onClick:Y,className:"p-1 h-auto",disabled:!!g,children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 text-sm text-red-700 dark:text-red-200",children:n.jsxs("p",{children:[n.jsx("strong",{className:"font-bold",children:"Warning:"})," Restoring from a backup will merge and overwrite data. Decks and folders with the same ID will be replaced. This action cannot be undone."]})}),n.jsx("input",{type:"file",ref:D,className:"hidden",accept:".json,application/json",onChange:R,disabled:!!g}),n.jsxs("label",{onDragOver:le,onDrop:Q,className:`flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg transition-colors ${g?"cursor-not-allowed opacity-70":"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(L,{name:"upload-cloud",className:"w-10 h-10 text-gray-400 dark:text-gray-500 mb-2"}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",onClick:O=>{var te;g||(O.preventDefault(),(te=D.current)==null||te.click())},children:"Click to upload"})," or drag and drop"]}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"CogniFlow Backup JSON file"}),f&&n.jsx("p",{className:`text-sm mt-2 truncate ${S?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,title:f,children:f})]})]}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{variant:"secondary",onClick:Y,className:"mr-2",disabled:!!g,children:"Cancel"}),n.jsx(U,{variant:"danger",onClick:()=>N(!0),disabled:!S||!!g,children:g?"Please wait...":"Restore"})]})]})}),P&&n.jsx(ka,{isOpen:P,onClose:()=>N(!1),onConfirm:q,title:"Confirm Restore",message:"Restoring from a backup will overwrite existing decks and folders with the same ID. This action cannot be undone. Are you sure you want to continue?"})]}):null},Am=({isOpen:l,onClose:c,onReset:i,decks:f})=>{const[m,g]=w.useState(""),[v,S]=w.useState(""),{addToast:T}=xt(),P=w.useRef(null);Ut(P,l);const N=w.useMemo(()=>f.find(Y=>Y.id===m),[f,m]),D=N?v===N.name:!1,A=()=>{if(!D||!N){T("Confirmation text does not match.","error");return}i(N.id),c()},$=()=>{g(""),S(""),c()};return l?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{ref:P,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg transform transition-all relative",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Reset Deck Progress"}),n.jsx(U,{type:"button",variant:"ghost",onClick:$,className:"p-1 h-auto",children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 text-sm text-red-700 dark:text-red-200",children:n.jsxs("p",{children:[n.jsx("strong",{className:"font-bold",children:"Warning:"})," This will reset all spaced repetition data (due dates, intervals) for the selected deck. The cards themselves will not be deleted. This action cannot be undone."]})}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"deck-select",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Select Deck"}),n.jsxs("select",{id:"deck-select",value:m,onChange:Y=>{g(Y.target.value),S("")},className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[n.jsx("option",{value:"",disabled:!0,children:"-- Select a deck --"}),f.map(Y=>n.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),N&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsxs("label",{htmlFor:"confirm-text",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:['To confirm, type "',n.jsx("strong",{className:"text-gray-900 dark:text-gray-100",children:N.name}),'" below:']}),n.jsx("input",{id:"confirm-text",type:"text",value:v,onChange:Y=>S(Y.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{type:"button",variant:"secondary",onClick:$,className:"mr-2",children:"Cancel"}),n.jsxs(U,{type:"button",variant:"danger",onClick:A,disabled:!D,children:[n.jsx(L,{name:"refresh-ccw",className:"w-5 h-5 mr-2"}),"Reset Progress"]})]})]})}):null},Fm=({folder:l,onClose:c,onSave:i})=>{const[f,m]=w.useState(""),{addToast:g}=xt(),v=w.useRef(null);Ut(v,!0),w.useEffect(()=>{l&&m(l.name)},[l]);const S=T=>{if(T.preventDefault(),!f.trim()){g("Folder name cannot be empty.","error");return}i({id:(l==null?void 0:l.id)||null,name:f.trim()})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsx("div",{ref:v,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md transform transition-all relative",children:n.jsxs("form",{onSubmit:S,children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:l?"Edit Folder":"Create New Folder"}),n.jsx(U,{type:"button",variant:"ghost",onClick:c,className:"p-1 h-auto",children:n.jsx(L,{name:"x"})})]}),n.jsx("div",{className:"p-6 space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"folder-name",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Folder Name"}),n.jsx("input",{id:"folder-name",type:"text",value:f,onChange:T=>m(T.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"e.g., University Courses"})]})}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{type:"button",variant:"secondary",onClick:c,className:"mr-2",children:"Cancel"}),n.jsxs(U,{type:"submit",variant:"primary",children:[n.jsx(L,{name:"save",className:"w-4 h-4 mr-2"}),l?"Save Changes":"Create Folder"]})]})]})})})},Hu=({series:l,onClose:c,onSave:i})=>{const[f,m]=w.useState(""),[g,v]=w.useState(""),{addToast:S}=xt(),T=w.useRef(null);Ut(T,!0);const P=l===null;w.useEffect(()=>{l?(m(l.name),v(l.description)):(m(""),v(""))},[l]);const N=D=>{if(D.preventDefault(),!f.trim()){S("Series name cannot be empty.","error");return}i({id:P?null:l.id,name:f.trim(),description:g.trim()})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsx("div",{ref:T,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg transform transition-all relative",children:n.jsxs("form",{onSubmit:N,children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:P?"Create New Series":"Edit Series"}),n.jsx(U,{type:"button",variant:"ghost",onClick:c,className:"p-1 h-auto",children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"series-name",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Series Name"}),n.jsx("input",{id:"series-name",type:"text",value:f,onChange:D=>m(D.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"e.g., Introduction to Algebra"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"series-description",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Description"}),n.jsx("textarea",{id:"series-description",value:g,onChange:D=>v(D.target.value),rows:3,className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"A collection of decks covering core concepts."})]})]}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{type:"button",variant:"secondary",onClick:c,className:"mr-2",children:"Cancel"}),n.jsxs(U,{type:"submit",variant:"primary",children:[n.jsx(L,{name:"save",className:"w-4 h-4 mr-2"}),P?"Create Series":"Save Changes"]})]})]})})})},Om=({pullDistance:l,isRefreshing:c,threshold:i})=>{if(c)return n.jsx("div",{className:"fixed top-0 left-0 right-0 h-20 flex items-center justify-center z-50 transition-all duration-300",children:n.jsx(pn,{size:"md"})});if(l<=0)return null;const f=Math.min(l/i,1),m=f>=1,g=20,v=2*Math.PI*g,S=v-f*v;return n.jsx("div",{className:"fixed top-0 left-0 right-0 h-20 flex items-center justify-center z-10 pointer-events-none",style:{transform:`translateY(${Math.min(l,i*1.5)-80}px)`,opacity:Math.min(l/(i/2),1)},children:n.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full shadow-lg",children:[n.jsxs("svg",{className:"absolute w-full h-full transform -rotate-90",viewBox:"0 0 44 44",children:[n.jsx("circle",{className:"text-gray-300/50 dark:text-gray-600/50",stroke:"currentColor",strokeWidth:"4",fill:"transparent",r:g,cx:"22",cy:"22"}),n.jsx("circle",{className:"text-blue-500",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",fill:"transparent",r:g,cx:"22",cy:"22",style:{strokeDasharray:v,strokeDashoffset:S,transition:m?"stroke-dashoffset 0.1s linear":"none"}})]}),n.jsx(L,{name:m?"refresh-ccw":"arrow-down",className:`w-6 h-6 transition-colors duration-200 ${m?"text-blue-500":"text-gray-500 dark:text-gray-400"}`})]})})};function zm(l,c){switch(c.type){case"SET_LOADING":return{...l,isLoading:c.payload};case"LOAD_DATA":return{...l,...c.payload,isLoading:!1};case"ADD_DECKS":{const i=new Map(l.decks.map(f=>[f.id,f]));return c.payload.forEach(f=>i.set(f.id,f)),{...l,decks:Array.from(i.values())}}case"RESTORE_DATA":{const{decks:i,folders:f,deckSeries:m}=c.payload,g=new Map(l.decks.map(T=>[T.id,T]));i.forEach(T=>g.set(T.id,T));const v=new Map(l.folders.map(T=>[T.id,T]));f.forEach(T=>v.set(T.id,T));const S=new Map(l.deckSeries.map(T=>[T.id,T]));return m.forEach(T=>S.set(T.id,T)),{...l,decks:Array.from(g.values()),folders:Array.from(v.values()),deckSeries:Array.from(S.values())}}case"DELETE_DECK":return{...l,decks:l.decks.filter(i=>i.id!==c.payload),deckSeries:l.deckSeries.map(i=>({...i,deckIds:i.deckIds.filter(f=>f!==c.payload)}))};case"UPDATE_DECK":return{...l,decks:l.decks.map(i=>i.id===c.payload.id?c.payload:i)};case"BULK_UPDATE_DECKS":{const i=new Map(l.decks.map(f=>[f.id,f]));return c.payload.forEach(f=>i.set(f.id,f)),{...l,decks:Array.from(i.values())}}case"ADD_FOLDER":return{...l,folders:[...l.folders,c.payload]};case"UPDATE_FOLDER":return{...l,folders:l.folders.map(i=>i.id===c.payload.id?c.payload:i)};case"DELETE_FOLDER":return{...l,folders:l.folders.filter(i=>i.id!==c.payload),decks:l.decks.map(i=>i.folderId===c.payload?{...i,folderId:null}:i)};case"ADD_SERIES":return{...l,deckSeries:[...l.deckSeries,c.payload]};case"ADD_SERIES_WITH_DECKS":{const{series:i,decks:f}=c.payload,m=new Map(l.decks.map(g=>[g.id,g]));return f.forEach(g=>m.set(g.id,g)),{...l,decks:Array.from(m.values()),deckSeries:[...l.deckSeries,i]}}case"UPDATE_SERIES":return{...l,deckSeries:l.deckSeries.map(i=>i.id===c.payload.id?c.payload:i)};case"DELETE_SERIES":return{...l,deckSeries:l.deckSeries.filter(i=>i.id!==c.payload)};default:return l}}const Lm={decks:[],folders:[],deckSeries:[],isLoading:!0},Um=()=>w.useReducer(zm,Lm),It=(l,c,i)=>{const f=new Date;f.setHours(0,0,0,0);const m=c.map(v=>({id:crypto.randomUUID(),text:v.text,explanation:v.explanation})),g=m[c.findIndex(v=>v.correct)];if(!g)throw new Error(`No correct option specified for question: "${l}"`);return{id:crypto.randomUUID(),questionType:"multipleChoice",questionText:l,tags:["nature","sample"],detailedExplanation:i,options:m,correctAnswerId:g.id,dueDate:f.toISOString(),interval:0,easeFactor:gn,suspended:!1,masteryLevel:0,lastReviewed:void 0}},$m=()=>{const l={id:crypto.randomUUID(),name:"Chapter 1: Simple Addition",description:"Practice basic addition problems.",type:ve.Quiz,questions:[It("What is 1 + 1?",[{text:"2",correct:!0},{text:"1"},{text:"3"}],"1 plus 1 equals 2."),It("What is 2 + 3?",[{text:"5",correct:!0},{text:"4"},{text:"6"}],"2 plus 3 equals 5."),It("What is 5 + 4?",[{text:"9",correct:!0},{text:"8"},{text:"10"}],"5 plus 4 equals 9.")]},c={id:crypto.randomUUID(),name:"Chapter 2: Simple Subtraction",description:"Practice basic subtraction problems.",type:ve.Quiz,questions:[It("What is 5 - 2?",[{text:"3",correct:!0},{text:"2"},{text:"4"}],"5 minus 2 equals 3."),It("What is 10 - 4?",[{text:"6",correct:!0},{text:"5"},{text:"7"}],"10 minus 4 equals 6.")]},i={id:crypto.randomUUID(),name:"Chapter 3: Simple Multiplication",description:"Practice basic multiplication problems.",type:ve.Quiz,questions:[It("What is 2 * 3?",[{text:"6",correct:!0},{text:"5"},{text:"8"}],"2 times 3 is 6."),It("What is 4 * 5?",[{text:"20",correct:!0},{text:"15"},{text:"25"}],"4 times 5 is 20.")]},f=[l,c,i];return{series:{id:crypto.randomUUID(),type:"series",name:"Sample: Basic Math Series",description:"A sample series to demonstrate the progressive learning path feature. Complete each deck to unlock the next!",deckIds:f.map(g=>g.id)},decks:f}},Bm=()=>{const l=[It("Which process allows plants to convert light energy into chemical energy?",[{text:"Respiration"},{text:"Photosynthesis",correct:!0},{text:"Transpiration"},{text:"Germination"}],"Photosynthesis is the vital process used by plants, algae, and certain bacteria to harness energy from sunlight and turn it into chemical energy in the form of glucose."),It("What is the largest rainforest in the world?",[{text:"The Congo Rainforest"},{text:"The Valdivian Temperate Rainforest"},{text:"The Daintree Rainforest"},{text:"The Amazon Rainforest",correct:!0}],"The Amazon Rainforest is the world's largest tropical rainforest, famed for its biodiversity. It spans across nine countries in South America."),It("What type of rock is formed from the cooling and solidification of magma or lava?",[{text:"Igneous Rock",correct:!0},{text:"Sedimentary Rock"},{text:"Metamorphic Rock"},{text:"Sandstone"}],"Igneous rock is formed through the cooling and solidification of magma (molten rock below the surface) or lava (molten rock on the surface). Examples include granite and basalt."),It("Which layer of the Earth's atmosphere is closest to the surface?",[{text:"Stratosphere"},{text:"Mesosphere"},{text:"Troposphere",correct:!0},{text:"Thermosphere"}],"The Troposphere is the lowest layer of Earth's atmosphere, and is also where nearly all weather conditions take place. It contains about 75% of the atmosphere's mass."),It("What is the name for the process of water movement through a plant and its evaporation from aerial parts, such as leaves, stems and flowers?",[{text:"Condensation"},{text:"Precipitation"},{text:"Transpiration",correct:!0},{text:"Photosynthesis"}],"Transpiration is essentially evaporation of water from plant leaves. It is a key part of the water cycle, and an important process in plant life.")];return{id:crypto.randomUUID(),name:"Sample: Wonders of Nature",description:"A sample quiz deck to introduce you to CogniFlow. Test your knowledge about the natural world!",type:ve.Quiz,questions:l,lastOpened:new Date().toISOString()}};function Hm(l,c){const i=new Date(l);return i.setDate(i.getDate()+c),i}const Qm=(l,c)=>{const i=new Date;i.setHours(0,0,0,0);let f,m=l.easeFactor;if(m=l.easeFactor+Tm[c],m<Cu&&(m=Cu),c===Ye.Again)f=Cm;else if(l.interval===0)switch(c){case Ye.Hard:f=1;break;case Ye.Good:f=3;break;case Ye.Easy:f=5;break;default:f=1}else{let S=1;c===Ye.Hard&&(S=Em),c===Ye.Easy&&(S=Dm),f=Math.ceil(l.interval*m*S)}const g=Hm(i,f),v=Math.min(1,Math.log1p(f)/Math.log1p(90));return{...l,interval:f,easeFactor:m,dueDate:g.toISOString(),lastReviewed:i.toISOString(),masteryLevel:v}},Eu=l=>{const c=new Date;return c.setHours(0,0,0,0),{...l,dueDate:c.toISOString(),interval:0,easeFactor:gn,suspended:!1,masteryLevel:0,lastReviewed:void 0}},ar=l=>{const c=l.masteryLevel||0;if(c===0||!l.lastReviewed||l.suspended)return 0;const i=(l.interval||1)*2,f=new Date(l.lastReviewed),g=Math.max(0,(new Date().getTime()-f.getTime())/(1e3*60*60*24));if(g<=0)return c;const v=Math.pow(.5,g/i);return c*v},Wm=({state:l,dispatch:c,sessionsToResume:i,setSessionsToResume:f,seriesProgress:m,setSeriesProgress:g,setGeneralStudyDeck:v,openConfirmModal:S,setFolderToEdit:T,setSeriesToEdit:P})=>{const{addToast:N}=xt(),{navigate:D}=$r(),A=w.useCallback(async(h,x)=>{c({type:"UPDATE_DECK",payload:h}),x!=null&&x.silent||(x!=null&&x.toastMessage?N(x.toastMessage,"success"):h.archived?N(`Deck "${h.name}" archived.`,"success"):h.archived===!1?N(`Deck "${h.name}" unarchived.`,"success"):N(`Deck "${h.name}" updated.`,"success"));try{await im(h)}catch(b){console.error("Failed to update deck:",b),N("There was an error syncing the deck update.","error")}},[N,c]),$=w.useCallback(async h=>{try{c({type:"ADD_DECKS",payload:h}),await ha(h)}catch(x){console.error("Failed to add decks:",x),N("There was an error saving the new deck(s).","error")}},[N,c]),Y=w.useCallback(async h=>{const x=l.decks.find(b=>b.id===h);if(x){const b={...x,lastOpened:new Date().toISOString()};await A(b,{silent:!0})}},[l.decks,A]),z=w.useCallback(async(h,x)=>{const b=h.replace("_flip","");if(i.has(h)){const C=new Set(i);C.delete(h),f(C)}localStorage.removeItem(`session_deck_${b}`),localStorage.removeItem(`session_deck_${b}_flip`),h==="general-study-deck"&&v(null),D(x?`/series/${x}`:"/")},[D,i,f,v]),R=w.useCallback(async()=>{const h=Bm();await $([h]),N(`Sample deck "${h.name}" created!`,"success")},[$,N]),Q=w.useCallback(async()=>{const{series:h,decks:x}=$m();try{c({type:"ADD_SERIES_WITH_DECKS",payload:{series:h,decks:x}}),await Promise.all([ha(x),xo([h])]),N(`Sample series "${h.name}" created!`,"success")}catch(b){console.error("Failed to create sample series:",b),N("There was an error creating the sample series.","error")}},[N,c]),le=w.useCallback(async h=>{try{c({type:"RESTORE_DATA",payload:h}),await Promise.all([ha(h.decks),um(h.folders),xo(h.deckSeries)]),N("Successfully restored data.","success")}catch(x){throw console.error("Failed to restore from backup:",x),N("There was an error restoring from the backup file.","error"),x}},[N,c]),q=w.useCallback(async h=>{const x=l.decks.find(C=>C.id===h);if(!x)return;const b={...x,deletedAt:new Date().toISOString(),archived:!1};await A(b,{toastMessage:`Moved "${x.name}" to Trash.`})},[l.decks,A]),O=w.useCallback(async(h,x)=>{const b=l.decks.find(H=>H.id===h),C=l.folders.find(H=>H.id===x);if(!b||b.folderId===x)return;const F={...b,folderId:x},I=C?`"${C.name}"`:"the ungrouped area";await A(F,{toastMessage:`Moved "${b.name}" to ${I}.`})},[l.decks,l.folders,A]),te=w.useCallback(async(h,x,b)=>{const C=l.decks.find(I=>I.id===h);if(!C)return;let F;if(C.type===ve.Flashcard?F={...C,cards:C.cards.map(I=>I.id===x.id?x:I)}:F={...C,questions:C.questions.map(I=>I.id===x.id?{...I,dueDate:x.dueDate,interval:x.interval,easeFactor:x.easeFactor,suspended:x.suspended,masteryLevel:x.masteryLevel,lastReviewed:x.lastReviewed}:I)},await A(F,{silent:!0}),b){const I=F,se=(I.type===ve.Flashcard?I.cards:I.questions).some(ce=>!ce.suspended&&ce.interval===0),pe=(m.get(b)||new Set).has(h);!se&&!pe&&g(ce=>{const je=new Map(ce),De=new Set(je.get(b)||[]);De.add(h),je.set(b,De);try{localStorage.setItem(`series-progress-${b}`,JSON.stringify(Array.from(De)));const ge=l.deckSeries.find(Le=>Le.id===b);(ge==null?void 0:ge.deckIds.indexOf(h))===((ge==null?void 0:ge.deckIds.length)??0)-1&&((ge==null?void 0:ge.deckIds.length)??0)>0?N(`Congratulations! You've completed the series: "${ge==null?void 0:ge.name}"!`,"success"):N(`Deck "${I.name}" completed! Next chapter unlocked.`,"success")}catch(ge){console.error("Could not save series progress",ge)}return je})}},[l.decks,A,N,m,g,l.deckSeries]),fe=w.useCallback(async h=>{const x=l.decks.find(C=>C.id===h);if(!x)return;let b;x.type===ve.Flashcard?b={...x,cards:x.cards.map(C=>Eu(C))}:b={...x,questions:x.questions.map(C=>Eu(C))},await A(b,{toastMessage:`Progress for deck "${b.name}" has been reset.`})},[l.decks,A]),ee=async()=>{try{const h=await hm();h&&N(`Data exported to ${h}`,"success")}catch(h){const x=h instanceof Error?h.message:"Unknown error";N(`Export failed: ${x}`,"error")}},me=w.useCallback(()=>{const h=new Set;l.deckSeries.forEach(I=>{var H;if(!I.archived){const se=((H=m.get(I.id))==null?void 0:H.size)||0;I.deckIds.forEach((pe,ce)=>{ce<=se&&h.add(pe)})}});const x=new Set;l.deckSeries.forEach(I=>{I.deckIds.forEach(H=>x.add(H))});const b=new Date;b.setHours(23,59,59,999);const C=l.decks.filter(I=>!(I.type!==ve.Quiz||I.archived||I.deletedAt||x.has(I.id)&&!h.has(I.id))).flatMap(I=>I.questions.filter(H=>!H.suspended&&new Date(H.dueDate)<=b).map(H=>({...H,originalDeckId:I.id,originalDeckName:I.name}))).sort(()=>Math.random()-.5),F={id:"general-study-deck",name:"General Study Session",type:ve.Quiz,questions:C};v(F),D("/study/general")},[l.decks,l.deckSeries,m,D,v]),Ee=w.useCallback(h=>{var pe;const x=l.deckSeries.find(ce=>ce.id===h);if(!x)return;const b=new Set,C=((pe=m.get(x.id))==null?void 0:pe.size)||0;x.deckIds.forEach((ce,je)=>{je<=C&&b.add(ce)});const F=new Date;F.setHours(23,59,59,999);const H=x.deckIds.map(ce=>l.decks.find(je=>je.id===ce)).filter(ce=>!!(ce&&ce.type===ve.Quiz)).filter(ce=>b.has(ce.id)).flatMap(ce=>ce.questions.filter(je=>!je.suspended&&new Date(je.dueDate)<=F).map(je=>({...je,originalDeckId:ce.id,originalDeckName:ce.name}))).sort(()=>Math.random()-.5),se={id:"general-study-deck",name:`${x.name} - Study Session`,type:ve.Quiz,questions:H};v(se),D(`/study/general?seriesId=${h}`)},[l.decks,l.deckSeries,m,D,v]),ne=w.useCallback(async h=>{if(h.id){const x={id:h.id,name:h.name};c({type:"UPDATE_FOLDER",payload:x}),N(`Folder "${x.name}" updated.`,"success"),await dm(x)}else{const x={id:crypto.randomUUID(),name:h.name};c({type:"ADD_FOLDER",payload:x}),N(`Folder "${x.name}" created.`,"success"),await cm(x)}T(null)},[N,c,T]),re=w.useCallback(async h=>{const x=l.folders.find(b=>b.id===h);x&&S({title:"Delete Folder",message:`Are you sure you want to delete folder "${x.name}"? Decks inside will not be deleted.`,onConfirm:async()=>{c({type:"DELETE_FOLDER",payload:h}),N(`Folder "${x.name}" deleted.`,"success");const b=l.decks.filter(C=>C.folderId===h).map(C=>({...C,folderId:null}));b.length>0&&await om(b),await fm(h)}})},[l.decks,l.folders,N,c,S]),J=w.useCallback(async(h,x)=>{c({type:"UPDATE_SERIES",payload:h}),x!=null&&x.silent||(x!=null&&x.toastMessage?N(x.toastMessage,"success"):h.archived?N(`Series "${h.name}" archived.`,"success"):h.archived===!1?N(`Series "${h.name}" unarchived.`,"success"):N(`Series "${h.name}" updated.`,"success"));try{await mm(h)}catch(b){console.error("Failed to update series:",b),N("There was an error updating the series.","error")}},[N,c]),ie=w.useCallback(async h=>{if(h.id){const x=l.deckSeries.find(b=>b.id===h.id);if(x){const b={...x,name:h.name,description:h.description};await J(b)}}else{const x={id:crypto.randomUUID(),type:"series",name:h.name,description:h.description,deckIds:[]};c({type:"ADD_SERIES",payload:x}),N(`Series "${x.name}" created.`,"success"),await xo([x])}P(null)},[N,l.deckSeries,J,c,P]),be=w.useCallback(async h=>{const x=l.deckSeries.find(C=>C.id===h);if(!x)return;const b={...x,deletedAt:new Date().toISOString(),archived:!1};await J(b,{toastMessage:`Moved "${x.name}" to Trash.`})},[l.deckSeries,J]),Me=w.useCallback(async(h,x)=>{const b=l.deckSeries.find(F=>F.id===h);if(!b)return;await $([x]);const C={...b,deckIds:[...b.deckIds,x.id]};await J(C)},[l.deckSeries,$,J]),Se=w.useCallback(async h=>{const x=l.decks.find(F=>F.id===h);if(!x)return;const{deletedAt:b,...C}=x;await A(C,{toastMessage:`Restored deck "${C.name}".`})},[l.decks,A]),K=w.useCallback(async h=>{const x=l.deckSeries.find(F=>F.id===h);if(!x)return;const{deletedAt:b,...C}=x;await J(C,{toastMessage:`Restored series "${C.name}".`})},[l.deckSeries,J]),B=w.useCallback(async h=>{var x;try{const b=(x=l.decks.find(C=>C.id===h))==null?void 0:x.name;c({type:"DELETE_DECK",payload:h}),N(`Deck "${b||"Deck"}" permanently deleted.`,"success"),await Ou(h)}catch(b){console.error("Failed to permanently delete deck:",b),N("There was an error permanently deleting the deck.","error")}},[l.decks,c,N]),X=w.useCallback(async h=>{var x;try{const b=(x=l.deckSeries.find(C=>C.id===h))==null?void 0:x.name;c({type:"DELETE_SERIES",payload:h}),N(`Series "${b||"Series"}" permanently deleted.`,"success"),await zu(h)}catch(b){console.error("Failed to permanently delete series:",b),N("There was an error permanently deleting the series.","error")}},[l.deckSeries,c,N]),y=w.useCallback(()=>{S({title:"Factory Reset",message:"Are you sure you want to perform a factory reset? All of your decks, folders, series, and settings will be permanently deleted. This action cannot be undone.",confirmText:"RESET",onConfirm:async()=>{try{N("Resetting application...","info"),navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"CLEAR_APP_CACHE"}),navigator.serviceWorker.controller.postMessage({type:"CLEAR_CDN_CACHE"})),await pm();const h=[];for(let x=0;x<localStorage.length;x++){const b=localStorage.key(x);b&&(b.startsWith("cogniflow-")||b.startsWith("session_deck_")||b.startsWith("series-progress-"))&&h.push(b)}h.forEach(x=>localStorage.removeItem(x)),setTimeout(()=>{window.location.reload()},1500)}catch(h){console.error("Factory reset failed:",h);const x=h instanceof Error?h.message:"Factory reset failed. Please try again.";N(x,"error")}}})},[N,S]),u=w.useCallback(()=>{const{deckSeries:h,decks:x}=l;if(!h.length||!x.length)return;let b=!1;const C=new Map(m);for(const F of h){if(F.archived||F.deletedAt)continue;const I=new Set(C.get(F.id)||[]);let H=!1;for(const se of F.deckIds){if(I.has(se))continue;const pe=x.find(De=>De.id===se);if(!pe)continue;(pe.type===ve.Quiz?pe.questions:pe.cards).some(De=>!De.suspended&&De.interval===0)||(I.add(se),H=!0)}H&&(C.set(F.id,I),b=!0)}b&&(g(C),C.forEach((F,I)=>{try{localStorage.setItem(`series-progress-${I}`,JSON.stringify(Array.from(F)))}catch(H){console.error(`Could not save reconciled series progress for ${I}`,H)}}),N("Unlocked decks based on your progress.","info"))},[l.decks,l.deckSeries,m,g,N]);return{updateLastOpened:Y,handleSessionEnd:z,handleAddDecks:$,handleCreateSampleDeck:R,handleCreateSampleSeries:Q,handleRestoreData:le,handleDeleteDeck:q,handleUpdateDeck:A,handleMoveDeck:O,handleItemReviewed:te,handleResetDeckProgress:fe,handleExportData:ee,handleStartGeneralStudy:me,handleStartSeriesStudy:Ee,handleSaveFolder:ne,handleDeleteFolder:re,handleUpdateSeries:J,handleSaveSeries:ie,handleDeleteSeries:be,handleAddDeckToSeries:Me,handleRestoreDeck:Se,handleRestoreSeries:K,handleDeleteDeckPermanently:B,handleDeleteSeriesPermanently:X,handleFactoryReset:y,reconcileSeriesProgress:u}},Qu=w.createContext(void 0),Du=(l,c)=>{if(typeof window>"u")return c;try{const i=window.localStorage.getItem(l);return i?JSON.parse(i)===!0:c}catch(i){return console.error(`Error reading ${l} from localStorage`,i),c}},Vm=({children:l})=>{const[c,i]=w.useState(()=>Du("cogniflow-disableAnimations",!1)),[f,m]=w.useState(()=>Du("cogniflow-hapticsEnabled",!0)),g=w.useCallback(T=>{i(T);try{window.localStorage.setItem("cogniflow-disableAnimations",JSON.stringify(T))}catch(P){console.error("Error writing animation setting to localStorage",P)}},[]),v=w.useCallback(T=>{m(T);try{window.localStorage.setItem("cogniflow-hapticsEnabled",JSON.stringify(T))}catch(P){console.error("Error writing haptics setting to localStorage",P)}},[]),S={disableAnimations:c,setDisableAnimations:g,hapticsEnabled:f,setHapticsEnabled:v};return n.jsx(Qu.Provider,{value:S,children:l})},wa=()=>{const l=w.useContext(Qu);if(l===void 0)throw new Error("useSettings must be used within a SettingsProvider");return l},da=120,qm=()=>{const[l,c]=w.useState({startY:0,pullDistance:0,isRefreshing:!1,thresholdMet:!1}),{hapticsEnabled:i}=wa(),f=w.useCallback(v=>{window.scrollY===0?c(S=>({...S,startY:v.touches[0].clientY,pullDistance:0,isRefreshing:!1,thresholdMet:!1})):c(S=>({...S,startY:0}))},[]),m=w.useCallback(v=>{if(l.startY===0)return;const S=v.touches[0].clientY-l.startY;S>0&&(v.preventDefault(),S>da&&!l.thresholdMet&&i&&"vibrate"in navigator&&navigator.vibrate(50),c(P=>({...P,pullDistance:S,thresholdMet:S>da})))},[l.startY,l.thresholdMet,i]),g=w.useCallback(()=>{l.startY!==0&&(l.pullDistance>da?(c(v=>({...v,isRefreshing:!0})),setTimeout(()=>{window.location.reload()},500)):c({startY:0,pullDistance:0,isRefreshing:!1,thresholdMet:!1}))},[l.startY,l.pullDistance]);return{pullToRefreshState:l,handleTouchStart:f,handleTouchMove:m,handleTouchEnd:g,REFRESH_THRESHOLD:da}},Jm=({onOpenMenu:l,activeDeck:c})=>{const{path:i,navigate:f}=$r();let m;const g=n.jsx("span",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-teal-300",children:"CogniFlow"}),v=c==null?void 0:c.id;if(i.startsWith("/decks/")&&i.endsWith("/study")){const S=new URLSearchParams(window.location.hash.split("?")[1]).get("seriesId"),T=S?`/series/${S}`:v?`/decks/${v}`:"/";m=n.jsxs(U,{variant:"ghost",onClick:()=>f(T),className:"flex items-center space-x-2 -ml-3",children:[n.jsx(L,{name:"chevron-left"}),n.jsx("span",{className:"truncate",children:(c==null?void 0:c.name)||"Back"})]})}else if(i.startsWith("/decks/")){const S=new URLSearchParams(window.location.hash.split("?")[1]).get("seriesId");S?m=n.jsxs(U,{variant:"ghost",onClick:()=>f(`/series/${S}`),className:"flex items-center space-x-2 -ml-3",children:[n.jsx(L,{name:"chevron-left"}),n.jsx("span",{children:"Back to Series"})]}):m=n.jsxs(U,{variant:"ghost",onClick:()=>f("/"),className:"flex items-center space-x-2 -ml-3",children:[n.jsx(L,{name:"chevron-left"}),g]})}else i.startsWith("/series/")||i==="/study/general"||i==="/settings"||i==="/instructions/json"||i==="/archive"||i==="/trash"?m=n.jsxs(U,{variant:"ghost",onClick:()=>f("/"),className:"flex items-center space-x-2 -ml-3",children:[n.jsx(L,{name:"chevron-left"}),g]}):m=n.jsx(it,{href:"/",className:"no-underline",children:n.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-teal-300",children:"CogniFlow"})});return n.jsx("header",{className:"bg-white/80 dark:bg-gray-800/30 backdrop-blur-sm sticky top-0 z-20 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[n.jsx("div",{className:"flex-1 min-w-0",children:m}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx(U,{variant:"ghost",onClick:l,className:"p-1 h-auto","aria-label":"Open menu",children:n.jsx(L,{name:"menu"})})})]})})},lr=({level:l})=>{const c=Math.round(l*100);let i="bg-red-500",f="Novice";return c>85?(i="bg-green-500",f="Mastered"):c>65?(i="bg-teal-500",f="Proficient"):c>40?(i="bg-blue-500",f="Familiar"):c>15&&(i="bg-orange-500",f="Learning"),n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex justify-between mb-1 text-xs",children:[n.jsxs("span",{className:"font-semibold text-gray-600 dark:text-gray-300",children:["Mastery: ",f]}),n.jsxs("span",{className:"font-semibold text-gray-500 dark:text-gray-400",children:[c,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:`${i} h-2 rounded-full transition-all duration-500`,style:{width:`${c}%`},role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Mastery level: ${f}, ${c}%`})})]})},Km=l=>{const c=new Date;return c.setHours(23,59,59,999),(l.type===ve.Quiz?l.questions:l.cards).filter(f=>!f.suspended&&new Date(f.dueDate)<=c).length},Gm=l=>l&&new DOMParser().parseFromString(l,"text/html").body.textContent||"",Wu=({deck:l,sessionsToResume:c,onUpdateLastOpened:i,draggedDeckId:f,onDragStart:m,onDragEnd:g,onUpdateDeck:v,onDeleteDeck:S,openConfirmModal:T})=>{const P=Km(l),N=c.has(l.id),D=l.type===ve.Quiz?l.questions:l.cards,A=D.length,$=l.type===ve.Quiz?A===1?"question":"questions":A===1?"card":"cards",[Y,z]=w.useState(!1),R=w.useRef(null);w.useEffect(()=>{const O=te=>{R.current&&!R.current.contains(te.target)&&z(!1)};return Y?document.addEventListener("mousedown",O):document.removeEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[Y]);const Q=O=>{O.stopPropagation(),v({...l,archived:!0}),z(!1)},le=O=>{O.stopPropagation(),T({title:"Move Deck to Trash",message:`Are you sure you want to move the deck "${l.name}" to the trash? It will be permanently deleted after 10 days.`,onConfirm:()=>S(l.id)}),z(!1)},q=w.useMemo(()=>{const O=D.filter(fe=>!fe.suspended);return O.length===0?0:O.reduce((fe,ee)=>fe+ar(ee),0)/O.length},[D]);return n.jsx("div",{draggable:"true",onDragStart:O=>{O.dataTransfer.setData("text/plain",l.id),setTimeout(()=>m(l.id),0)},onDragEnd:g,className:`bg-white dark:bg-gray-800 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 ${f===l.id?"opacity-40 scale-95":"opacity-100"}`,children:n.jsxs("div",{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 mr-4 min-w-0",children:[n.jsxs(it,{href:`/decks/${l.id}`,className:"block",onClick:()=>i(l.id),children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 break-words hover:text-blue-500 dark:hover:text-blue-300 transition-colors",children:l.name}),l.description&&n.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-gray-500 dark:text-gray-400 mt-1 truncate [&_a]:text-blue-500 dark:[&_a]:text-blue-400 [&_a:hover]:text-blue-600 dark:[&_a:hover]:text-blue-300",title:Gm(l.description),dangerouslySetInnerHTML:{__html:l.description}}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm mt-2",children:[n.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[A," ",$]}),n.jsxs("span",{className:`font-semibold ${P>0?"text-blue-500 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`,children:[P," due"]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(lr,{level:q})})]}),n.jsxs("div",{className:"flex flex-shrink-0 items-center space-x-1 pl-2",children:[n.jsx(it,{href:`/decks/${l.id}/study`,passAs:U,variant:"primary",onClick:()=>i(l.id),disabled:P===0&&!N,className:"font-semibold w-24",children:N?"Resume":"Study"}),n.jsxs("div",{className:"relative",ref:R,children:[n.jsx(U,{variant:"ghost",className:"p-2 h-auto",onClick:O=>{O.stopPropagation(),z(te=>!te)},"aria-label":`More options for ${l.name}`,children:n.jsx(L,{name:"more-vertical",className:"w-5 h-5"})}),Y&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10 ring-1 ring-black ring-opacity-5 animate-fade-in",style:{animationDuration:"150ms"},children:[n.jsxs(it,{href:`/decks/${l.id}`,onClick:()=>{i(l.id),z(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(L,{name:"edit",className:"w-4 h-4 mr-3"}),"Details / Edit"]}),n.jsxs("button",{onClick:Q,className:"flex items-center w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(L,{name:"archive",className:"w-4 h-4 mr-3"}),"Archive"]}),n.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),n.jsxs("button",{onClick:le,className:"flex items-center w-full px-4 py-2 text-sm text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[n.jsx(L,{name:"trash-2",className:"w-4 h-4 mr-3"}),"Move to Trash"]})]})]})]})]})},l.id)},Ym=({folder:l,decks:c,isOpen:i,onToggle:f,sessionsToResume:m,onUpdateLastOpened:g,onEditFolder:v,onDeleteFolder:S,draggedDeckId:T,onDragStart:P,onDragEnd:N,onMoveDeck:D,onUpdateDeck:A,onDeleteDeck:$,openConfirmModal:Y})=>{const[z,R]=w.useState(!1),Q=O=>{O.preventDefault(),O.stopPropagation();const te=O.dataTransfer.getData("text/plain");te&&te===T&&(D(te,l.id),N()),R(!1)},le=O=>{O.preventDefault(),O.dataTransfer.dropEffect="move",R(!0)},q=()=>{R(!1)};return n.jsxs("div",{className:`rounded-lg transition-colors ${z?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100/50 dark:bg-gray-800/20"}`,onDrop:Q,onDragOver:le,onDragLeave:q,children:[n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700/50",children:n.jsxs("button",{onClick:f,className:"w-full flex justify-between items-center text-left p-4","aria-expanded":i,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(L,{name:"chevron-down",className:`w-5 h-5 transition-transform duration-300 mr-3 ${i?"":"-rotate-90"} text-gray-500`}),n.jsx(L,{name:"folder",className:"w-6 h-6 mr-3 text-yellow-600 dark:text-yellow-500"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:l.name})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(U,{variant:"ghost",className:"p-2 h-auto",onClick:O=>{O.stopPropagation(),v(l)},"aria-label":`Edit folder ${l.name}`,children:n.jsx(L,{name:"edit",className:"w-4 h-4"})}),n.jsx(U,{variant:"ghost",className:"p-2 h-auto hover:text-red-500",onClick:O=>{O.stopPropagation(),S(l.id)},"aria-label":`Delete folder ${l.name}`,children:n.jsx(L,{name:"trash-2",className:"w-4 h-4"})})]})]})}),i&&n.jsx("div",{className:"p-4 space-y-4",children:c.length>0?c.map(O=>n.jsx(Wu,{deck:O,sessionsToResume:m,onUpdateLastOpened:g,draggedDeckId:T,onDragStart:P,onDragEnd:N,onUpdateDeck:A,onDeleteDeck:$,openConfirmModal:Y},O.id)):n.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"This folder is empty. Drag a deck here to add it."})})]})},Xm=({decks:l,folders:c,sessionsToResume:i,onUpdateLastOpened:f,onEditFolder:m,onDeleteFolder:g,draggedDeckId:v,onDragStart:S,onDragEnd:T,onMoveDeck:P,openFolderIds:N,onToggleFolder:D,onUpdateDeck:A,onDeleteDeck:$,openConfirmModal:Y})=>{const{decksByFolder:z,ungroupedDecks:R}=w.useMemo(()=>{const te=new Map,fe=[];return l.forEach(ee=>{ee.folderId&&c.some(me=>me.id===ee.folderId)?(te.has(ee.folderId)||te.set(ee.folderId,[]),te.get(ee.folderId).push(ee)):fe.push(ee)}),{decksByFolder:te,ungroupedDecks:fe}},[l,c]),[Q,le]=w.useState(!1),q=te=>{te.preventDefault();const fe=te.dataTransfer.getData("text/plain");fe&&fe===v&&(P(fe,null),T()),le(!1)},O=te=>{te.preventDefault(),te.dataTransfer.dropEffect="move",le(!0)};return n.jsxs("div",{className:"space-y-4",children:[c.map(te=>n.jsx(Ym,{folder:te,decks:z.get(te.id)||[],isOpen:N.has(te.id),onToggle:()=>D(te.id),sessionsToResume:i,onUpdateLastOpened:f,onEditFolder:m,onDeleteFolder:g,draggedDeckId:v,onDragStart:S,onDragEnd:T,onMoveDeck:P,onUpdateDeck:A,onDeleteDeck:$,openConfirmModal:Y},te.id)),n.jsx("div",{onDrop:q,onDragOver:O,onDragLeave:()=>le(!1),className:`p-2 -m-2 rounded-lg transition-colors ${Q?"bg-blue-100 dark:bg-blue-900/30":""}`,children:n.jsx("div",{className:"space-y-4",children:R.map(te=>n.jsx(Wu,{deck:te,sessionsToResume:i,onUpdateLastOpened:f,draggedDeckId:v,onDragStart:S,onDragEnd:T,onUpdateDeck:A,onDeleteDeck:$,openConfirmModal:Y},te.id))})})]})},vo=({html:l,className:c})=>{const i=`html-container-${ya.useId()}`;return ya.useEffect(()=>{const f=document.getElementById(i);if(!f)return;const m=Array.from(f.getElementsByTagName("script")),g=[];return m.forEach(v=>{const S=document.createElement("script");Array.from(v.attributes).forEach(T=>{S.setAttribute(T.name,T.value)}),S.text=v.text,document.body.appendChild(S),g.push(S)}),()=>{g.forEach(v=>document.body.removeChild(v))}},[l,i]),n.jsx("div",{id:i,className:c,dangerouslySetInnerHTML:{__html:l}})},Zm=({card:l,isFlipped:c})=>{const{disableAnimations:i}=wa(),f="text-2xl text-center text-gray-900 dark:text-gray-100 break-words prose dark:prose-invert max-w-none prose-img:mx-auto prose-img:max-h-48 prose-audio:mx-auto",m=ar(l);return i?n.jsxs("div",{className:"w-full h-80",children:[l.css&&n.jsx("div",{dangerouslySetInnerHTML:{__html:l.css}}),n.jsxs("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 rounded-lg shadow-lg flex flex-col justify-between p-6 border border-gray-200 dark:border-gray-700 overflow-y-auto",children:[n.jsx("div",{className:"flex-grow flex items-center justify-center",children:n.jsx(vo,{html:c?l.back:l.front,className:f})}),c&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:n.jsx(lr,{level:m})})]})]}):n.jsxs("div",{className:"w-full h-80 perspective-1000",children:[l.css&&n.jsx("div",{dangerouslySetInnerHTML:{__html:l.css}}),n.jsxs("div",{className:`relative w-full h-full transition-transform duration-700 transform-style-preserve-3d ${c?"rotate-y-180":""}`,children:[n.jsx("div",{className:"absolute w-full h-full backface-hidden bg-gray-100 dark:bg-gray-800 rounded-lg shadow-lg flex items-center justify-center p-6 border border-gray-200 dark:border-gray-700 overflow-y-auto",children:n.jsx(vo,{html:l.front,className:f})}),n.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-gray-100 dark:bg-gray-800 rounded-lg shadow-lg flex flex-col justify-between p-6 border border-gray-200 dark:border-gray-700 rotate-y-180 overflow-y-auto",children:[n.jsx("div",{className:"flex-grow flex items-center justify-center",children:n.jsx(vo,{html:l.back,className:f})}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:n.jsx(lr,{level:m})})]})]})]})},eh=({question:l,selectedAnswerId:c,onSelectAnswer:i,deckName:f})=>{const m=c!==null,[g,v]=w.useState(!1),[S,T]=w.useState(null),[P,N]=w.useState(!1),D=w.useMemo(()=>{const $=[...l.options];for(let Y=$.length-1;Y>0;Y--){const z=Math.floor(Math.random()*(Y+1));[$[Y],$[z]]=[$[z],$[Y]]}return $},[l.id]),A=$=>{let Y="flex items-start text-left w-full p-4 rounded-lg border-2 transition-all duration-200";if(m){const z=$.id===l.correctAnswerId,R=$.id===c;return z?`${Y} bg-green-500/10 dark:bg-green-500/30 border-green-500 cursor-default`:R?`${Y} bg-red-500/10 dark:bg-red-500/30 border-red-500 cursor-default`:`${Y} bg-gray-100/50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 opacity-60 cursor-default`}return`${Y} bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-blue-500 hover:bg-gray-100 dark:hover:bg-gray-700/50`};return n.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-lg p-6 w-full border border-gray-200 dark:border-gray-700",children:[f&&n.jsxs("div",{className:"mb-3 text-xs text-gray-500 dark:text-gray-400 font-medium tracking-wider uppercase",children:["From: ",f]}),n.jsx("p",{className:"text-lg md:text-xl font-semibold mb-6 text-gray-800 dark:text-gray-200 break-words",children:l.questionText}),n.jsx("div",{className:"space-y-3",children:D.map($=>{const Y=$.id===l.correctAnswerId,z=$.id===c;return n.jsxs("button",{onClick:()=>i($.id),disabled:m,className:A($),"aria-pressed":z,children:[n.jsxs("div",{className:"flex-shrink-0 w-6 h-6 mr-4 mt-1",children:[m&&Y&&n.jsx(L,{name:"check-circle",className:"text-green-500 dark:text-green-400"}),m&&z&&!Y&&n.jsx(L,{name:"x-circle",className:"text-red-500 dark:text-red-400"})]}),n.jsxs("div",{className:"flex-grow min-w-0",children:[n.jsx("span",{className:"text-gray-900 dark:text-gray-100 break-words",children:$.text}),m&&$.explanation&&n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 break-words",children:$.explanation})]})]},$.id)})}),m&&n.jsxs("div",{className:"mt-8 p-4 bg-gray-100 dark:bg-gray-900/70 rounded-lg animate-fade-in space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg text-blue-600 dark:text-blue-300 mb-2",children:"Detailed Explanation"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:l.detailedExplanation})]}),n.jsx("div",{className:"pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:n.jsx(lr,{level:ar(l)})})]})]})},Vu=({current:l,total:c})=>{const i=c>0?l/c*100:0;return n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${i}%`}})})};var Io={};(function l(c,i,f,m){var g=!!(c.Worker&&c.Blob&&c.Promise&&c.OffscreenCanvas&&c.OffscreenCanvasRenderingContext2D&&c.HTMLCanvasElement&&c.HTMLCanvasElement.prototype.transferControlToOffscreen&&c.URL&&c.URL.createObjectURL),v=typeof Path2D=="function"&&typeof DOMMatrix=="function",S=function(){if(!c.OffscreenCanvas)return!1;var y=new OffscreenCanvas(1,1),u=y.getContext("2d");u.fillRect(0,0,1,1);var h=y.transferToImageBitmap();try{u.createPattern(h,"no-repeat")}catch{return!1}return!0}();function T(){}function P(y){var u=i.exports.Promise,h=u!==void 0?u:c.Promise;return typeof h=="function"?new h(y):(y(T,T),null)}var N=function(y,u){return{transform:function(h){if(y)return h;if(u.has(h))return u.get(h);var x=new OffscreenCanvas(h.width,h.height),b=x.getContext("2d");return b.drawImage(h,0,0),u.set(h,x),x},clear:function(){u.clear()}}}(S,new Map),D=function(){var y=Math.floor(16.666666666666668),u,h,x={},b=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(u=function(C){var F=Math.random();return x[F]=requestAnimationFrame(function I(H){b===H||b+y-1<H?(b=H,delete x[F],C()):x[F]=requestAnimationFrame(I)}),F},h=function(C){x[C]&&cancelAnimationFrame(x[C])}):(u=function(C){return setTimeout(C,y)},h=function(C){return clearTimeout(C)}),{frame:u,cancel:h}}(),A=function(){var y,u,h={};function x(b){function C(F,I){b.postMessage({options:F||{},callback:I})}b.init=function(I){var H=I.transferControlToOffscreen();b.postMessage({canvas:H},[H])},b.fire=function(I,H,se){if(u)return C(I,null),u;var pe=Math.random().toString(36).slice(2);return u=P(function(ce){function je(De){De.data.callback===pe&&(delete h[pe],b.removeEventListener("message",je),u=null,N.clear(),se(),ce())}b.addEventListener("message",je),C(I,pe),h[pe]=je.bind(null,{data:{callback:pe}})}),u},b.reset=function(){b.postMessage({reset:!0});for(var I in h)h[I](),delete h[I]}}return function(){if(y)return y;if(!f&&g){var b=["var CONFETTI, SIZE = {}, module = {};","("+l.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{y=new Worker(URL.createObjectURL(new Blob([b])))}catch(C){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",C),null}x(y)}return y}}(),$={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Y(y,u){return u?u(y):y}function z(y){return y!=null}function R(y,u,h){return Y(y&&z(y[u])?y[u]:$[u],h)}function Q(y){return y<0?0:Math.floor(y)}function le(y,u){return Math.floor(Math.random()*(u-y))+y}function q(y){return parseInt(y,16)}function O(y){return y.map(te)}function te(y){var u=String(y).replace(/[^0-9a-f]/gi,"");return u.length<6&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),{r:q(u.substring(0,2)),g:q(u.substring(2,4)),b:q(u.substring(4,6))}}function fe(y){var u=R(y,"origin",Object);return u.x=R(u,"x",Number),u.y=R(u,"y",Number),u}function ee(y){y.width=document.documentElement.clientWidth,y.height=document.documentElement.clientHeight}function me(y){var u=y.getBoundingClientRect();y.width=u.width,y.height=u.height}function Ee(y){var u=document.createElement("canvas");return u.style.position="fixed",u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.zIndex=y,u}function ne(y,u,h,x,b,C,F,I,H){y.save(),y.translate(u,h),y.rotate(C),y.scale(x,b),y.arc(0,0,1,F,I,H),y.restore()}function re(y){var u=y.angle*(Math.PI/180),h=y.spread*(Math.PI/180);return{x:y.x,y:y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:y.startVelocity*.5+Math.random()*y.startVelocity,angle2D:-u+(.5*h-Math.random()*h),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:y.color,shape:y.shape,tick:0,totalTicks:y.ticks,decay:y.decay,drift:y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:y.gravity*3,ovalScalar:.6,scalar:y.scalar,flat:y.flat}}function J(y,u){u.x+=Math.cos(u.angle2D)*u.velocity+u.drift,u.y+=Math.sin(u.angle2D)*u.velocity+u.gravity,u.velocity*=u.decay,u.flat?(u.wobble=0,u.wobbleX=u.x+10*u.scalar,u.wobbleY=u.y+10*u.scalar,u.tiltSin=0,u.tiltCos=0,u.random=1):(u.wobble+=u.wobbleSpeed,u.wobbleX=u.x+10*u.scalar*Math.cos(u.wobble),u.wobbleY=u.y+10*u.scalar*Math.sin(u.wobble),u.tiltAngle+=.1,u.tiltSin=Math.sin(u.tiltAngle),u.tiltCos=Math.cos(u.tiltAngle),u.random=Math.random()+2);var h=u.tick++/u.totalTicks,x=u.x+u.random*u.tiltCos,b=u.y+u.random*u.tiltSin,C=u.wobbleX+u.random*u.tiltCos,F=u.wobbleY+u.random*u.tiltSin;if(y.fillStyle="rgba("+u.color.r+", "+u.color.g+", "+u.color.b+", "+(1-h)+")",y.beginPath(),v&&u.shape.type==="path"&&typeof u.shape.path=="string"&&Array.isArray(u.shape.matrix))y.fill(K(u.shape.path,u.shape.matrix,u.x,u.y,Math.abs(C-x)*.1,Math.abs(F-b)*.1,Math.PI/10*u.wobble));else if(u.shape.type==="bitmap"){var I=Math.PI/10*u.wobble,H=Math.abs(C-x)*.1,se=Math.abs(F-b)*.1,pe=u.shape.bitmap.width*u.scalar,ce=u.shape.bitmap.height*u.scalar,je=new DOMMatrix([Math.cos(I)*H,Math.sin(I)*H,-Math.sin(I)*se,Math.cos(I)*se,u.x,u.y]);je.multiplySelf(new DOMMatrix(u.shape.matrix));var De=y.createPattern(N.transform(u.shape.bitmap),"no-repeat");De.setTransform(je),y.globalAlpha=1-h,y.fillStyle=De,y.fillRect(u.x-pe/2,u.y-ce/2,pe,ce),y.globalAlpha=1}else if(u.shape==="circle")y.ellipse?y.ellipse(u.x,u.y,Math.abs(C-x)*u.ovalScalar,Math.abs(F-b)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI):ne(y,u.x,u.y,Math.abs(C-x)*u.ovalScalar,Math.abs(F-b)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI);else if(u.shape==="star")for(var ge=Math.PI/2*3,He=4*u.scalar,Le=8*u.scalar,Xe=u.x,dt=u.y,vt=5,Je=Math.PI/vt;vt--;)Xe=u.x+Math.cos(ge)*Le,dt=u.y+Math.sin(ge)*Le,y.lineTo(Xe,dt),ge+=Je,Xe=u.x+Math.cos(ge)*He,dt=u.y+Math.sin(ge)*He,y.lineTo(Xe,dt),ge+=Je;else y.moveTo(Math.floor(u.x),Math.floor(u.y)),y.lineTo(Math.floor(u.wobbleX),Math.floor(b)),y.lineTo(Math.floor(C),Math.floor(F)),y.lineTo(Math.floor(x),Math.floor(u.wobbleY));return y.closePath(),y.fill(),u.tick<u.totalTicks}function ie(y,u,h,x,b){var C=u.slice(),F=y.getContext("2d"),I,H,se=P(function(pe){function ce(){I=H=null,F.clearRect(0,0,x.width,x.height),N.clear(),b(),pe()}function je(){f&&!(x.width===m.width&&x.height===m.height)&&(x.width=y.width=m.width,x.height=y.height=m.height),!x.width&&!x.height&&(h(y),x.width=y.width,x.height=y.height),F.clearRect(0,0,x.width,x.height),C=C.filter(function(De){return J(F,De)}),C.length?I=D.frame(je):ce()}I=D.frame(je),H=ce});return{addFettis:function(pe){return C=C.concat(pe),se},canvas:y,promise:se,reset:function(){I&&D.cancel(I),H&&H()}}}function be(y,u){var h=!y,x=!!R(u||{},"resize"),b=!1,C=R(u,"disableForReducedMotion",Boolean),F=g&&!!R(u||{},"useWorker"),I=F?A():null,H=h?ee:me,se=y&&I?!!y.__confetti_initialized:!1,pe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ce;function je(ge,He,Le){for(var Xe=R(ge,"particleCount",Q),dt=R(ge,"angle",Number),vt=R(ge,"spread",Number),Je=R(ge,"startVelocity",Number),ke=R(ge,"decay",Number),Ce=R(ge,"gravity",Number),_e=R(ge,"drift",Number),Te=R(ge,"colors",O),Qe=R(ge,"ticks",Number),$t=R(ge,"shapes"),Br=R(ge,"scalar"),Hr=!!R(ge,"flat"),yn=fe(ge),or=Xe,Gt=[],ja=y.width*yn.x,rs=y.height*yn.y;or--;)Gt.push(re({x:ja,y:rs,angle:dt,spread:vt,startVelocity:Je,color:Te[or%Te.length],shape:$t[le(0,$t.length)],ticks:Qe,decay:ke,gravity:Ce,drift:_e,scalar:Br,flat:Hr}));return ce?ce.addFettis(Gt):(ce=ie(y,Gt,H,He,Le),ce.promise)}function De(ge){var He=C||R(ge,"disableForReducedMotion",Boolean),Le=R(ge,"zIndex",Number);if(He&&pe)return P(function(Je){Je()});h&&ce?y=ce.canvas:h&&!y&&(y=Ee(Le),document.body.appendChild(y)),x&&!se&&H(y);var Xe={width:y.width,height:y.height};I&&!se&&I.init(y),se=!0,I&&(y.__confetti_initialized=!0);function dt(){if(I){var Je={getBoundingClientRect:function(){if(!h)return y.getBoundingClientRect()}};H(Je),I.postMessage({resize:{width:Je.width,height:Je.height}});return}Xe.width=Xe.height=null}function vt(){ce=null,x&&(b=!1,c.removeEventListener("resize",dt)),h&&y&&(document.body.contains(y)&&document.body.removeChild(y),y=null,se=!1)}return x&&!b&&(b=!0,c.addEventListener("resize",dt,!1)),I?I.fire(ge,Xe,vt):je(ge,Xe,vt)}return De.reset=function(){I&&I.reset(),ce&&ce.reset()},De}var Me;function Se(){return Me||(Me=be(null,{useWorker:!0,resize:!0})),Me}function K(y,u,h,x,b,C,F){var I=new Path2D(y),H=new Path2D;H.addPath(I,new DOMMatrix(u));var se=new Path2D;return se.addPath(H,new DOMMatrix([Math.cos(F)*b,Math.sin(F)*b,-Math.sin(F)*C,Math.cos(F)*C,h,x])),se}function B(y){if(!v)throw new Error("path confetti are not supported in this browser");var u,h;typeof y=="string"?u=y:(u=y.path,h=y.matrix);var x=new Path2D(u),b=document.createElement("canvas"),C=b.getContext("2d");if(!h){for(var F=1e3,I=F,H=F,se=0,pe=0,ce,je,De=0;De<F;De+=2)for(var ge=0;ge<F;ge+=2)C.isPointInPath(x,De,ge,"nonzero")&&(I=Math.min(I,De),H=Math.min(H,ge),se=Math.max(se,De),pe=Math.max(pe,ge));ce=se-I,je=pe-H;var He=10,Le=Math.min(He/ce,He/je);h=[Le,0,0,Le,-Math.round(ce/2+I)*Le,-Math.round(je/2+H)*Le]}return{type:"path",path:u,matrix:h}}function X(y){var u,h=1,x="#000000",b='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof y=="string"?u=y:(u=y.text,h="scalar"in y?y.scalar:h,b="fontFamily"in y?y.fontFamily:b,x="color"in y?y.color:x);var C=10*h,F=""+C+"px "+b,I=new OffscreenCanvas(C,C),H=I.getContext("2d");H.font=F;var se=H.measureText(u),pe=Math.ceil(se.actualBoundingBoxRight+se.actualBoundingBoxLeft),ce=Math.ceil(se.actualBoundingBoxAscent+se.actualBoundingBoxDescent),je=2,De=se.actualBoundingBoxLeft+je,ge=se.actualBoundingBoxAscent+je;pe+=je+je,ce+=je+je,I=new OffscreenCanvas(pe,ce),H=I.getContext("2d"),H.font=F,H.fillStyle=x,H.fillText(u,De,ge);var He=1/h;return{type:"bitmap",bitmap:I.transferToImageBitmap(),matrix:[He,0,0,He,-pe*He/2,-ce*He/2]}}i.exports=function(){return Se().apply(this,arguments)},i.exports.reset=function(){Se().reset()},i.exports.create=be,i.exports.shapeFromPath=B,i.exports.shapeFromText=X})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Io,!1);const ko=Io.exports;Io.exports.create;const th=()=>(w.useEffect(()=>{const c=Date.now()+1e3,f={startVelocity:30,spread:360,ticks:90,zIndex:99,colors:["#60a5fa","#5eead4","#a78bfa","#fde047","#f9fafb"]};function m(v,S){return Math.random()*(S-v)+v}const g=window.setInterval(()=>{const v=c-Date.now();if(v<=0)return clearInterval(g);const S=50*(v/1e3);ko({...f,particleCount:S,origin:{x:m(.1,.3),y:Math.random()-.2}}),ko({...f,particleCount:S,origin:{x:m(.7,.9),y:Math.random()-.2}})},250);return()=>{clearInterval(g),ko.reset()}},[]),null),wo=({deck:l,onSessionEnd:c,onItemReviewed:i,onUpdateLastOpened:f,sessionKeySuffix:m="",seriesId:g})=>{const[v,S]=w.useState([]),[T,P]=w.useState([]),[N,D]=w.useState(0),[A,$]=w.useState(0),[Y,z]=w.useState(!1),[R,Q]=w.useState(null),[le,q]=w.useState(!1),[O,te]=w.useState(!1),{hapticsEnabled:fe}=wa(),{addToast:ee}=xt(),me=w.useMemo(()=>l.id==="general-study-deck",[l.id]),Ee=`session_deck_${l.id}${m}`,ne=w.useMemo(()=>({reviewQueue:v,currentIndex:N}),[v,N]);w.useEffect(()=>{if(f(l.id),me){S(l.questions),q(!0);return}if(m==="_flip"){const I=l.type===ve.Flashcard?l.cards:[];S(I),q(!0);return}const C=localStorage.getItem(Ee);let F=!1;if(C)try{const I=JSON.parse(C);I.reviewQueue&&typeof I.currentIndex=="number"&&(S(I.reviewQueue),D(I.currentIndex),$(I.currentIndex),F=!0,ee("Session resumed.","info"))}catch(I){console.error("Failed to parse saved session",I),localStorage.removeItem(Ee)}if(!F){const I=new Date;I.setHours(23,59,59,999);const se=(l.type===ve.Quiz?l.questions:l.cards).filter(pe=>!pe.suspended&&new Date(pe.dueDate)<=I).sort(()=>Math.random()-.5);S(se)}return q(!0),()=>{if(!me&&N<v.length)try{localStorage.setItem(Ee,JSON.stringify(ne))}catch(I){console.error("Could not save session state",I)}}},[l.id,l.type,m]),w.useEffect(()=>{if(!me&&le&&N<v.length)try{localStorage.setItem(Ee,JSON.stringify(ne))}catch(C){console.error("Could not save session state",C)}},[ne,me,le,Ee,N,v.length]);const re=w.useMemo(()=>v[A],[v,A]),J=A<N,ie=A===N,be=re&&"questionText"in re&&l.type===ve.Quiz,Me=R!==null,Se=re?re.originalDeckName:void 0,K=w.useCallback(C=>{if(!(!ie||Me)&&(Q(C),fe&&"vibrate"in navigator)){const F=(re==null?void 0:re.correctAnswerId)===C;navigator.vibrate(F?50:[100,50,100])}},[ie,Me,re,fe]),B=w.useCallback(()=>{z(!1),Q(null);const C=N+1;C<=v.length&&(D(C),$(C)),C>=v.length&&(me||localStorage.removeItem(Ee))},[N,v.length,me,Ee]),X=w.useCallback(async C=>{if(!re||!ie||O)return;te(!0),fe&&"vibrate"in navigator&&navigator.vibrate(20);const F=ar(re),I=Qm(re,C),H=I.masteryLevel||0,se=Math.round(F*100),pe=Math.round(H*100);se<=85&&pe>85&&ee("Item Mastered!","success"),P(je=>[...je,I]),S(je=>je.map((De,ge)=>ge===N?I:De));const ce=re.originalDeckId||l.id;await i(ce,I,g),setTimeout(()=>{B(),te(!1)},800)},[re,ie,O,fe,B,l.id,i,ee,g,N]),y=w.useCallback(async()=>{if(!re||!ie||O)return;te(!0);const C={...re,suspended:!0};P(I=>[...I,C]);const F=re.originalDeckId||l.id;await i(F,C,g),ee("Card ignored for future sessions.","info"),setTimeout(()=>{B(),te(!1)},300)},[re,ie,O,ee,B,l.id,i,g]),u=w.useCallback(()=>{A>0&&$(C=>C-1)},[A]),h=w.useCallback(()=>{A<N&&$(C=>C+1)},[A,N]);if(w.useEffect(()=>{const C=F=>{if(!(F.target instanceof HTMLInputElement||F.target instanceof HTMLTextAreaElement)){if(F.key==="ArrowLeft"){A>0&&(F.preventDefault(),u());return}if(F.key==="ArrowRight"){A<N&&(F.preventDefault(),h());return}!ie||O||(be&&Me?(F.key==="1"&&X(Ye.Again),F.key==="2"&&X(Ye.Hard),F.key==="3"&&X(Ye.Good),F.key==="4"&&X(Ye.Easy)):be||(Y?(F.key==="1"&&X(Ye.Again),F.key==="2"&&X(Ye.Hard),F.key==="3"&&X(Ye.Good),F.key==="4"&&X(Ye.Easy)):F.code==="Space"&&(F.preventDefault(),z(!0))))}};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[Y,Me,be,ie,O,X,u,h,A,N]),!le)return n.jsx("div",{className:"text-center p-8",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Initializing session..."})});if(v.length===0)return n.jsxs("div",{className:"text-center p-8",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"All caught up!"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:me?"There are no quiz questions due for review across all your decks.":"There are no items due for review in this deck."}),n.jsx(U,{onClick:()=>c(l.id),className:"mt-6",children:"Back to Decks"})]});if(N>=v.length){const C=new Date;C.setHours(0,0,0,0);const F=new Date(C);F.setDate(C.getDate()+1);const I=new Date(C);I.setDate(C.getDate()+7);let H=0,se=0;return T.forEach(pe=>{if(pe.suspended)return;const ce=new Date(pe.dueDate);ce.getTime()>C.getTime()&&ce.getTime()<=F.getTime()&&H++,ce.getTime()>F.getTime()&&ce.getTime()<=I.getTime()&&se++}),n.jsxs("div",{className:"text-center p-8 animate-fade-in relative",children:[n.jsx(th,{}),n.jsx("h2",{className:"text-2xl font-bold text-green-500 dark:text-green-400",children:"Congratulations!"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"You've completed this study session."}),n.jsxs("div",{className:"mt-6 bg-gray-100 dark:bg-gray-800/50 rounded-lg p-4 max-w-sm mx-auto space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-gray-700 dark:text-gray-300",children:[n.jsx("span",{children:"Due tomorrow:"}),n.jsxs("span",{className:"font-bold",children:[H," items"]})]}),n.jsxs("div",{className:"flex justify-between items-center text-gray-700 dark:text-gray-300",children:[n.jsx("span",{children:"Due in the next 7 days:"}),n.jsxs("span",{className:"font-bold",children:[se," items"]})]})]}),n.jsx(U,{onClick:()=>c(l.id),className:"mt-8",children:"Finish Session"})]})}const x=(Y||Me)&&ie,b=v.length>1;return n.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 flex flex-col h-full overflow-x-hidden",children:[n.jsx(Vu,{current:N+1,total:v.length}),n.jsx("div",{className:"flex-grow flex flex-col items-center justify-center my-4 w-full",children:re&&n.jsx("div",{className:"w-full relative animate-fade-in",children:be?n.jsx(eh,{question:re,selectedAnswerId:J?re.correctAnswerId:R,onSelectAnswer:K,deckName:Se}):n.jsx(Zm,{card:re,isFlipped:Y||J})},A)}),n.jsxs("div",{className:"flex-shrink-0 mt-4 flex flex-col items-center justify-center space-y-4 min-h-[10rem]",children:[n.jsx("div",{className:"w-full flex-grow flex items-center justify-center",children:J?n.jsxs("div",{className:"text-center animate-fade-in",children:[n.jsx(U,{onClick:()=>$(N),variant:"primary",className:"text-lg py-3",children:"Return to Current Card"}),n.jsx("div",{className:"text-xs mt-2 font-semibold text-yellow-600 dark:text-yellow-400",children:"(Reviewing Past Item)"})]}):x?n.jsxs("div",{className:"space-y-4 animate-fade-in w-full",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(U,{onClick:()=>X(Ye.Again),className:"bg-red-600 hover:bg-red-700 dark:bg-red-800 dark:hover:bg-red-700 focus:ring-red-500 py-3 text-base text-white",disabled:O,children:["Again ",n.jsx("span",{className:"hidden sm:inline",children:"(1)"})]}),n.jsxs(U,{onClick:()=>X(Ye.Hard),className:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-700 dark:hover:bg-orange-600 focus:ring-orange-400 py-3 text-base text-white",disabled:O,children:["Hard ",n.jsx("span",{className:"hidden sm:inline",children:"(2)"})]}),n.jsxs(U,{onClick:()=>X(Ye.Good),className:"bg-green-600 hover:bg-green-700 dark:bg-green-800 dark:hover:bg-green-700 focus:ring-green-500 py-3 text-base text-white",disabled:O,children:["Good ",n.jsx("span",{className:"hidden sm:inline",children:"(3)"})]}),n.jsxs(U,{onClick:()=>X(Ye.Easy),className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 focus:ring-blue-500 py-3 text-base text-white",disabled:O,children:["Easy ",n.jsx("span",{className:"hidden sm:inline",children:"(4)"})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs(U,{variant:"ghost",onClick:y,className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",disabled:O,children:[n.jsx(L,{name:"eye-off",className:"w-4 h-4 mr-1"})," Ignore this card"]})})]}):!be&&ie&&n.jsxs(U,{onClick:()=>z(!0),variant:"primary",className:"w-full max-w-md text-lg py-3 animate-fade-in mx-auto flex items-center justify-center",children:["Show Answer ",n.jsx("span",{className:"hidden sm:inline ml-2",children:"(Space)"})]})}),b&&n.jsxs("div",{className:"flex justify-center items-center w-full max-w-xs gap-4 animate-fade-in h-12",children:[n.jsx(U,{variant:"ghost",onClick:u,disabled:A===0,className:"p-3 rounded-full disabled:opacity-30","aria-label":"Previous item",children:n.jsx(L,{name:"chevron-left",className:"w-8 h-8"})}),n.jsx("div",{className:"text-center w-28",children:n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Item ",A+1," of ",v.length]})}),n.jsx(U,{variant:"ghost",onClick:h,disabled:A>=N,className:"p-3 rounded-full disabled:opacity-30","aria-label":"Next item",children:n.jsx(L,{name:"chevron-left",className:"w-8 h-8 rotate-180"})})]})]})]})},Tu=({label:l,checked:c,onChange:i,description:f})=>{const m=ya.useId();return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex flex-col",children:[n.jsx("label",{htmlFor:m,className:"font-medium text-gray-700 dark:text-gray-300 cursor-pointer",children:l}),f&&n.jsx("span",{id:`${m}-description`,className:"text-sm text-gray-500 dark:text-gray-400",children:f})]}),n.jsx("button",{id:m,type:"button",role:"switch","aria-checked":c,"aria-describedby":f?`${m}-description`:void 0,onClick:()=>i(!c),className:`${c?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800`,children:n.jsx("span",{"aria-hidden":"true",className:`${c?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})})]})},rh="AIzaSyCxQD2rTQvfarBU5QQLwjHdRTJ-jq3GFMY",nh="727276393482-almsrnelboiul2343hvs643ok8onqtna.apps.googleusercontent.com",sh="https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",ah="https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email";let xa=!1,va=!1,ts=null,pa=[],ga=[];const bo=(l,c)=>{pa.forEach(i=>i(l,c))},lh=l=>{ga.forEach(c=>c(l))},oh=async l=>{if(l.error){bo(!1);return}gapi.client.setToken({access_token:l.access_token});const c=await hh(l.access_token);bo(!0,c)};let fa=null;const ih=()=>fa||(fa=new Promise((l,c)=>{const i=()=>{xa&&va&&(lh(!0),l())},f=()=>{gapi.load("client",async()=>{try{await gapi.client.init({apiKey:rh,discoveryDocs:[sh]}),xa=!0,i()}catch(S){console.error("Error initializing GAPI client",S),c(S)}})},m=()=>{try{ts=google.accounts.oauth2.initTokenClient({client_id:nh,scope:ah,callback:oh}),va=!0,i()}catch(S){console.error("Error initializing GIS client",S),c(S)}},g=document.createElement("script");g.src="https://apis.google.com/js/api.js",g.async=!0,g.defer=!0,g.onload=f,g.onerror=()=>c(new Error("Failed to load GAPI script")),document.body.appendChild(g);const v=document.createElement("script");v.src="https://accounts.google.com/gsi/client",v.async=!0,v.defer=!0,v.onload=m,v.onerror=()=>c(new Error("Failed to load GIS script")),document.body.appendChild(v)}),fa),ch=l=>(ga.push(l),l(va&&xa),()=>{ga=ga.filter(c=>c!==l)}),uh=l=>(pa.push(l),()=>{pa=pa.filter(c=>c!==l)}),dh=()=>{if(!va||!xa||!ts){console.error("Google services not ready for sign-in.");return}ts.requestAccessToken({prompt:"consent"})},fh=()=>{ts&&ts.requestAccessToken({prompt:""})},mh=()=>{const l=gapi.client.getToken();l!==null&&google.accounts.oauth2.revoke(l.access_token,()=>{gapi.client.setToken(""),bo(!1)})},hh=async l=>{const c=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${l}`}});if(!c.ok)throw new Error("Failed to fetch user profile.");return c.json()},ph=async()=>{const[l,c,i]=await Promise.all([Do(),To(),Mo()]);if(l.length===0&&c.length===0&&i.length===0)throw new Error("There is no data to back up.");const m=JSON.stringify({version:3,decks:l,folders:c,deckSeries:i}),S={name:`cogniflow-backup-${Au()}.json`,parents:["appDataFolder"]},T="-------314159265358979323846",P=`\r
--${T}\r
`,N=`\r
--${T}--`,D=P+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(S)+P+`Content-Type: application/json; charset=UTF-8\r
\r
`+m+N,A=await gapi.client.request({path:"https://www.googleapis.com/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart",fields:"id, name, modifiedTime"},headers:{"Content-Type":`multipart/related; boundary=${T}`},body:D});if(A.status!==200)throw new Error("Failed to upload backup file.");return A.result},gh=async()=>(await gapi.client.drive.files.list({spaces:"appDataFolder",fields:"files(id, name, modifiedTime)",orderBy:"modifiedTime desc"})).result.files,yh=async l=>{const c=await gapi.client.drive.files.get({fileId:l,alt:"media"});if(c.status!==200)throw new Error("Failed to download backup file.");const i=c.result;if(typeof i=="object"&&i!==null&&"version"in i&&Array.isArray(i.decks)){const f=i.folders||[],m=i.deckSeries||[];return{decks:i.decks,folders:f,deckSeries:m}}if(Array.isArray(i))return{decks:i,folders:[],deckSeries:[]};throw new Error("Backup file content is not a valid format.")},xh=async l=>{var c,i;try{await gapi.client.drive.files.delete({fileId:l})}catch(f){console.error("Failed to delete file from Google Drive",f);const m=((i=(c=f==null?void 0:f.result)==null?void 0:c.error)==null?void 0:i.message)||"Unknown Google Drive API error.";throw new Error(`Failed to delete backup: ${m}`)}},vh=({onExport:l,onRestore:c,onRestoreData:i,onResetProgress:f,onFactoryReset:m})=>{var Ee,ne,re;const{disableAnimations:g,setDisableAnimations:v,hapticsEnabled:S,setHapticsEnabled:T}=wa(),{addToast:P}=xt(),[N,D]=w.useState({isReady:!1,isSignedIn:!1,isProcessing:!1,user:null}),[A,$]=w.useState([]),[Y,z]=w.useState(!1),R=w.useCallback(async()=>{z(!0);try{const J=await gh();$(J)}catch(J){P(`Could not list files: ${J.message||"Unknown error"}`,"error"),$([])}finally{z(!1)}},[P]);w.useEffect(()=>{let J=!0;(async()=>{try{await ih(),J&&fh()}catch(Se){J&&(console.error("Failed to initialize Google Drive service",Se),P("Could not initialize Google Drive.","error"),D(K=>({...K,isReady:!1,isProcessing:!1})))}})();const be=ch(Se=>{J&&D(K=>({...K,isReady:Se}))}),Me=uh((Se,K)=>{J&&(D(B=>({...B,isSignedIn:Se,user:K,isProcessing:!1})),Se?R():$([]))});return()=>{J=!1,be(),Me()}},[P,R]);const Q=()=>{D(J=>({...J,isProcessing:!0})),dh()},le=()=>{mh()},q=async()=>{D(J=>({...J,isProcessing:!0}));try{const J=await ph();P("Successfully backed up data to Google Drive.","success"),$(ie=>[J,...ie])}catch(J){console.error("Google Drive Backup failed",J),P(`Backup failed: ${J.message||"Unknown error"}`,"error")}finally{D(J=>({...J,isProcessing:!1}))}},O=async J=>{D(ie=>({...ie,isProcessing:!0}));try{const ie=await yh(J);await i(ie)}catch(ie){P(`Restore failed: ${ie.message||"Unknown error"}`,"error")}finally{D(ie=>({...ie,isProcessing:!1}))}},te=J=>{window.confirm(`Are you sure you want to restore from "${J.name}"? This will merge and overwrite existing data.`)&&O(J.id)},fe=async J=>{if(window.confirm(`Are you sure you want to permanently delete the backup "${J.name}"? This action cannot be undone.`)){D(ie=>({...ie,isProcessing:!0}));try{await xh(J.id),P(`Backup "${J.name}" deleted.`,"success"),$(ie=>ie.filter(be=>be.id!==J.id))}catch(ie){console.error("Google Drive Delete failed",ie),P(`Delete failed: ${ie.message||"Unknown error"}`,"error")}finally{D(ie=>({...ie,isProcessing:!1}))}}},ee=J=>{if(!navigator.serviceWorker||!navigator.serviceWorker.controller){P("Service worker is not active. Please reload the page and try again.","error");return}const ie={type:J==="APP"?"CLEAR_APP_CACHE":"CLEAR_CDN_CACHE"};navigator.serviceWorker.controller.postMessage(ie),P(`${J} cache cleared. Please reload the page to apply changes.`,"success")},me=()=>{if(!navigator.serviceWorker||!navigator.serviceWorker.controller){P("Service worker is not active. Please reload the page and try again.","error");return}navigator.serviceWorker.controller.postMessage({type:"CLEAR_APP_CACHE"}),navigator.serviceWorker.controller.postMessage({type:"CLEAR_CDN_CACHE"}),P("All caches cleared. The application will now reload.","info"),setTimeout(()=>{window.location.reload()},1500)};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in space-y-8",children:[n.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-4",children:"Settings"}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Appearance"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Customize the look and feel of the application."}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Tu,{label:"Disable card flip animation",checked:g,onChange:v,description:"For a faster, no-frills study session."}),n.jsx(Tu,{label:"Haptic feedback",checked:S,onChange:T,description:"Provides physical feedback on supported devices."})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Data Management"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Local File Backup"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 my-2",children:"Backup all your decks and study progress to a JSON file on your device."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs(U,{onClick:l,variant:"secondary",className:"w-full sm:w-auto",children:[n.jsx(L,{name:"download",className:"w-5 h-5 mr-2"}),"Backup to File"]}),n.jsxs(U,{onClick:c,variant:"secondary",className:"w-full sm:w-auto",children:[n.jsx(L,{name:"upload-cloud",className:"w-5 h-5 mr-2"}),"Restore from File"]})]})]}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700/60 pt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Google Drive Cloud Backup"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 my-2",children:"Securely back up and restore your data to a private folder in your Google Drive."}),N.isReady?N.isSignedIn?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("img",{src:(Ee=N.user)==null?void 0:Ee.picture,alt:"User profile",className:"w-10 h-10 rounded-full"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:(ne=N.user)==null?void 0:ne.name}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(re=N.user)==null?void 0:re.email})]}),n.jsx(U,{variant:"ghost",onClick:le,className:"ml-auto",children:"Sign Out"})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsxs(U,{onClick:q,variant:"secondary",className:"w-full sm:w-auto",disabled:N.isProcessing,children:[n.jsx(L,{name:"upload-cloud",className:"w-5 h-5 mr-2"}),N.isProcessing?"Backing up...":"Backup to Drive Now"]})}),n.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200 dark:border-gray-700/50",children:[n.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Available Backups"}),Y?n.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[n.jsx(pn,{size:"sm"}),n.jsx("span",{className:"ml-2",children:"Loading backups..."})]}):A.length>0?n.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2",children:A.map(J=>n.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700/50",children:[n.jsxs("div",{className:"min-w-0 mr-2",children:[n.jsx("p",{className:"font-medium text-sm text-gray-800 dark:text-gray-200 truncate",title:J.name,children:J.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:am(J.modifiedTime)})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[n.jsxs(U,{size:"sm",variant:"secondary",onClick:()=>te(J),disabled:N.isProcessing,children:[n.jsx(L,{name:"download",className:"w-4 h-4 mr-1"})," Restore"]}),n.jsx(U,{size:"sm",variant:"ghost",onClick:()=>fe(J),disabled:N.isProcessing,"aria-label":`Delete backup file ${J.name}`,className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 p-2 h-auto",title:"Delete backup",children:n.jsx(L,{name:"trash-2",className:"w-4 h-4"})})]})]},J.id))}):n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No backups found in Google Drive."})]})]}):n.jsxs(U,{onClick:Q,variant:"secondary",disabled:N.isProcessing,children:[n.jsx(L,{name:"google",className:"w-5 h-5 mr-2"}),N.isProcessing?"Signing in...":"Sign in with Google"]}):n.jsxs("div",{className:"h-10 flex items-center",children:[n.jsx(pn,{size:"sm"}),n.jsx("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:"Initializing Google Drive..."})]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Cache Management"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"If you are experiencing issues, clearing the cache can help. You must reload the page afterwards for changes to take full effect."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs(U,{onClick:()=>ee("APP"),variant:"secondary",className:"w-full sm:w-auto",children:[n.jsx(L,{name:"broom",className:"w-5 h-5 mr-2"}),"Clear App Cache"]}),n.jsxs(U,{onClick:()=>ee("CDN"),variant:"secondary",className:"w-full sm-w-auto",children:[n.jsx(L,{name:"broom",className:"w-5 h-5 mr-2"}),"Clear CDN & Library Cache"]})]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:'"App Cache" stores the main interface files. "CDN Cache" stores third-party libraries like React.'}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700/50",children:[n.jsxs(U,{variant:"danger",onClick:me,className:"w-full",children:[n.jsx(L,{name:"refresh-ccw",className:"w-5 h-5 mr-2"}),"Hard Reload (Clear All Caches & Refresh)"]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Use this if you are still experiencing issues after clearing individual caches. This is the most forceful option."})]})]}),n.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-red-400 dark:text-red-300 mb-2",children:"Danger Zone"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-red-400 dark:text-red-300",children:"Reset Deck Progress"}),n.jsx("p",{className:"text-sm text-red-500/80 dark:text-red-300/80 mt-2 mb-4",children:"This will reset the spaced repetition data (due dates, intervals) for all items in a selected deck, without deleting the cards themselves."}),n.jsxs(U,{variant:"danger",onClick:f,children:[n.jsx(L,{name:"refresh-ccw",className:"w-5 h-5 mr-2"}),"Reset Deck Progress..."]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-red-500/30",children:[n.jsx("h4",{className:"font-semibold text-red-400 dark:text-red-300",children:"Factory Reset"}),n.jsx("p",{className:"text-sm text-red-500/80 dark:text-red-300/80 mt-2 mb-4",children:"This will permanently delete all local data, including all decks, folders, series, and settings. The application will be restored to its original state."}),n.jsxs(U,{variant:"danger",onClick:m,children:[n.jsx(L,{name:"trash-2",className:"w-5 h-5 mr-2"}),"Reset Application Data"]})]})]})]})})},kh=({card:l,onClose:c,onSave:i})=>{const[f,m]=w.useState(""),[g,v]=w.useState(""),{addToast:S}=xt(),T=w.useRef(null);Ut(T,!0),w.useEffect(()=>{l&&(m(l.front),v(l.back))},[l]);const P=D=>{if(D.preventDefault(),!f.trim()||!g.trim()){S("Both front and back fields are required.","error");return}i({id:(l==null?void 0:l.id)||"",front:f.trim(),back:g.trim()})},N=D=>{if(D.key==="Tab"){D.preventDefault();const A=D.target,$=A.selectionStart,Y=A.selectionEnd;A.value=A.value.substring(0,$)+"	"+A.value.substring(Y),A.selectionStart=A.selectionEnd=$+1}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsx("div",{ref:T,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl transform transition-all relative",children:n.jsxs("form",{onSubmit:P,children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:l?"Edit Card":"Add New Card"}),n.jsx(U,{type:"button",variant:"ghost",onClick:c,className:"p-1 h-auto",children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-front",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Front"}),n.jsx("textarea",{id:"card-front",value:f,onChange:D=>m(D.target.value),onKeyDown:N,rows:5,className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Enter front content (question, term, etc.)"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-back",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Back"}),n.jsx("textarea",{id:"card-back",value:g,onChange:D=>v(D.target.value),onKeyDown:N,rows:5,className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Enter back content (answer, definition, etc.)"})]})]}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{type:"button",variant:"secondary",onClick:c,className:"mr-2",children:"Cancel"}),n.jsx(U,{type:"submit",variant:"primary",children:l?"Save Changes":"Add Card"})]})]})})})},wh=({cards:l,onCardsChange:c,onAddCard:i,onBulkAdd:f})=>{const[m,g]=w.useState(null),[v,S]=w.useState(!1),[T,P]=w.useState(null),[N,D]=w.useState(!0),A=w.useRef(null),$=(q,O)=>{g(q),O&&(A.current=O.currentTarget),S(!0)},Y=()=>{var q;S(!1),(q=A.current)==null||q.focus(),g(null)},z=(q,O)=>{P(q),O&&(A.current=O.currentTarget)},R=()=>{T&&c(l.filter(q=>q.id!==T.id)),P(null)},Q=q=>{m?c(l.map(O=>O.id===q.id?{...O,...q}:O)):i(q),Y()},le=q=>{c(l.map(O=>O.id===q?{...O,suspended:!1}:O))};return n.jsxs("div",{children:[n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n.jsxs("button",{onClick:()=>D(!N),className:"w-full flex justify-between items-center text-left p-6","aria-expanded":N,"aria-controls":"card-list-content",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Cards"}),n.jsx(L,{name:"chevron-down",className:`w-6 h-6 transition-transform duration-300 ${N?"":"-rotate-90"} text-gray-500`})]})}),N&&n.jsxs("div",{id:"card-list-content",className:"animate-fade-in",children:[n.jsx("div",{className:"p-6",children:l.length>0?n.jsx("ul",{className:"space-y-3",children:l.map(q=>n.jsxs("li",{className:`bg-gray-100 dark:bg-gray-900/50 p-3 rounded-md flex items-center justify-between transition-opacity ${q.suspended?"opacity-50":""}`,children:[n.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:[n.jsx("strong",{children:"Front:"})," ",q.front.replace(/<[^>]+>/g,"")]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[n.jsx("strong",{children:"Back:"})," ",q.back.replace(/<[^>]+>/g,"")]})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[q.suspended?n.jsx(U,{variant:"ghost",className:"p-2 h-auto text-yellow-600 dark:text-yellow-400",onClick:()=>le(q.id),title:"Re-enable this card",children:n.jsx(L,{name:"eye",className:"w-4 h-4"})}):n.jsx(U,{variant:"ghost",className:"p-2 h-auto",onClick:O=>$(q,O),title:"Edit this card",children:n.jsx(L,{name:"edit",className:"w-4 h-4"})}),n.jsx(U,{variant:"ghost",className:"p-2 h-auto text-gray-500 dark:text-gray-400 hover:text-red-500",onClick:O=>z(q,O),title:"Delete this card",children:n.jsx(L,{name:"trash-2",className:"w-4 h-4"})})]})]},q.id))}):n.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-center py-4",children:"This deck has no cards."})}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-2",children:[n.jsxs(U,{variant:"secondary",onClick:q=>$(null,q),className:"flex-grow sm:flex-grow-0",children:[n.jsx(L,{name:"plus",className:"w-5 h-5 mr-2"}),"Add New Card"]}),n.jsxs(U,{variant:"ghost",onClick:f,className:"flex-grow sm:flex-grow-0",children:[n.jsx(L,{name:"code",className:"w-5 h-5 mr-2"}),"Bulk Add via JSON"]})]})]}),v&&n.jsx(kh,{card:m,onClose:Y,onSave:Q}),T&&n.jsx(ka,{isOpen:!!T,onClose:()=>P(null),onConfirm:R,title:"Delete Card",message:"Are you sure you want to delete this card? This action cannot be undone."})]})},jh=({question:l,onClose:c,onSave:i})=>{const[f,m]=w.useState(""),[g,v]=w.useState(""),[S,T]=w.useState([]),[P,N]=w.useState(""),{addToast:D}=xt(),A=w.useRef(null);Ut(A,!0),w.useEffect(()=>{if(l)m(l.questionText),v(l.detailedExplanation),T(l.options.map(Q=>({...Q}))),N(l.correctAnswerId);else{const Q=[{id:crypto.randomUUID(),text:""},{id:crypto.randomUUID(),text:""}];T(Q)}},[l]);const $=(Q,le)=>{T(S.map(q=>q.id===Q?{...q,text:le}:q))},Y=()=>{T([...S,{id:crypto.randomUUID(),text:""}])},z=Q=>{if(S.length<=2){D("A question must have at least two options.","error");return}T(S.filter(le=>le.id!==Q)),P===Q&&N("")},R=Q=>{if(Q.preventDefault(),!f.trim()){D("Question text is required.","error");return}if(S.some(le=>!le.text.trim())){D("All options must have text.","error");return}if(!P){D("You must select a correct answer.","error");return}i({id:l==null?void 0:l.id,questionText:f.trim(),detailedExplanation:g.trim(),options:S,correctAnswerId:P,tags:(l==null?void 0:l.tags)||[]})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsx("div",{ref:A,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl transform transition-all relative max-h-[90vh] flex flex-col",children:n.jsxs("form",{onSubmit:R,className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:l?"Edit Question":"Add New Question"}),n.jsx(U,{type:"button",variant:"ghost",onClick:c,className:"p-1 h-auto",children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"question-text",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Question Text"}),n.jsx("textarea",{id:"question-text",value:f,onChange:Q=>m(Q.target.value),rows:3,className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"What is the capital of France?"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Options"}),n.jsx("div",{className:"space-y-2",children:S.map((Q,le)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"correct-answer",checked:P===Q.id,onChange:()=>N(Q.id),className:"h-5 w-5 text-blue-600 bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500","aria-label":`Set option ${le+1} as correct`}),n.jsx("input",{type:"text",value:Q.text,onChange:q=>$(Q.id,q.target.value),className:"flex-grow p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:`Option ${le+1}`}),n.jsx(U,{type:"button",variant:"ghost",onClick:()=>z(Q.id),className:"p-2 h-auto","aria-label":`Remove option ${le+1}`,children:n.jsx(L,{name:"trash-2",className:"w-4 h-4"})})]},Q.id))}),n.jsxs(U,{type:"button",variant:"ghost",onClick:Y,className:"mt-2 text-blue-500 dark:text-blue-400 hover:text-blue-600 dark:hover:text-blue-300",children:[n.jsx(L,{name:"plus",className:"w-4 h-4 mr-2"}),"Add Option"]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"detailed-explanation",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Detailed Explanation (Optional)"}),n.jsx("textarea",{id:"detailed-explanation",value:g,onChange:Q=>v(Q.target.value),rows:4,className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Explain why the correct answer is right and others are wrong."})]})]}),n.jsxs("div",{className:"flex-shrink-0 flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{type:"button",variant:"secondary",onClick:c,className:"mr-2",children:"Cancel"}),n.jsx(U,{type:"submit",variant:"primary",children:l?"Save Changes":"Add Question"})]})]})})})},Sh=l=>{const c=new Date;c.setHours(0,0,0,0);const i=new Date(l);i.setHours(0,0,0,0);const f=i.getTime()-c.getTime(),m=Math.round(f/(1e3*60*60*24)),g=m<=0;let v;return m<0?v="Due":m===0?v="Due today":m===1?v="Due tomorrow":v=`Due in ${m} days`,{text:v,isDue:g}},Nh=({questions:l,onQuestionsChange:c,onAddQuestion:i,onBulkAdd:f})=>{const[m,g]=w.useState(null),[v,S]=w.useState(!1),[T,P]=w.useState(null),[N,D]=w.useState(!0),[A,$]=w.useState(null),Y=w.useRef(null),z=w.useRef(null);w.useEffect(()=>{const ee=me=>{z.current&&!z.current.contains(me.target)&&$(null)};return A&&document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[A]);const R=(ee,me)=>{g(ee),me&&(Y.current=me.currentTarget),S(!0)},Q=()=>{var ee;S(!1),(ee=Y.current)==null||ee.focus(),g(null)},le=(ee,me)=>{P(ee),me&&(Y.current=me.currentTarget)},q=()=>{T&&c(l.filter(ee=>ee.id!==T.id)),P(null)},O=ee=>{if(m&&ee.id)c(l.map(me=>me.id===ee.id?{...me,...ee}:me));else{const{id:me,...Ee}=ee,ne={...Ee,questionType:"multipleChoice",suspended:!1};i(ne)}Q()},te=ee=>{c(l.map(me=>me.id===ee?{...me,suspended:!0}:me)),$(null)},fe=ee=>{c(l.map(me=>me.id===ee?{...me,suspended:!1}:me)),$(null)};return n.jsxs("div",{children:[n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n.jsxs("button",{onClick:()=>D(!N),className:"w-full flex justify-between items-center text-left p-6","aria-expanded":N,"aria-controls":"question-list-content",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Questions"}),n.jsx(L,{name:"chevron-down",className:`w-6 h-6 transition-transform duration-300 ${N?"":"-rotate-90"} text-gray-500`})]})}),N&&n.jsxs("div",{id:"question-list-content",className:"animate-fade-in",children:[n.jsx("div",{className:"p-6",children:l.length>0?n.jsx("ul",{className:"space-y-4",children:l.map(ee=>{const{text:me,isDue:Ee}=Sh(ee.dueDate);return n.jsxs("li",{className:`p-4 rounded-lg flex items-start justify-between transition-all ${ee.suspended?"bg-yellow-50 dark:bg-yellow-900/20 opacity-70":"bg-gray-50 dark:bg-gray-900/30"}`,children:[n.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[n.jsx("p",{className:"text-base font-medium text-gray-800 dark:text-gray-200 break-words",children:ee.questionText}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx(lr,{level:ar(ee)}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{className:`font-semibold ${Ee?"text-blue-500 dark:text-blue-400":""}`,children:[n.jsx(L,{name:"zap",className:"w-3 h-3 inline-block mr-1"}),me]}),n.jsxs("span",{children:[n.jsx(L,{name:"list",className:"w-3 h-3 inline-block mr-1"}),ee.options.length," options"]})]})]})]}),n.jsxs("div",{className:"flex-shrink-0 relative",ref:A===ee.id?z:null,children:[n.jsx(U,{variant:"ghost",className:"p-2 h-auto",onClick:ne=>{ne.stopPropagation(),$(re=>re===ee.id?null:ee.id)},"aria-label":"More options for question",children:n.jsx(L,{name:"more-vertical",className:"w-5 h-5"})}),A===ee.id&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10 ring-1 ring-black ring-opacity-5 animate-fade-in",style:{animationDuration:"150ms"},children:[n.jsxs("button",{type:"button",onClick:ne=>{R(ee,ne),$(null)},className:"flex items-center w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(L,{name:"edit",className:"w-4 h-4 mr-3"}),"Edit"]}),ee.suspended?n.jsxs("button",{type:"button",onClick:()=>fe(ee.id),className:"flex items-center w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(L,{name:"eye",className:"w-4 h-4 mr-3"}),"Un-ignore"]}):n.jsxs("button",{type:"button",onClick:()=>te(ee.id),className:"flex items-center w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(L,{name:"eye-off",className:"w-4 h-4 mr-3"}),"Ignore"]}),n.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),n.jsxs("button",{type:"button",onClick:ne=>{le(ee,ne),$(null)},className:"flex items-center w-full px-4 py-2 text-sm text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[n.jsx(L,{name:"trash-2",className:"w-4 h-4 mr-3"}),"Delete"]})]})]})]},ee.id)})}):n.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-center py-4",children:"This deck has no questions."})}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-2",children:[n.jsxs(U,{variant:"secondary",onClick:ee=>R(null,ee),className:"flex-grow sm:flex-grow-0",children:[n.jsx(L,{name:"plus",className:"w-5 h-5 mr-2"}),"Add New Question"]}),n.jsxs(U,{variant:"ghost",onClick:f,className:"flex-grow sm:flex-grow-0",children:[n.jsx(L,{name:"code",className:"w-5 h-5 mr-2"}),"Bulk Add via JSON"]})]})]}),v&&n.jsx(jh,{question:m,onClose:Q,onSave:O}),T&&n.jsx(ka,{isOpen:!!T,onClose:()=>P(null),onConfirm:q,title:"Delete Question",message:"Are you sure you want to delete this question? This action cannot be undone."})]})},qu=({isOpen:l,onClose:c,onAddItems:i,deckType:f})=>{const[m,g]=w.useState(""),{addToast:v}=xt(),S=w.useRef(null);Ut(S,l);const T=w.useMemo(()=>f===ve.Flashcard?`[
  {
    "front": "What is the capital of Japan?",
    "back": "Tokyo"
  },
  {
    "front": "What is 2 + 2?",
    "back": "4"
  }
]`:`[
  {
    "questionText": "Which planet is known as the Red Planet?",
    "options": [
      { "id": "1", "text": "Earth" },
      { "id": "2", "text": "Mars" }
    ],
    "correctAnswerId": "2",
    "detailedExplanation": "Mars is called the Red Planet because of its reddish appearance."
  }
]`,[f]),P=D=>{if(D.preventDefault(),!m.trim()){v("JSON content cannot be empty.","error");return}try{const A=Im(m,f);if(A.length===0){v("The JSON array is empty. No items were added.","info"),c();return}i(A),v(`Successfully added ${A.length} item(s).`,"success"),c()}catch(A){v(A instanceof Error?A.message:"Invalid JSON format.","error")}},N=D=>{if(D.key==="Tab"){D.preventDefault();const A=D.target,$=A.selectionStart,Y=A.selectionEnd;A.value=A.value.substring(0,$)+"  "+A.value.substring(Y),A.selectionStart=A.selectionEnd=$+2}};return l?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsx("div",{ref:S,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl transform transition-all relative",children:n.jsxs("form",{onSubmit:P,children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Bulk Add via JSON"}),n.jsx(U,{type:"button",variant:"ghost",onClick:c,className:"p-1 h-auto",children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[n.jsxs("label",{htmlFor:"json-content",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:["Paste an array of ",f===ve.Flashcard?"card":"question"," objects"]}),n.jsxs(it,{href:"/instructions/json",onClick:c,className:"text-sm text-blue-500 dark:text-blue-400 hover:underline inline-flex items-center gap-1",children:[n.jsx(L,{name:"help-circle",className:"w-4 h-4"}),"Format Guide"]})]}),n.jsx("textarea",{id:"json-content",value:m,onChange:D=>g(D.target.value),onKeyDown:N,rows:15,className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none font-mono text-sm",placeholder:T})]}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{type:"button",variant:"secondary",onClick:c,className:"mr-2",children:"Cancel"}),n.jsx(U,{type:"submit",variant:"primary",children:"Add Items"})]})]})})}):null},bh=({data:l,total:c})=>c===0?n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4"}):n.jsx("div",{className:"flex w-full h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":l.reduce((i,f)=>i+f.value,0),"aria-valuemin":0,"aria-valuemax":c,children:l.map((i,f)=>{if(i.value===0)return null;const m=i.value/c*100;return n.jsx("div",{className:`${i.color} transition-all duration-500`,style:{width:`${m}%`},title:`${i.label}: ${i.value} item(s)`},f)})}),Ch=({data:l})=>{const c=Math.max(...l.map(P=>P.count),1),i=350,f=120,m={top:25,right:15,bottom:25,left:15},g=i-m.left-m.right,v=f-m.top-m.bottom,S=g/l.length,T=Math.max(6,S*.1);return n.jsxs("div",{className:"w-full",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Upcoming Due Dates (Next 7 Days)"}),n.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-2 rounded-lg border border-gray-200 dark:border-gray-700/50",children:n.jsxs("svg",{viewBox:`0 0 ${i} ${f}`,width:"100%",height:"auto","aria-labelledby":"due-date-graph-title",role:"img",className:"overflow-visible",children:[n.jsx("title",{id:"due-date-graph-title",children:"A bar chart showing the number of items due over the next 7 days."}),l.map((P,N)=>{const D=P.count>0?P.count/c*v:0,A=m.left+N*S+(S-T)/2,$=m.top+v-D;return n.jsxs("g",{className:"group",style:{cursor:"pointer"},children:[n.jsxs("title",{children:[P.date,": ",P.count," item",P.count!==1?"s":""," due"]}),n.jsx("rect",{x:A,y:$,width:T,height:D,rx:"2",className:"fill-blue-500 transition-colors group-hover:fill-blue-400"}),n.jsx("text",{x:A+T/2,y:$-6,textAnchor:"middle",className:"fill-gray-600 dark:fill-gray-300 font-semibold text-sm transition-opacity opacity-0 group-hover:opacity-100 pointer-events-none",children:P.count}),n.jsx("text",{x:A+T/2,y:f-m.bottom+15,textAnchor:"middle",className:"fill-gray-400 dark:fill-gray-500 text-xs pointer-events-none",children:P.dayLabel})]},N)})]})})]})},Eh=l=>{const c=new Date;return c.setHours(23,59,59,999),(l.type===ve.Flashcard?l.cards:l.questions).filter(f=>!f.suspended&&new Date(f.dueDate)<=c).length},Dh=l=>{const c={new:0,learning:0,young:0,mature:0};return l.forEach(i=>{i.interval===0?c.new++:i.interval<7?c.learning++:i.interval<21?c.young++:c.mature++}),c},Th=({deck:l,folders:c,sessionsToResume:i,onUpdateDeck:f,onDeleteDeck:m,onUpdateLastOpened:g,openConfirmModal:v})=>{var y;const[S,T]=w.useState(!1),[P,N]=w.useState(l.name),[D,A]=w.useState(l.description||""),[$,Y]=w.useState(l.folderId||""),[z,R]=w.useState(!1),{navigate:Q}=$r();w.useEffect(()=>{g(l.id)},[l.id,g]),w.useEffect(()=>{(l.archived||l.deletedAt)&&Q("/")},[l.archived,l.deletedAt,Q]);const le=()=>{f({...l,name:P,description:D,folderId:$||null}),T(!1)},q=()=>{N(l.name),A(l.description||""),Y(l.folderId||""),T(!1)},O=u=>{l.type===ve.Flashcard&&f({...l,cards:u},{silent:!0})},te=u=>{const h=new Date;h.setHours(0,0,0,0);const x={id:crypto.randomUUID(),front:u.front,back:u.back,dueDate:h.toISOString(),interval:0,easeFactor:gn,suspended:!1};l.type===ve.Flashcard&&O([...l.cards,x])},fe=u=>{l.type===ve.Quiz&&f({...l,questions:u},{silent:!0})},ee=u=>{const h=new Date;h.setHours(0,0,0,0);const x={...u,id:crypto.randomUUID(),dueDate:h.toISOString(),interval:0,easeFactor:gn,suspended:!1};if(l.type===ve.Quiz){const b=[...l.questions,x];fe(b)}},me=u=>{if(l.type===ve.Flashcard&&u.every(h=>"front"in h)){const h=$u(u),x=[...l.cards,...h];f({...l,cards:x})}else if(l.type===ve.Quiz&&u.every(h=>"questionText"in h)){const h=Bu(u),x=[...l.questions,...h];f({...l,questions:x})}},Ee=()=>{v({title:"Move Deck to Trash",message:`Are you sure you want to move the deck "${l.name}" to the trash? It will be permanently deleted after 10 days. This will also remove it from any series it belongs to.`,onConfirm:()=>m(l.id)})},ne=l.type===ve.Flashcard?l.cards:l.questions,re=ne.filter(u=>!u.suspended),J=ne.length-re.length,ie=Dh(re),be=Eh(l),Me=i.has(l.id),Se=w.useMemo(()=>re.length===0?0:re.reduce((h,x)=>h+ar(x),0)/re.length,[re]),K=w.useMemo(()=>{const u=new Date;u.setHours(0,0,0,0);const h=Array(7).fill(0),x=[],b=[];for(let C=0;C<7;C++){const F=new Date(u);F.setDate(u.getDate()+C),C===0?x.push("Today"):C===1?x.push("Tom"):x.push(F.toLocaleDateString("en-US",{weekday:"short"})),b.push(F.toLocaleDateString("en-US",{month:"short",day:"numeric"}));const I=F.getTime();ne.forEach(H=>{if(H.suspended)return;const se=new Date(H.dueDate);se.setHours(0,0,0,0),se.getTime()===I&&h[C]++})}return x.map((C,F)=>({dayLabel:C,count:h[F],date:b[F]}))},[ne]),B=w.useMemo(()=>l.locked?"Deck is Locked":l.type===ve.Quiz?Me?"Resume Quiz":`Start Quiz (${be} due)`:Me?"Resume Study":`Study Cards (${be} due)`,[l.type,Me,be,l.locked]),X=[{value:ie.new,color:"bg-blue-500",label:"New"},{value:ie.learning,color:"bg-orange-500",label:"Learning"},{value:ie.young,color:"bg-teal-500",label:"Young"},{value:ie.mature,color:"bg-green-500",label:"Mature"}];return n.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in space-y-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:S?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"deck-name",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Deck Name"}),n.jsx("input",{type:"text",id:"deck-name",value:P,onChange:u=>N(u.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none text-2xl font-bold"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"deck-folder",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Folder"}),n.jsxs("select",{id:"deck-folder",value:$,onChange:u=>Y(u.target.value),className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[n.jsx("option",{value:"",children:"No folder"}),c.map(u=>n.jsx("option",{value:u.id,children:u.name},u.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"deck-desc",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Description"}),n.jsx("textarea",{id:"deck-desc",value:D,onChange:u=>A(u.target.value),rows:3,className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(U,{variant:"secondary",onClick:q,children:"Cancel"}),n.jsxs(U,{onClick:le,children:[n.jsx(L,{name:"save",className:"mr-2"})," Save Changes"]})]})]}):n.jsxs("div",{children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-900 dark:text-gray-100 break-words",children:l.name}),l.folderId&&n.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-2",children:[n.jsx(L,{name:"folder",className:"w-4 h-4 mr-2"}),n.jsx("span",{children:((y=c.find(u=>u.id===l.folderId))==null?void 0:y.name)||"..."})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsxs(U,{variant:"ghost",onClick:()=>T(!0),children:[n.jsx(L,{name:"edit",className:"mr-2"})," Edit"]}),n.jsxs(U,{variant:"ghost",onClick:()=>f({...l,archived:!0}),children:[n.jsx(L,{name:"archive",className:"mr-2"})," Archive"]})]}),l.description&&n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1 mb-4 prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:l.description}}),n.jsx("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deck Statistics"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Active Items: ",n.jsx("strong",{className:"text-gray-800 dark:text-gray-200",children:re.length})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Items Due Today: ",n.jsx("strong",{className:be>0?"text-blue-500 dark:text-blue-400":"text-gray-800 dark:text-gray-200",children:be})]}),J>0&&n.jsxs("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:["Ignored Items: ",n.jsx("strong",{children:J})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Overall Mastery"}),n.jsx(lr,{level:Se})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Progress by Stage"}),n.jsx(bh,{data:X,total:re.length}),n.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-3 text-xs",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-blue-500 mr-2"}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["New: ",n.jsx("strong",{children:ie.new})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-orange-500 mr-2"}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Learning: ",n.jsx("strong",{children:ie.learning})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-teal-500 mr-2"}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Young: ",n.jsx("strong",{children:ie.young})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500 mr-2"}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Mature: ",n.jsx("strong",{children:ie.mature})]})]})]})]})]}),n.jsx("div",{children:n.jsx(Ch,{data:K})})]})}),n.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-6 flex flex-wrap items-center justify-center gap-4",children:[n.jsxs(it,{href:`/decks/${l.id}/study`,passAs:U,variant:"primary",size:"lg",onClick:()=>g(l.id),disabled:be===0&&!Me||!!l.locked,className:"font-semibold w-full sm:w-auto",children:[n.jsx(L,{name:l.locked?"lock":Me?"zap":"laptop",className:"w-5 h-5 mr-2"}),B]}),l.type===ve.Quiz&&re.length>0&&n.jsxs(it,{href:`/decks/${l.id}/study-flip`,passAs:U,variant:"secondary",size:"lg",onClick:()=>g(l.id),disabled:!!l.locked,className:"font-semibold w-full sm:w-auto",children:[n.jsx(L,{name:"refresh-ccw",className:"w-5 h-5 mr-2"}),"Review as Flashcards"]})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:l.type===ve.Flashcard?n.jsx(wh,{cards:l.cards,onCardsChange:O,onAddCard:te,onBulkAdd:()=>R(!0)}):l.type===ve.Quiz?n.jsx(Nh,{questions:l.questions,onQuestionsChange:fe,onAddQuestion:ee,onBulkAdd:()=>R(!0)}):n.jsx("div",{className:"p-6 text-center text-gray-400 dark:text-gray-500",children:n.jsx("p",{children:"Unsupported deck type."})})}),n.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-red-400 dark:text-red-300 mb-2",children:"Danger Zone"}),n.jsx("p",{className:"text-red-500/80 dark:text-red-300/80 mb-4",children:"Moving a deck to the trash will make it unavailable for study. It will be permanently deleted after 10 days."}),n.jsxs(U,{variant:"danger",onClick:Ee,children:[n.jsx(L,{name:"trash-2",className:"mr-2"})," Move to Trash"]})]}),z&&n.jsx(qu,{isOpen:z,onClose:()=>R(!1),onAddItems:me,deckType:l.type})]})},jo=({children:l})=>n.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900/70 p-4 rounded-lg overflow-x-auto text-sm text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700",children:n.jsx("code",{children:l})}),Mh=()=>{const{addToast:l}=xt(),c=`[
  {
    "front": "What is the capital of France?",
    "back": "Paris"
  },
  {
    "front": "What is H2O?",
    "back": "Water"
  }
]`,i=`{
  "name": "Sample Science Quiz",
  "description": "A few questions to test your basic science knowledge.",
  "questions": [
    {
      "questionType": "multipleChoice",
      "questionText": "Which planet is known as the Red Planet?",
      "tags": ["astronomy", "planets"],
      "detailedExplanation": "Mars is often called the Red Planet because of its reddish appearance, which is due to iron oxide (rust) on its surface.",
      "options": [
        {
          "id": "opt1",
          "text": "Venus"
        },
        {
          "id": "opt2",
          "text": "Mars"
        },
        {
          "id": "opt3",
          "text": "Jupiter",
          "explanation": "Jupiter is a gas giant, the largest planet in our solar system."
        }
      ],
      "correctAnswerId": "opt2"
    }
  ]
}`,f='Please generate a JSON object for a multiple-choice quiz on the topic of [YOUR TOPIC HERE].\n\nFollow these instructions exactly:\n1.  Create exactly 5 high-quality questions on the specified topic.\n2.  The content must be accurate and educational. For each question, provide one correct answer and several plausible but incorrect options (distractors).\n3.  Provide clear and concise explanations for the correct answer.\n4.  The final output must be ONLY the raw JSON object. Do not include any surrounding text, explanations, or markdown code fences like ```json.\n\n**JSON Schema:**\n\nThe root object must contain:\n- `name`: (string) The title of the deck.\n- `description`: (string) A brief description of the deck\'s content.\n- `questions`: (array) A list of question objects.\n\nEach object within the `questions` array must contain:\n- `questionType`: (string) Must be the exact value "multipleChoice".\n- `questionText`: (string) The text of the question.\n- `tags`: (array of strings) A list of 1-2 relevant lowercase keywords.\n- `detailedExplanation`: (string) A thorough explanation of why the correct answer is correct.\n- `options`: (array of option objects) Each object represents an answer and must contain:\n    - `id`: (string) A unique identifier for the option (e.g., "q1-opt1").\n    - `text`: (string) The answer text.\n    - `explanation`: (string, optional) A short explanation for this specific option.\n- `correctAnswerId`: (string) The `id` of the correct option from the `options` array.\n\n**Important Rules:**\n- Do NOT include `id` or other SRS fields (like `dueDate`, `interval`) on the main question objects; they are generated automatically by the app.\n- Ensure every `correctAnswerId` perfectly matches one of the `id`s within its corresponding `options` array.\n- The output must be a single, raw JSON object starting with `{` and ending with `}`.\n\nNow, generate the complete JSON deck for the topic: [YOUR TOPIC HERE]',m=g=>{navigator.clipboard.writeText(g).then(()=>{l("Prompt copied to clipboard!","success")}).catch(v=>{l("Failed to copy prompt.","error"),console.error("Could not copy text: ",v)})};return n.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in space-y-10 pb-10",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:"JSON Import Guide"}),n.jsx("p",{className:"mt-2 text-lg text-gray-500 dark:text-gray-400",children:"Follow these formats to import your own decks using JSON. You can import either simple flashcards or more complex quiz decks."})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Format 1: Simple Flashcard Deck"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["For basic front-and-back flashcards, provide a JSON array. Each object in the array must have a ",n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"front"})," and a ",n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"back"})," key, both with string values."]}),n.jsx(jo,{children:c})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Format 2: Quiz Deck"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"For multiple-choice quizzes, provide a single JSON object with the following structure:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400 pl-4",children:[n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"name"}),": (String) The title of your quiz deck."]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"description"}),": (String) A brief summary of the deck's content."]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"questions"}),": (Array) A list of question objects."]})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Each question object within the array must contain:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400 pl-4",children:[n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"questionType"}),': (String) Must be exactly "multipleChoice".']}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"questionText"}),": (String) The question itself."]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"options"}),": (Array) A list of possible answers. Each option object needs a unique ",n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"id"})," and the answer ",n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"text"}),". An optional ",n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"explanation"})," can be added."]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"correctAnswerId"}),": (String) The ",n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"id"})," of the correct option."]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"detailedExplanation"}),": (String) An explanation shown after you answer."]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 py-0.5 rounded-sm",children:"tags"}),": (Array of Strings) Tags to categorize the question."]})]}),n.jsx(jo,{children:i})]}),n.jsxs("section",{className:"space-y-4 bg-blue-900/10 dark:bg-blue-900/20 p-6 rounded-lg border border-blue-500/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-800 dark:text-blue-300",children:"Generate a Quiz Deck with AI"}),n.jsx("p",{className:"text-blue-700/90 dark:text-blue-300/90",children:"You can use an AI chat service (like ChatGPT, Claude, Gemini, etc.) to quickly generate quiz content. Copy the prompt below, replace the placeholder, and paste it into the chat. The AI should provide a valid JSON object that you can paste directly into the import field."}),n.jsxs("p",{className:"text-sm text-blue-600/80 dark:text-blue-400/80",children:[n.jsx("strong",{children:"Note:"})," Always double-check AI-generated content for accuracy."]}),n.jsxs("div",{className:"relative",children:[n.jsx(jo,{children:f}),n.jsxs(U,{variant:"secondary",className:"absolute top-2 right-2 px-2 py-1 text-xs",onClick:()=>m(f),children:[n.jsx(L,{name:"download",className:"w-4 h-4 mr-1"}),"Copy Prompt"]})]})]})]})},Ih=({isOpen:l,onClose:c,onAddDeck:i})=>{const[f,m]=w.useState(""),{addToast:g}=xt(),v=w.useRef(null);Ut(v,l);const S=`{
  "name": "New Quiz Deck Name",
  "description": "A description for the new deck.",
  "questions": [
    {
      "questionText": "What is 2+2?",
      "options": [{"id":"1","text":"4"}, {"id":"2","text":"3"}],
      "correctAnswerId": "1",
      "detailedExplanation": "It's basic math.",
      "tags": []
    }
  ]
}`,T=N=>{if(N.preventDefault(),!f.trim()){g("JSON content cannot be empty.","error");return}try{const D=No(f);if(D.type!==ve.Quiz){g("The provided JSON is not a valid Quiz Deck format.","error");return}const A={id:crypto.randomUUID(),name:D.data.name,description:D.data.description,type:ve.Quiz,questions:D.data.questions.map($=>({...$,id:crypto.randomUUID(),dueDate:new Date().toISOString(),interval:0,easeFactor:2.5,suspended:!1}))};i(A),g(`Successfully created and added deck: "${A.name}"`,"success"),c()}catch(D){g(D instanceof Error?D.message:"Invalid JSON format.","error")}},P=N=>{if(N.key==="Tab"){N.preventDefault();const D=N.target,A=D.selectionStart,$=D.selectionEnd;D.value=D.value.substring(0,A)+"  "+D.value.substring($),D.selectionStart=D.selectionEnd=A+2}};return l?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsx("div",{ref:v,className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl transform transition-all relative",children:n.jsxs("form",{onSubmit:T,children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Add New Deck to Series"}),n.jsx(U,{type:"button",variant:"ghost",onClick:c,className:"p-1 h-auto",children:n.jsx(L,{name:"x"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("label",{htmlFor:"json-content",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Paste a complete quiz deck object in JSON format."}),n.jsx("textarea",{id:"json-content",value:f,onChange:N=>m(N.target.value),onKeyDown:P,rows:15,className:"w-full p-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none font-mono text-sm",placeholder:S})]}),n.jsxs("div",{className:"flex justify-end p-4 bg-gray-100/50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(U,{type:"button",variant:"secondary",onClick:c,className:"mr-2",children:"Cancel"}),n.jsx(U,{type:"submit",variant:"primary",children:"Create & Add Deck"})]})]})})}):null},Mu=l=>{const c=new Date;return c.setHours(23,59,59,999),l.questions.filter(i=>!i.suspended&&new Date(i.dueDate)<=c).length},Ph=({series:l,decks:c,completedDeckIds:i,sessionsToResume:f,onUpdateSeries:m,onDeleteSeries:g,onAddDeckToSeries:v,onUpdateDeck:S,onStartSeriesStudy:T,openConfirmModal:P})=>{const[N,D]=w.useState(!1),[A,$]=w.useState(!1),[Y,z]=w.useState(!1),[R,Q]=w.useState(null),[le,q]=w.useState(null),{navigate:O}=$r(),[te,fe]=w.useState(null),ee=w.useRef(null);w.useEffect(()=>{(l.archived||l.deletedAt)&&O("/")},[l.archived,l.deletedAt,O]),w.useEffect(()=>{const K=B=>{ee.current&&!ee.current.contains(B.target)&&fe(null)};return te&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[te]);const me=K=>K<=i.size,Ee=K=>i.has(K),ne=w.useMemo(()=>c.reduce((K,B,X)=>me(X)?K+Mu(B):K,0),[c,i]),re=w.useMemo(()=>{const K=c.flatMap(X=>X.questions).filter(X=>!X.suspended);return K.length===0?0:K.reduce((X,y)=>X+ar(y),0)/K.length},[c]),J=(K,B)=>{P({title:"Remove Deck from Series",message:`Are you sure you want to remove "${B}" from this series? The deck itself will not be deleted.`,onConfirm:()=>{const X={...l,deckIds:l.deckIds.filter(y=>y!==K)};m(X)}})},ie=()=>{P({title:"Move Series to Trash",message:`Are you sure you want to move the series "${l.name}" to the trash? It will be permanently deleted after 10 days. The decks inside it will NOT be deleted.`,onConfirm:()=>g(l.id)})},be=(K,B)=>{K.dataTransfer.setData("text/plain",B),q(B)},Me=(K,B)=>{if(K.preventDefault(),!le||le===B)return;const X=[...l.deckIds],y=X.indexOf(le),u=X.indexOf(B),[h]=X.splice(y,1);X.splice(u,0,h),m({...l,deckIds:X}),q(null)},Se=K=>{K.preventDefault()};return n.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in space-y-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 break-words",children:l.name}),l.description&&n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:l.description}),n.jsx("div",{className:"mt-4",children:n.jsx(lr,{level:re})})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs(U,{variant:"primary",onClick:()=>T(l.id),disabled:ne===0,children:[n.jsx(L,{name:"zap",className:"mr-2"})," Study All Due (",ne,")"]}),n.jsxs(U,{variant:"ghost",onClick:()=>D(!N),children:[n.jsx(L,{name:N?"x-circle":"edit",className:"mr-2"})," ",N?"Finish Editing":"Edit Series"]}),n.jsxs(U,{variant:"ghost",onClick:()=>m({...l,archived:!0}),children:[n.jsx(L,{name:"archive",className:"mr-2"})," Archive Series"]}),N&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700/50 my-2"}),n.jsxs(U,{variant:"secondary",onClick:()=>$(!0),children:[n.jsx(L,{name:"plus",className:"mr-2"})," Add New Deck"]}),n.jsxs(U,{variant:"secondary",onClick:()=>z(!0),children:[n.jsx(L,{name:"edit",className:"mr-2"})," Edit Info"]}),n.jsxs(U,{variant:"danger",onClick:ie,children:[n.jsx(L,{name:"trash-2",className:"mr-2"})," Move to Trash"]})]})]})]}),n.jsx("div",{className:"space-y-4",children:c.map((K,B)=>{const X=me(B),y=Ee(K.id),u=Mu(K),h=f.has(K.id),x=(()=>{const b=K.questions.filter(F=>!F.suspended);return b.length===0?0:b.reduce((F,I)=>F+ar(I),0)/b.length})();return n.jsx("div",{draggable:N,onDragStart:b=>be(b,K.id),onDragEnd:()=>q(null),onDrop:b=>Me(b,K.id),onDragOver:Se,className:`bg-white dark:bg-gray-800 rounded-lg shadow-md transition-all duration-200
                    ${N?"cursor-move":""}
                    ${le===K.id?"opacity-30":""}
                `,children:n.jsxs("div",{className:`p-4 flex items-start justify-between ${!X&&!N?"opacity-60":""}`,children:[n.jsxs("div",{className:"flex-1 mr-4 min-w-0",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center mr-4 w-10 text-center",children:[!X&&!N&&n.jsx(L,{name:"lock",className:"w-6 h-6 text-gray-400 dark:text-gray-500"}),X&&!y&&n.jsx(L,{name:"unlock",className:"w-6 h-6 text-blue-500"}),y&&n.jsx(L,{name:"check-circle",className:"w-6 h-6 text-green-500"}),n.jsxs("span",{className:"text-xs font-bold mt-1 text-gray-500 dark:text-gray-400",children:["#",B+1]})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(it,{href:`/decks/${K.id}?seriesId=${l.id}`,className:"text-xl font-bold text-gray-900 dark:text-gray-100 break-words hover:text-blue-500 dark:hover:text-blue-300 transition-colors",children:K.name}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{children:[K.questions.length," question",K.questions.length!==1?"s":""]}),X&&u>0&&n.jsxs("span",{className:"font-semibold text-blue-500 dark:text-blue-400",children:[u," due"]})]})]})]}),n.jsx("div",{className:"mt-3 pl-14",children:n.jsx(lr,{level:x})})]}),n.jsx("div",{className:"flex-shrink-0 flex items-center space-x-1",children:N?n.jsxs(n.Fragment,{children:[n.jsxs(U,{variant:"secondary",size:"sm",onClick:()=>Q(K),children:[n.jsx(L,{name:"plus",className:"w-4 h-4 mr-1"})," Questions"]}),n.jsx(U,{variant:"danger",size:"sm",onClick:()=>J(K.id,K.name),children:n.jsx(L,{name:"trash-2",className:"w-4 h-4"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(it,{href:`/decks/${K.id}/study?seriesId=${l.id}`,passAs:U,variant:"primary",disabled:!X||u===0&&!h,children:y?"Completed":h?"Resume":"Study"}),n.jsxs("div",{className:"relative",children:[n.jsx(U,{variant:"ghost",className:"p-2 h-auto",onClick:b=>{b.preventDefault(),b.stopPropagation(),fe(te===K.id?null:K.id)},"aria-haspopup":"true","aria-expanded":te===K.id,"aria-label":`More options for ${K.name}`,children:n.jsx(L,{name:"more-vertical",className:"w-5 h-5"})}),te===K.id&&n.jsxs("div",{ref:ee,className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10 ring-1 ring-black ring-opacity-5 animate-fade-in",style:{animationDuration:"150ms"},children:[n.jsxs("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),Q(K),fe(null)},className:"flex items-center w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx(L,{name:"plus",className:"w-4 h-4 mr-3"}),"Bulk Add Questions"]}),n.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),n.jsxs("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),J(K.id,K.name),fe(null)},className:"flex items-center w-full px-4 py-2 text-sm text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[n.jsx(L,{name:"trash-2",className:"w-4 h-4 mr-3"}),"Remove from Series"]})]})]})]})})]})},K.id)})}),A&&n.jsx(Ih,{isOpen:A,onClose:()=>$(!1),onAddDeck:K=>v(l.id,K)}),Y&&n.jsx(Hu,{series:l,onClose:()=>z(!1),onSave:K=>{m({...l,name:K.name,description:K.description}),z(!1)}}),R&&n.jsx(qu,{isOpen:!!R,onClose:()=>Q(null),deckType:R.type,onAddItems:K=>{const B={...R,questions:[...R.questions,...K]};S(B),Q(null)}})]})},Rh=({series:l,completedCount:c,dueCount:i,onStartSeriesStudy:f,masteryLevel:m})=>{const g=l.deckIds.length,v=c>=g&&g>0;return n.jsx(it,{href:`/series/${l.id}`,className:"block bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(L,{name:"list",className:"w-5 h-5 mr-2 text-purple-500 dark:text-purple-400"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 break-words",children:l.name})]}),l.description&&n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate",children:l.description})]}),v&&n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 text-green-500 dark:text-green-400 bg-green-100 dark:bg-green-900/50 px-3 py-1 rounded-full",children:[n.jsx(L,{name:"check-circle",className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-semibold",children:"Completed"})]})]}),g>0&&n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[n.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Completion"}),n.jsxs("span",{className:"font-semibold text-gray-500 dark:text-gray-400",children:[c," / ",g]})]}),n.jsx(Vu,{current:c,total:g})]}),n.jsx("div",{children:n.jsx(lr,{level:m})})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700/50 flex justify-end",children:n.jsxs(U,{variant:"secondary",size:"sm",onClick:S=>{S.preventDefault(),S.stopPropagation(),f(l.id)},disabled:i===0,children:[n.jsx(L,{name:"zap",className:"w-4 h-4 mr-2"}),"Study Due (",i,")"]})})]})})},_h=({archivedDecks:l,archivedSeries:c,onUpdateDeck:i,onUpdateSeries:f,onDeleteDeck:m,onDeleteSeries:g,openConfirmModal:v})=>{const S=D=>{i({...D,archived:!1})},T=D=>{f({...D,archived:!1})},P=D=>{v({title:"Move Deck to Trash",message:`Are you sure you want to move the archived deck "${D.name}" to the trash? This will un-archive it and place it in the trash for 10 days, after which it will be permanently deleted.`,onConfirm:()=>m(D.id)})},N=D=>{v({title:"Move Series to Trash",message:`Are you sure you want to move the archived series "${D.name}" to the trash? It will be un-archived and placed in the trash for 10 days. Decks within the series will NOT be deleted.`,onConfirm:()=>g(D.id)})};return n.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in space-y-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-4",children:"Archive"}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Archived Series"}),c.length>0?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md divide-y divide-gray-200 dark:divide-gray-700",children:c.map(D=>n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center min-w-0",children:[n.jsx(L,{name:"list",className:"w-6 h-6 mr-4 text-purple-500 dark:text-purple-400 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-semibold truncate text-gray-900 dark:text-gray-100",children:D.name}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:D.description})]})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[n.jsxs(U,{variant:"secondary",size:"sm",onClick:()=>T(D),children:[n.jsx(L,{name:"unarchive",className:"w-4 h-4 mr-2"}),"Unarchive"]}),n.jsxs(U,{variant:"danger",size:"sm",onClick:()=>N(D),children:[n.jsx(L,{name:"trash-2",className:"w-4 h-4 mr-2"}),"Move to Trash"]})]})]},D.id))}):n.jsx("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No archived series."})})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Archived Decks"}),l.length>0?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md divide-y divide-gray-200 dark:divide-gray-700",children:l.map(D=>n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center min-w-0",children:[n.jsx(L,{name:D.type==="quiz"?"help-circle":"laptop",className:"w-6 h-6 mr-4 text-gray-500 dark:text-gray-400 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-semibold truncate text-gray-900 dark:text-gray-100",children:D.name}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:D.description})]})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[n.jsxs(U,{variant:"secondary",size:"sm",onClick:()=>S(D),children:[n.jsx(L,{name:"unarchive",className:"w-4 h-4 mr-2"}),"Unarchive"]}),n.jsxs(U,{variant:"danger",size:"sm",onClick:()=>P(D),children:[n.jsx(L,{name:"trash-2",className:"w-4 h-4 mr-2"}),"Move to Trash"]})]})]},D.id))}):n.jsx("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No archived decks."})})]})]})},Ju=10,Iu=l=>{const c=new Date(l),m=(new Date().getTime()-c.getTime())/(1e3*60*60*24);return Math.max(0,Math.ceil(Ju-m))},Ah=({trashedDecks:l,trashedSeries:c,onRestoreDeck:i,onRestoreSeries:f,onDeleteDeckPermanently:m,onDeleteSeriesPermanently:g,openConfirmModal:v})=>{const S=P=>{v({title:"Permanently Delete Deck",message:`Are you sure you want to permanently delete the deck "${P.name}"? This action cannot be undone.`,onConfirm:()=>m(P.id)})},T=P=>{v({title:"Permanently Delete Series",message:`Are you sure you want to permanently delete the series "${P.name}"? This action cannot be undone.`,onConfirm:()=>g(P.id)})};return n.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in space-y-8",children:[n.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Trash"}),n.jsxs("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:["Items in the trash will be permanently deleted after ",Ju," days."]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Trashed Series"}),c.length>0?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md divide-y divide-gray-200 dark:divide-gray-700",children:c.map(P=>{const N=Iu(P.deletedAt);return n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center min-w-0",children:[n.jsx(L,{name:"list",className:"w-6 h-6 mr-4 text-purple-500 dark:text-purple-400 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-semibold truncate text-gray-900 dark:text-gray-100",children:P.name}),n.jsx("p",{className:`text-sm ${N<=2?"text-red-500":"text-gray-500 dark:text-gray-400"}`,children:N>0?`${N} days left`:"Deleting soon..."})]})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[n.jsxs(U,{variant:"secondary",size:"sm",onClick:()=>f(P.id),children:[n.jsx(L,{name:"unarchive",className:"w-4 h-4 mr-2"}),"Restore"]}),n.jsxs(U,{variant:"danger",size:"sm",onClick:()=>T(P),children:[n.jsx(L,{name:"trash-2",className:"w-4 h-4 mr-2"}),"Delete Now"]})]})]},P.id)})}):n.jsx("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Trash is empty."})})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Trashed Decks"}),l.length>0?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md divide-y divide-gray-200 dark:divide-gray-700",children:l.map(P=>{const N=Iu(P.deletedAt);return n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center min-w-0",children:[n.jsx(L,{name:P.type==="quiz"?"help-circle":"laptop",className:"w-6 h-6 mr-4 text-gray-500 dark:text-gray-400 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-semibold truncate text-gray-900 dark:text-gray-100",children:P.name}),n.jsx("p",{className:`text-sm ${N<=2?"text-red-500":"text-gray-500 dark:text-gray-400"}`,children:N>0?`${N} days left`:"Deleting soon..."})]})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[n.jsxs(U,{variant:"secondary",size:"sm",onClick:()=>i(P.id),children:[n.jsx(L,{name:"unarchive",className:"w-4 h-4 mr-2"}),"Restore"]}),n.jsxs(U,{variant:"danger",size:"sm",onClick:()=>S(P),children:[n.jsx(L,{name:"trash-2",className:"w-4 h-4 mr-2"}),"Delete Now"]})]})]},P.id)})}):n.jsx("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Trash is empty."})})]})]})},Pu=[{key:"lastOpened",label:"Recent"},{key:"name",label:"Name"},{key:"dueCount",label:"Due"}],Fh=({currentSort:l,onSortChange:c})=>n.jsx("div",{className:"inline-flex rounded-md shadow-sm bg-gray-100 dark:bg-gray-800 p-1",role:"group",children:Pu.map((i,f)=>n.jsx("button",{type:"button",onClick:()=>c(i.key),className:`px-4 py-1.5 text-sm font-medium transition-colors focus:z-10 focus:outline-none focus:ring-2 focus:ring-blue-500
            ${l===i.key?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-300 shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}
            ${f===0?"rounded-l-md":""}
            ${f===Pu.length-1?"rounded-r-md":""}
          `,"aria-pressed":l===i.key,children:i.label},i.key))}),ma=l=>{const c=new Date;return c.setHours(23,59,59,999),(l.type===ve.Quiz?l.questions:l.cards).filter(f=>!f.suspended&&new Date(f.dueDate)<=c).length},Oh=l=>{const{path:c}=$r(),{state:i,activeDeck:f,activeSeries:m,generalStudyDeck:g}=l,[v]=c.split("?"),S=w.useMemo(()=>{const z=new Set;return i.deckSeries.forEach(R=>{R.deckIds.forEach(Q=>z.add(Q))}),z},[i.deckSeries]),T=w.useMemo(()=>{const z=new Set;return i.deckSeries.forEach(R=>{var Q;if(!R.archived&&!R.deletedAt){const le=((Q=l.seriesProgress.get(R.id))==null?void 0:Q.size)||0;R.deckIds.forEach((q,O)=>{O<=le&&z.add(q)})}}),z},[i.deckSeries,l.seriesProgress]),P=w.useMemo(()=>{const z=i.decks.filter(R=>!R.archived&&!R.deletedAt&&!S.has(R.id));switch(l.sortPreference){case"name":return z.sort((R,Q)=>R.name.localeCompare(Q.name));case"dueCount":return z.sort((R,Q)=>ma(Q)-ma(R));case"lastOpened":default:return z.sort((R,Q)=>(Q.lastOpened||"").localeCompare(R.lastOpened||""))}},[i.decks,l.sortPreference,S]),N=w.useMemo(()=>[...i.folders].sort((z,R)=>z.name.localeCompare(R.name)),[i.folders]),D=w.useMemo(()=>i.deckSeries.filter(z=>!z.archived&&!z.deletedAt).sort((z,R)=>z.name.localeCompare(R.name)),[i.deckSeries]),A=w.useMemo(()=>i.decks.filter(z=>!(z.type!==ve.Quiz||z.archived||z.deletedAt||S.has(z.id)&&!T.has(z.id))).reduce((z,R)=>z+ma(R),0),[i.decks,S,T]),$=w.useMemo(()=>{const z=new Map;return i.deckSeries.forEach(R=>{if(R.archived||R.deletedAt){z.set(R.id,0);return}const le=R.deckIds.map(q=>i.decks.find(O=>O.id===q)).filter(q=>q).reduce((q,O)=>O&&T.has(O.id)?q+ma(O):q,0);z.set(R.id,le)}),z},[i.decks,i.deckSeries,T]),Y=w.useMemo(()=>{const z=new Map;return i.deckSeries.forEach(R=>{const Q=R.deckIds.map(O=>i.decks.find(te=>te.id===O)).filter(Boolean);if(Q.length===0){z.set(R.id,0);return}const le=Q.flatMap(O=>O.type===ve.Flashcard?O.cards:O.questions).filter(O=>!O.suspended);if(le.length===0){z.set(R.id,0);return}const q=le.reduce((O,te)=>O+ar(te),0);z.set(R.id,q/le.length)}),z},[i.decks,i.deckSeries]);if(v==="/trash"){const z=i.decks.filter(Q=>Q.deletedAt),R=i.deckSeries.filter(Q=>Q.deletedAt);return n.jsx(Ah,{trashedDecks:z,trashedSeries:R,onRestoreDeck:l.handleRestoreDeck,onRestoreSeries:l.handleRestoreSeries,onDeleteDeckPermanently:l.handleDeleteDeckPermanently,onDeleteSeriesPermanently:l.handleDeleteSeriesPermanently,openConfirmModal:l.openConfirmModal})}if(v==="/archive"){const z=i.decks.filter(Q=>Q.archived&&!Q.deletedAt),R=i.deckSeries.filter(Q=>Q.archived&&!Q.deletedAt);return n.jsx(_h,{archivedDecks:z,archivedSeries:R,onUpdateDeck:l.handleUpdateDeck,onUpdateSeries:l.handleUpdateSeries,onDeleteDeck:l.handleDeleteDeck,onDeleteSeries:l.handleDeleteSeries,openConfirmModal:l.openConfirmModal})}if(v.startsWith("/series/")&&m){const z=m.deckIds.map(R=>i.decks.find(Q=>Q.id===R)).filter(R=>R);return n.jsx(Ph,{series:m,decks:z,completedDeckIds:l.seriesProgress.get(m.id)||new Set,sessionsToResume:l.sessionsToResume,onUpdateSeries:l.handleUpdateSeries,onDeleteSeries:l.handleDeleteSeries,onAddDeckToSeries:l.handleAddDeckToSeries,onUpdateDeck:l.handleUpdateDeck,onStartSeriesStudy:l.handleStartSeriesStudy,openConfirmModal:l.openConfirmModal},m.id)}if(v==="/study/general"){const z=new URLSearchParams(window.location.hash.split("?")[1]).get("seriesId")||void 0;return g&&n.jsx(wo,{deck:g,seriesId:z,onSessionEnd:R=>l.handleSessionEnd(R,z),onItemReviewed:l.handleItemReviewed,onUpdateLastOpened:()=>{}},"general-study")}if(v.startsWith("/decks/")&&v.endsWith("/study-flip")&&f&&f.type===ve.Quiz){const z=f,R=z.questions.filter(q=>!q.suspended).map(q=>{const O=q.options.find(fe=>fe.id===q.correctAnswerId),te=`
                        <div class="text-left w-full">
                            <p class="text-xl"><b>Answer:</b> ${(O==null?void 0:O.text)||"N/A"}</p>
                            <hr class="my-4 border-gray-300 dark:border-gray-600"/>
                            <p class="text-sm font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400">Explanation</p>
                            <div class="prose prose-sm dark:prose-invert max-w-none mt-2">${q.detailedExplanation||"No detailed explanation provided."}</div>
                        </div>
                    `;return{...q,front:q.questionText,back:te}}),Q={...z,name:`${z.name} (Review)`,type:ve.Flashcard,cards:R.sort(()=>Math.random()-.5)},le=new URLSearchParams(window.location.hash.split("?")[1]).get("seriesId")||void 0;return n.jsx(wo,{deck:Q,seriesId:le,onSessionEnd:q=>l.handleSessionEnd(q,le),onItemReviewed:l.handleItemReviewed,onUpdateLastOpened:l.updateLastOpened,sessionKeySuffix:"_flip"},`${f.id}-flip`)}if(v.startsWith("/decks/")&&v.endsWith("/study")){const z=new URLSearchParams(window.location.hash.split("?")[1]).get("seriesId")||void 0;return f&&n.jsx(wo,{deck:f,seriesId:z,onSessionEnd:R=>l.handleSessionEnd(R,z),onItemReviewed:l.handleItemReviewed,onUpdateLastOpened:l.updateLastOpened},f.id)}return v.startsWith("/decks/")?f&&n.jsx(Th,{deck:f,sessionsToResume:l.sessionsToResume,folders:i.folders,onUpdateDeck:l.handleUpdateDeck,onDeleteDeck:l.handleDeleteDeck,onUpdateLastOpened:l.updateLastOpened,openConfirmModal:l.openConfirmModal},f.id):v==="/settings"?n.jsx(vh,{onExport:l.handleExportData,onRestore:()=>l.openModal(l.setRestoreModalOpen),onRestoreData:l.handleRestoreData,onResetProgress:()=>l.openModal(l.setResetProgressModalOpen),onFactoryReset:l.handleFactoryReset}):v==="/instructions/json"?n.jsx(Mh,{}):P.length>0||N.length>0||D.length>0?n.jsxs(n.Fragment,{children:[A>0&&n.jsx("div",{className:"mb-6",children:n.jsxs(U,{onClick:l.handleStartGeneralStudy,variant:"primary",className:"w-full sm:w-auto text-lg py-3",children:[n.jsx(L,{name:"zap",className:"w-5 h-5 mr-2"}),"Study All Due Questions (",A,")"]})}),D.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Your Series"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map(z=>{var R;return n.jsx(Rh,{series:z,completedCount:((R=l.seriesProgress.get(z.id))==null?void 0:R.size)||0,dueCount:$.get(z.id)||0,masteryLevel:Y.get(z.id)||0,onStartSeriesStudy:l.handleStartSeriesStudy},z.id)})})]}),n.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Your Decks"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(U,{variant:"ghost",onClick:()=>l.openFolderModal("new"),children:[n.jsx(L,{name:"folder-plus",className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"New Folder"})]}),n.jsx(Fh,{currentSort:l.sortPreference,onSortChange:l.setSortPreference})]})]}),n.jsx(Xm,{decks:P,folders:N,sessionsToResume:l.sessionsToResume,onUpdateLastOpened:l.updateLastOpened,onEditFolder:z=>l.openFolderModal(z),onDeleteFolder:l.handleDeleteFolder,draggedDeckId:l.draggedDeckId,onDragStart:l.setDraggedDeckId,onDragEnd:()=>l.setDraggedDeckId(null),onMoveDeck:l.handleMoveDeck,openFolderIds:l.openFolderIds,onToggleFolder:l.onToggleFolder,onUpdateDeck:l.handleUpdateDeck,onDeleteDeck:l.handleDeleteDeck,openConfirmModal:l.openConfirmModal})]}):n.jsxs("div",{className:"text-center py-20",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-600 dark:text-gray-400",children:"Welcome to CogniFlow"}),n.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-500",children:"Create decks, import content, or try a sample to get started."}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mt-8",children:[n.jsxs(U,{onClick:()=>l.openModal(l.setImportModalOpen),children:[n.jsx(L,{name:"plus",className:"w-5 h-5 mr-2"}),"Create or Import Deck"]}),n.jsxs(U,{onClick:l.openCreateSeriesModal,variant:"secondary",children:[n.jsx(L,{name:"list",className:"w-5 h-5 mr-2"}),"Create New Series"]}),n.jsxs(U,{onClick:l.handleCreateSampleDeck,variant:"ghost",children:[n.jsx(L,{name:"laptop",className:"w-5 h-5 mr-2"}),"Create Sample Deck"]}),n.jsxs(U,{onClick:l.handleCreateSampleSeries,variant:"ghost",children:[n.jsx(L,{name:"zap",className:"w-5 h-5 mr-2"}),"Create Sample Series"]})]})]})},zh=()=>{var Je;const[l,c]=Um(),[i,f]=w.useState(!1),[m,g]=w.useState(!1),[v,S]=w.useState(!1),[T,P]=w.useState(!1),[N,D]=w.useState(null),[A,$]=w.useState(null),[Y,z]=w.useState({title:"",message:"",onConfirm:()=>{}}),[R,Q]=w.useState(!1),[le,q]=w.useState(new Set),[O,te]=w.useState(null),[fe,ee]=w.useState("lastOpened"),[me,Ee]=w.useState(null),[ne,re]=w.useState(new Set),[J,ie]=w.useState(new Map),[be,Me]=gm(),{addToast:Se}=xt(),K=w.useRef(null),{path:B}=$r(),X=w.useRef(!1),{pullToRefreshState:y,handleTouchStart:u,handleTouchMove:h,handleTouchEnd:x,REFRESH_THRESHOLD:b}=qm(),C=ke=>{K.current=document.activeElement,ke(!0)},F=ke=>{z(ke),C(P)},I=ke=>{var Ce;ke(!1),(Ce=K.current)==null||Ce.focus()},H=Wm({state:l,dispatch:c,sessionsToResume:le,setSessionsToResume:q,seriesProgress:J,setSeriesProgress:ie,setGeneralStudyDeck:te,openConfirmModal:F,setFolderToEdit:ke=>{C(D),D(ke)},setSeriesToEdit:ke=>{C($),$(ke)}}),se=w.useCallback(async(ke=!1)=>{ke&&c({type:"SET_LOADING",payload:!0});try{const[Ce,_e,Te]=await Promise.all([Do(),To(),Mo()]);c({type:"LOAD_DATA",payload:{decks:Ce,folders:_e,deckSeries:Te}}),ke||Se("Data synced from another tab.","info")}catch(Ce){console.error("Failed to load data from IndexedDB",Ce);const _e=Ce instanceof Error?Ce.message:"Could not load your data. Please try refreshing.";Se(_e,"error"),c({type:"SET_LOADING",payload:!1})}},[Se,c]),pe=w.useCallback(async()=>{const ke=new Date;ke.setDate(ke.getDate()-10);const Ce=l.decks.filter(Te=>Te.deletedAt&&new Date(Te.deletedAt)<ke),_e=l.deckSeries.filter(Te=>Te.deletedAt&&new Date(Te.deletedAt)<ke);if(!(Ce.length===0&&_e.length===0))try{await Promise.all([...Ce.map(Qe=>Ou(Qe.id)),..._e.map(Qe=>zu(Qe.id))]),Ce.forEach(Qe=>c({type:"DELETE_DECK",payload:Qe.id})),_e.forEach(Qe=>c({type:"DELETE_SERIES",payload:Qe.id}));const Te=Ce.length+_e.length;Se(`${Te} item(s) permanently deleted from trash.`,"info")}catch(Te){console.error("Failed to cleanup trash",Te),Se("Error during automatic trash cleanup.","error")}},[l.decks,l.deckSeries,c,Se]),ce=w.useCallback(()=>{try{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(Te=>console.log("SW registration failed: ",Te))});const ke=new Set;let Ce=new Map;for(let Te=0;Te<localStorage.length;Te++){const Qe=localStorage.key(Te);if(Qe&&(Qe.startsWith("session_deck_")&&ke.add(Qe.replace("session_deck_","")),Qe.startsWith("series-progress-"))){const $t=Qe.replace("series-progress-","");try{Ce.set($t,new Set(JSON.parse(localStorage.getItem(Qe)||"[]")))}catch{console.error(`Failed to parse progress for series ${$t}`)}}}q(ke),ie(Ce);const _e=localStorage.getItem("cogniflow-sortPreference");_e&&["lastOpened","name","dueCount"].includes(_e)&&ee(_e);try{const Te=localStorage.getItem("cogniflow-openFolders");Te&&re(new Set(JSON.parse(Te)))}catch(Te){console.error("Could not load open folder state",Te)}}catch(ke){console.error("Failed to load local settings from localStorage. This can happen if cookies/site data are disabled.",ke),Se("Could not load saved settings.","error")}},[Se,re,ie,q,ee]);w.useEffect(()=>{se(!0),ce()},[se,ce]),w.useEffect(()=>{!l.isLoading&&!X.current&&(pe(),H.reconcileSeriesProgress(),X.current=!0)},[l.isLoading,pe,H]),w.useEffect(()=>{const ke=nm(()=>se(!1)),Ce=()=>ce();return window.addEventListener("storage",Ce),()=>{ke(),window.removeEventListener("storage",Ce)}},[se,ce]);const je=w.useCallback(ke=>{re(Ce=>{const _e=new Set(Ce);_e.has(ke)?_e.delete(ke):_e.add(ke);try{localStorage.setItem("cogniflow-openFolders",JSON.stringify(Array.from(_e)))}catch(Te){console.error("Could not save open folder state",Te)}return _e})},[]),De=ke=>{var Ce;return((Ce=ke.match(/^\/decks\/([^/?]+)/))==null?void 0:Ce[1])||null},ge=ke=>{var Ce;return((Ce=ke.match(/^\/series\/([^/?]+)/))==null?void 0:Ce[1])||null},He=De(B);let Le=He?l.decks.find(ke=>ke.id===He):null;if(Le){const Ce=new URLSearchParams(window.location.hash.split("?")[1]).get("seriesId");if(Ce){const _e=l.deckSeries.find(Te=>Te.id===Ce);if(_e){const Te=_e.deckIds.indexOf(Le.id);if(Te>-1){const Qe=((Je=J.get(_e.id))==null?void 0:Je.size)||0,$t=Te>Qe;Le={...Le,locked:$t}}}}}const Xe=ge(B),dt=Xe?l.deckSeries.find(ke=>ke.id===Xe):null;if(l.isLoading)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-teal-300",children:[n.jsx(pn,{size:"lg"}),"Loading CogniFlow..."]})});const vt=`flex-grow transition-transform duration-300 ease-in-out ${R?"-translate-x-16 sm:-translate-x-20":""}`;return n.jsxs("div",{className:"min-h-screen text-gray-900 dark:text-gray-100 flex flex-col overflow-x-hidden",onTouchStart:u,onTouchMove:h,onTouchEnd:x,children:[n.jsx(Om,{pullDistance:y.pullDistance,isRefreshing:y.isRefreshing,threshold:b}),n.jsx(jm,{isOpen:R,onClose:()=>I(Q),onImport:()=>{C(f),Q(!1)},onCreateSeries:()=>{Q(!1),K.current=document.activeElement,$("new")},onInstall:be?()=>{Me(),I(Q)}:null}),n.jsxs("div",{className:"flex-grow flex flex-col",children:[n.jsx(Jm,{activeDeck:Le,onOpenMenu:()=>C(Q)}),n.jsx("main",{className:`${vt} container mx-auto px-4 sm:px-6 lg:px-8 py-8`,children:n.jsx(Oh,{state:l,sessionsToResume:le,sortPreference:fe,setSortPreference:ee,draggedDeckId:me,setDraggedDeckId:Ee,openFolderIds:ne,onToggleFolder:je,seriesProgress:J,generalStudyDeck:O,activeDeck:Le,activeSeries:dt,openModal:C,setImportModalOpen:f,setRestoreModalOpen:g,setResetProgressModalOpen:S,openFolderModal:ke=>{K.current=document.activeElement,D(ke)},openConfirmModal:F,openCreateSeriesModal:()=>{K.current=document.activeElement,$("new")},...H})})]}),n.jsx(xm,{}),i&&n.jsx(Rm,{isOpen:i,onClose:()=>I(f),onAddDecks:H.handleAddDecks}),m&&n.jsx(_m,{isOpen:m,onClose:()=>I(g),onRestore:H.handleRestoreData}),v&&n.jsx(Am,{isOpen:v,onClose:()=>I(S),onReset:H.handleResetDeckProgress,decks:l.decks}),T&&n.jsx(ka,{isOpen:T,onClose:()=>I(P),...Y}),N!==null&&n.jsx(Fm,{folder:N==="new"?null:N,onClose:()=>D(null),onSave:H.handleSaveFolder}),A!==null&&n.jsx(Hu,{series:A==="new"?null:A,onClose:()=>$(null),onSave:H.handleSaveSeries})]})};class Lh extends w.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReload=()=>{window.location.reload()}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,i){console.error("Uncaught error:",c,i)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full",children:[n.jsx("h1",{className:"text-3xl font-bold text-red-600 dark:text-red-500 mb-4",children:"Oops! Something went wrong."}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The application encountered an unexpected error. Please try reloading the page to continue."}),this.state.error&&n.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 text-left text-xs text-red-500 dark:text-red-400 p-4 rounded-md overflow-x-auto mb-6",children:n.jsx("code",{children:this.state.error.toString()})}),n.jsx(U,{variant:"danger",onClick:this.handleReload,children:"Reload Page"})]})}):this.props.children}}const So="cogniflow-themeMode",Uh=w.createContext(void 0),$h=({children:l})=>{const[c,i]=w.useState(()=>{try{if(typeof window<"u"){const m=localStorage.getItem(So);if(["light","dark","system"].includes(m))return m}}catch(m){console.error("Could not access localStorage to get theme. Defaulting to 'system'.",m)}return"system"});w.useEffect(()=>{try{localStorage.setItem(So,c)}catch(S){console.error("Could not access localStorage to set theme.",S)}const m=window.document.documentElement,g=document.querySelector('meta[name="theme-color"]');let v;c==="light"?v=!1:c==="dark"?v=!0:v=window.matchMedia("(prefers-color-scheme: dark)").matches,v?m.classList.add("dark"):m.classList.remove("dark"),g==null||g.setAttribute("content",v?"#111827":"#f9fafb")},[c]),w.useEffect(()=>{const m=window.matchMedia("(prefers-color-scheme: dark)"),g=v=>{let S="system";try{S=localStorage.getItem(So)||"system"}catch{}if(S==="system"){const T=window.document.documentElement,P=document.querySelector('meta[name="theme-color"]');v.matches?(T.classList.add("dark"),P==null||P.setAttribute("content","#111827")):(T.classList.remove("dark"),P==null||P.setAttribute("content","#f9fafb"))}};return m.addEventListener("change",g),()=>{m.removeEventListener("change",g)}},[]);const f=w.useCallback(()=>{i(m=>m==="light"?"dark":m==="dark"?"system":"light")},[]);return n.jsx(Uh.Provider,{value:{themeMode:c,cycleThemeMode:f},children:l})},Ku=document.getElementById("root");if(!Ku)throw new Error("Could not find root element to mount to");const Bh=tm.createRoot(Ku);Bh.render(n.jsx(ya.StrictMode,{children:n.jsx($h,{children:n.jsx(bm,{children:n.jsx(Vm,{children:n.jsx(wm,{children:n.jsx(Lh,{children:n.jsx(zh,{})})})})})})}));
