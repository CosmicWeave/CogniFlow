import{E as y,r as x,e as N,j as e,B as h,I as i,D as a}from"./index-D_FLfjBw.js";const w=({deck:r})=>{var b;const{navigate:g}=y(),[t,m]=x.useState("table"),[p,j]=x.useState(1),[n,f]=x.useState(!1),d=x.useMemo(()=>r.type===N.Flashcard?r.cards.map(s=>({id:s.id,front:s.front,back:s.back,tags:s.tags||[]})):(r.questions||[]).map(s=>{const c=s.options.find(o=>o.id===s.correctAnswerId);return{id:s.id,front:s.questionText,back:`<strong>Answer:</strong> ${(c==null?void 0:c.text)||"?"}<br/><br/>${s.detailedExplanation||""}`,tags:s.tags||[]}}),[r]),u=()=>{window.print()},l={fontSize:`${p}em`};return e.jsxs("div",{className:"min-h-screen bg-background text-text flex flex-col md:flex-row",children:[e.jsxs("aside",{className:"w-full md:w-80 bg-surface border-b md:border-r border-border p-6 flex flex-col gap-6 print:hidden z-10 shadow-lg md:h-screen md:sticky md:top-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs(h,{variant:"ghost",onClick:()=>g(`/decks/${r.id}`),className:"-ml-2",children:[e.jsx(i,{name:"chevron-left"})," Back"]}),e.jsx("h2",{className:"font-bold text-lg",children:"Print Settings"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-muted mb-2",children:"Layout"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("button",{onClick:()=>m("table"),className:`p-3 rounded-md border text-left flex items-center gap-3 transition-colors ${t==="table"?"border-primary bg-primary/10 text-primary":"border-border hover:bg-background"}`,children:[e.jsx(i,{name:"list",className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm",children:"Study Sheet"}),e.jsx("div",{className:"text-xs opacity-70",children:"Compact list of Q&A"})]})]}),e.jsxs("button",{onClick:()=>m("cards-side"),className:`p-3 rounded-md border text-left flex items-center gap-3 transition-colors ${t==="cards-side"?"border-primary bg-primary/10 text-primary":"border-border hover:bg-background"}`,children:[e.jsx(i,{name:"columns",className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm",children:"Flashcards (Side-by-Side)"}),e.jsx("div",{className:"text-xs opacity-70",children:"Front and Back next to each other"})]})]}),e.jsxs("button",{onClick:()=>m("cards-fold"),className:`p-3 rounded-md border text-left flex items-center gap-3 transition-colors ${t==="cards-fold"?"border-primary bg-primary/10 text-primary":"border-border hover:bg-background"}`,children:[e.jsx(i,{name:"layers",className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm",children:"Flashcards (Foldable)"}),e.jsx("div",{className:"text-xs opacity-70",children:"Front above Back for folding"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-text-muted mb-2",children:["Text Size: ",Math.round(p*100),"%"]}),e.jsx("input",{type:"range",min:"0.8",max:"1.5",step:"0.1",value:p,onChange:s=>j(parseFloat(s.target.value)),className:"w-full accent-primary"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:s=>f(s.target.checked),className:"rounded text-primary focus:ring-primary"}),e.jsx("span",{className:"text-sm",children:"Show Tags"})]})]})]}),e.jsxs("div",{className:"mt-auto pt-6 border-t border-border",children:[e.jsxs(h,{variant:"primary",onClick:u,className:"w-full py-3 text-lg shadow-md",children:[e.jsx(i,{name:"printer",className:"mr-2 w-5 h-5"})," Print / Save PDF"]}),e.jsx("p",{className:"text-xs text-text-muted text-center mt-3",children:"Use your browser's print dialog to save as PDF."})]})]}),e.jsx("main",{className:"flex-grow p-8 bg-white text-black print:p-0 print:w-full",children:e.jsxs("div",{className:"max-w-4xl mx-auto print:max-w-none print:mx-0",children:[e.jsxs("div",{className:"mb-8 border-b-2 border-black pb-4 print:mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:r.name}),e.jsx("p",{className:"text-gray-600 mt-1",children:(b=r.description)==null?void 0:b.replace(/<[^>]+>/g,"")}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Generated by CogniFlow â€¢ ",d.length," items"]})]}),t==="table"&&e.jsx("div",{className:"space-y-4 print:space-y-2",children:d.map((s,c)=>e.jsxs("div",{className:"flex flex-col sm:flex-row border-b border-gray-300 py-4 break-inside-avoid print:py-2",style:l,children:[e.jsxs("div",{className:"w-full sm:w-1/3 pr-4 font-semibold print:w-1/3",children:[e.jsx(a,{html:s.front}),n&&s.tags.length>0&&e.jsx("div",{className:"mt-1 flex gap-1 flex-wrap",children:s.tags.map(o=>e.jsx("span",{className:"text-[0.7em] bg-gray-200 px-1 rounded",children:o},o))})]}),e.jsx("div",{className:"w-full sm:w-2/3 pl-0 sm:pl-4 mt-2 sm:mt-0 print:w-2/3 print:pl-4 print:mt-0",children:e.jsx(a,{html:s.back})})]},s.id))}),t==="cards-side"&&e.jsx("div",{className:"grid grid-cols-1 gap-4 print:block",children:d.map(s=>e.jsxs("div",{className:"flex border border-black break-inside-avoid mb-4 print:mb-2",style:{pageBreakInside:"avoid"},children:[e.jsxs("div",{className:"w-1/2 p-4 border-r border-black flex flex-col justify-center items-center text-center min-h-[150px]",style:l,children:[e.jsx(a,{html:s.front}),n&&s.tags.length>0&&e.jsx("p",{className:"text-[0.6em] text-gray-500 mt-2",children:s.tags.join(", ")})]}),e.jsx("div",{className:"w-1/2 p-4 flex flex-col justify-center items-center text-center min-h-[150px]",style:l,children:e.jsx(a,{html:s.back})})]},s.id))}),t==="cards-fold"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 print:grid-cols-2 print:gap-4",children:d.map(s=>e.jsxs("div",{className:"border border-black break-inside-avoid flex flex-col",style:{pageBreakInside:"avoid"},children:[e.jsxs("div",{className:"p-6 border-b border-black border-dashed flex-grow flex flex-col justify-center items-center text-center min-h-[180px]",style:l,children:[e.jsx(a,{html:s.front}),n&&s.tags.length>0&&e.jsx("p",{className:"text-[0.6em] text-gray-500 mt-2",children:s.tags.join(", ")})]}),e.jsx("div",{className:"p-6 flex-grow flex flex-col justify-center items-center text-center min-h-[180px]",style:l,children:e.jsx(a,{html:s.back})})]},s.id))})]})})]})};export{w as default};
