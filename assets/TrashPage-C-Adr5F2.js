import{P as g,G as v,r as N,j as e,I as a,B as l}from"./index-Db7ZDnWd.js";const r=10,f=d=>{const i=new Date(d),n=(new Date().getTime()-i.getTime())/(1e3*60*60*24);return Math.max(0,Math.ceil(r-n))},k=({onRestoreDeck:d,onRestoreSeries:i,onDeleteDeckPermanently:m,onDeleteSeriesPermanently:x,openConfirmModal:n})=>{const o=g(),h=v(),u=N.useMemo(()=>o.filter(t=>t.deletedAt),[o]),j=N.useMemo(()=>h.filter(t=>t.deletedAt),[h]),y=t=>{n({title:"Permanently Delete Deck",message:`Are you sure you want to permanently delete the deck "${t.name}"? This action cannot be undone.`,onConfirm:()=>m(t.id)})},b=t=>{const s=(t.levels||[]).reduce((w,c)=>{var p;return w+(((p=c==null?void 0:c.deckIds)==null?void 0:p.length)||0)},0);n({title:"Permanently Delete Series",message:`Are you sure you want to permanently delete the series "${t.name}"? All ${s} deck(s) inside it will also be permanently deleted. This action cannot be undone.`,onConfirm:()=>x(t.id)})};return e.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in space-y-8",children:[e.jsxs("div",{className:"border-b border-border pb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-text",children:"Trash"}),e.jsxs("p",{className:"mt-2 text-text-muted",children:["Items in the trash will be permanently deleted after ",r," days."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Trashed Series"}),j.length>0?e.jsx("div",{className:"bg-surface rounded-lg shadow-md divide-y divide-border",children:j.map(t=>{const s=f(t.deletedAt);return e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx(a,{name:"list",className:"w-6 h-6 mr-4 text-purple-500 dark:text-purple-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold truncate text-text",children:t.name}),e.jsx("p",{className:`text-sm ${s<=2?"text-red-500":"text-text-muted"}`,children:s>0?`${s} days left`:"Deleting soon..."})]})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[e.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>i(t.id),children:[e.jsx(a,{name:"unarchive",className:"w-4 h-4 mr-2"}),"Restore"]}),e.jsxs(l,{variant:"danger",size:"sm",onClick:()=>b(t),children:[e.jsx(a,{name:"trash-2",className:"w-4 h-4 mr-2"}),"Delete Now"]})]})]},t.id)})}):e.jsxs("div",{className:"text-center py-10 bg-surface rounded-lg border border-border",children:[e.jsx(a,{name:"trash-2",className:"w-12 h-12 mx-auto text-text-muted/50"}),e.jsx("h3",{className:"mt-2 text-xl font-medium text-text",children:"Trash is Empty"}),e.jsxs("p",{className:"mt-1 text-sm text-text-muted",children:["Deleted series will appear here for ",r," days."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Trashed Decks"}),u.length>0?e.jsx("div",{className:"bg-surface rounded-lg shadow-md divide-y divide-border",children:u.map(t=>{const s=f(t.deletedAt);return e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx(a,{name:t.type==="quiz"?"help-circle":"laptop",className:"w-6 h-6 mr-4 text-text-muted flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold truncate text-text",children:t.name}),e.jsx("p",{className:`text-sm ${s<=2?"text-red-500":"text-text-muted"}`,children:s>0?`${s} days left`:"Deleting soon..."})]})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[e.jsxs(l,{variant:"secondary",size:"sm",onClick:()=>d(t.id),children:[e.jsx(a,{name:"unarchive",className:"w-4 h-4 mr-2"}),"Restore"]}),e.jsxs(l,{variant:"danger",size:"sm",onClick:()=>y(t),children:[e.jsx(a,{name:"trash-2",className:"w-4 h-4 mr-2"}),"Delete Now"]})]})]},t.id)})}):e.jsxs("div",{className:"text-center py-10 bg-surface rounded-lg border border-border",children:[e.jsx(a,{name:"trash-2",className:"w-12 h-12 mx-auto text-text-muted/50"}),e.jsx("h3",{className:"mt-2 text-xl font-medium text-text",children:"Trash is Empty"}),e.jsxs("p",{className:"mt-1 text-sm text-text-muted",children:["Deleted decks will appear here for ",r," days."]})]})]})]})};export{k as default};
